(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{407:function(e,r,t){"use strict";var o=t(3),n=t(254).trim;o({target:"String",proto:!0,forced:t(408)("trim")},{trim:function(){return n(this)}})},408:function(e,r,t){"use strict";var o=t(98).PROPER,n=t(5),m=t(255);e.exports=function(e){return n(function(){return!!m[e]()||"​᠎"!=="​᠎"[e]()||o&&m[e].name!==e})}},587:function(e,r,t){"use strict";t.r(r);t(29),t(54),t(18),t(25),t(47),t(48),t(10),t(38);var o=t(0),n=t(20),m=(t(11),t(39),t(407),t(40));function c(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function d(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?c(Object(t),!0).forEach(function(r){Object(n.a)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}var l={name:"CreateProduct",layout:"ManagerLayout",middleware:["manager","roleRedirect"],data:function(){return{form:{name:"",description:"",price:null,image:null},imagePreview:null,errors:{},isSubmitting:!1}},methods:d(d({},Object(m.b)("products",["createProduct"])),{},{handleImageUpload:function(e){var r=this,t=e.target.files[0];if(t){this.form.image=t;var o=new FileReader;o.onload=function(e){r.imagePreview=e.target.result},o.readAsDataURL(t)}else this.form.image=null,this.imagePreview=null},validateForm:function(){return this.errors={},this.form.name.trim()||(this.errors.name="Անունը պարտադիր է"),this.form.description.trim()||(this.errors.description="Նկարագրությունը պարտադիր է"),(!this.form.price||this.form.price<0)&&(this.errors.price="Արժեքը պետք է լինի 0 կամ ավելի"),0===Object.keys(this.errors).length},submitForm:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark(function r(){var t,o;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(e.validateForm()){r.next=1;break}return r.abrupt("return");case 1:return e.isSubmitting=!0,r.prev=2,(t=new FormData).append("name",e.form.name),t.append("description",e.form.description),t.append("price",e.form.price),e.form.image&&t.append("image",e.form.image),r.next=3,e.createProduct(t);case 3:e.$router.push("/manager/products"),r.next=5;break;case 4:r.prev=4,o=r.catch(2),console.error("Error creating product:",o),e.errors.form="Սխալ ապրանքը ստեղծելիս: Խնդրում ենք փորձել կրկին:";case 5:return r.prev=5,e.isSubmitting=!1,r.finish(5);case 6:case"end":return r.stop()}},r,null,[[2,4,5,6]])}))()}})},f=t(8),component=Object(f.a)(l,function(){var e=this,r=e._self._c;return r("div",{staticClass:"max-w-2xl mx-auto p-6 bg-white dark:bg-gray-900 rounded-lg shadow-md"},[r("h1",{staticClass:"text-2xl font-semibold text-gray-900 dark:text-white mb-6"},[e._v("\n    Ստեղծել Նոր Ապրանք\n  ")]),e._v(" "),r("form",{staticClass:"space-y-6",on:{submit:function(r){return r.preventDefault(),e.submitForm.apply(null,arguments)}}},[r("div",[r("label",{staticClass:"block text-sm font-medium text-gray-700 dark:text-gray-300",attrs:{for:"name"}},[e._v("Անուն")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.name,expression:"form.name"}],staticClass:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm",class:{"border-red-500":e.errors.name},attrs:{id:"name",type:"text",placeholder:"Մուտքագրեք ապրանքի անունը"},domProps:{value:e.form.name},on:{input:function(r){r.target.composing||e.$set(e.form,"name",r.target.value)}}}),e._v(" "),e.errors.name?r("p",{staticClass:"mt-1 text-sm text-red-600"},[e._v("\n        "+e._s(e.errors.name)+"\n      ")]):e._e()]),e._v(" "),r("div",[r("label",{staticClass:"block text-sm font-medium text-gray-700 dark:text-gray-300",attrs:{for:"description"}},[e._v("Նկարագրություն")]),e._v(" "),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.form.description,expression:"form.description"}],staticClass:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm",class:{"border-red-500":e.errors.description},attrs:{id:"description",rows:"4",placeholder:"Մուտքագրեք ապրանքի նկարագրությունը"},domProps:{value:e.form.description},on:{input:function(r){r.target.composing||e.$set(e.form,"description",r.target.value)}}}),e._v(" "),e.errors.description?r("p",{staticClass:"mt-1 text-sm text-red-600"},[e._v("\n        "+e._s(e.errors.description)+"\n      ")]):e._e()]),e._v(" "),r("div",[r("label",{staticClass:"block text-sm font-medium text-gray-700 dark:text-gray-300",attrs:{for:"price"}},[e._v("Արժեք (դրամ)")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model.number",value:e.form.price,expression:"form.price",modifiers:{number:!0}}],staticClass:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm",class:{"border-red-500":e.errors.price},attrs:{id:"price",type:"number",min:"0",step:"1",placeholder:"Մուտքագրեք ապրանքի արժեքը"},domProps:{value:e.form.price},on:{input:function(r){r.target.composing||e.$set(e.form,"price",e._n(r.target.value))},blur:function(r){return e.$forceUpdate()}}}),e._v(" "),e.errors.price?r("p",{staticClass:"mt-1 text-sm text-red-600"},[e._v("\n        "+e._s(e.errors.price)+"\n      ")]):e._e()]),e._v(" "),r("div",[r("label",{staticClass:"block text-sm font-medium text-gray-700 dark:text-gray-300",attrs:{for:"image"}},[e._v("Պատկեր")]),e._v(" "),r("input",{staticClass:"mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 dark:file:bg-gray-700 dark:file:text-gray-300",attrs:{id:"image",type:"file",accept:"image/*"},on:{change:e.handleImageUpload}}),e._v(" "),e.errors.image?r("p",{staticClass:"mt-1 text-sm text-red-600"},[e._v("\n        "+e._s(e.errors.image)+"\n      ")]):e._e(),e._v(" "),e.imagePreview?r("img",{staticClass:"mt-4 w-32 h-32 object-cover rounded-full",attrs:{src:e.imagePreview,alt:"Image Preview"}}):e._e()]),e._v(" "),r("div",{staticClass:"flex justify-end space-x-4"},[r("button",{staticClass:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600",attrs:{type:"button"},on:{click:function(r){return e.$router.push("/manager/products")}}},[e._v("\n        Չեղարկել\n      ")]),e._v(" "),r("button",{staticClass:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 disabled:bg-blue-400 dark:bg-blue-500 dark:hover:bg-blue-600 dark:disabled:bg-blue-300",attrs:{type:"submit",disabled:e.isSubmitting}},[e._v("\n        "+e._s(e.isSubmitting?"Հաշվարկվում է...":"Ստեղծել")+"\n      ")])])])])},[],!1,null,null,null);r.default=component.exports}}]);