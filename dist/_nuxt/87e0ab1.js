(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{412:function(t,e,r){"use strict";var n=r(3),o=r(255).trim;n({target:"String",proto:!0,forced:r(413)("trim")},{trim:function(){return o(this)}})},413:function(t,e,r){"use strict";var n=r(98).PROPER,o=r(5),c=r(256);t.exports=function(t){return o(function(){return!!c[t]()||"​᠎"!=="​᠎"[t]()||n&&c[t].name!==t})}},465:function(t,e,r){var content=r(523);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(23).default)("7c17490e",content,!0,{sourceMap:!1})},522:function(t,e,r){"use strict";r(465)},523:function(t,e,r){var n=r(22)(function(i){return i[1]});n.push([t.i,"main[data-v-c8dbe51a]{min-height:calc(100vh - 5rem)}",""]),n.locals={},t.exports=n},583:function(t,e,r){"use strict";r.r(e);r(19),r(47),r(48),r(39),r(38);var n=r(20),o=(r(29),r(53),r(27),r(80),r(10),r(97),r(412),r(40));function c(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function l(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?c(Object(r),!0).forEach(function(e){Object(n.a)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var d={name:"AdminPage",layout:"EngineerLayout",middleware:["engineer","roleRedirect"],data:function(){return{searchable:"",perPage:10}},computed:l(l({},Object(o.c)("engineer",["getOrders","getPagination"])),{},{allOrders:function(){return this.getOrders||[]},pagination:function(){return this.getPagination},searchFilter:function(){var t=this.searchable.trim().toLowerCase();return""===t?this.allOrders:this.allOrders.filter(function(e){var r=e.order_number&&"string"==typeof e.order_number.number?e.order_number.number.toLowerCase():"",n=e.name&&"string"==typeof e.name?e.name.toLowerCase():"",o=e.description&&"string"==typeof e.description?e.description.toLowerCase():"",c=e.prefix_code&&"string"==typeof e.prefix_code.code?e.prefix_code.code.toLowerCase():"";return r.includes(t)||o.includes(t)||n.includes(t)||c.includes(t)})},paginationPages:function(){var t=[],e=Math.max(1,this.pagination.current_page-Math.floor(2.5)),r=Math.min(this.pagination.last_page,e+5-1);r-e+1<5&&(e=Math.max(1,r-5+1));for(var i=e;i<=r;i++)t.push(i);return t}}),watch:{searchable:function(){this.fetchOrders({page:1,perPage:this.perPage})}},created:function(){this.fetchOrders({page:1,perPage:this.perPage})},methods:l(l({},Object(o.b)("engineer",["fetchOrders"])),{},{editOrder:function(t){this.$router.push("/engineer/orders/order/".concat(t.id))},changePage:function(t){t>=1&&t<=this.pagination.last_page&&this.fetchOrders({page:t,perPage:this.perPage})},formatDate:function(t){return t?new Date(t).toLocaleString("hy-AM",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"null"},calculateTotalQuantity:function(t){return t&&Array.isArray(t)?t.reduce(function(t,e){return t+(e.quantity||0)},0):0}})},_=(r(522),r(7)),component=Object(_.a)(d,function(){var t=this,e=t._self._c;return e("main",{staticClass:"flex flex-row flex-wrap p-4 h-auto pt-20"},[e("div",{staticClass:"w-full mb-4"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchable,expression:"searchable"}],staticClass:"w-full max-w-md p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",attrs:{type:"text",placeholder:"Փնտրել պատվերներ..."},domProps:{value:t.searchable},on:{input:function(e){e.target.composing||(t.searchable=e.target.value)}}})]),t._v(" "),t.searchFilter.length?[e("table",{staticClass:"w-full text-sm bg-amber-50 border-b-gray-500 text-left rtl:text-right text-gray-500 dark:text-gray-400"},[t._m(0),t._v(" "),e("tbody",{staticClass:"bg-amber-50"},t._l(t.searchFilter,function(r,n){var o,c;return e("tr",{key:n,staticClass:"border-b border-gray-200 dark:border-gray-700"},[r.id?e("th",{staticClass:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap bg-gray-50 dark:text-white dark:bg-gray-800",attrs:{scope:"row"}},[t._v("\n            "+t._s(r.id)+"\n          ")]):t._e(),t._v(" "),r.created_at?e("td",{staticClass:"px-6 py-4"},[t._v("\n            "+t._s(t.formatDate(r.created_at))+"\n          ")]):t._e(),t._v(" "),e("td",{staticClass:"px-6 py-4"},[t._v("\n            "+t._s(null!==(o=r.dates)&&void 0!==o&&o.finish_date?t.formatDate(r.dates.finish_date):"null")+"\n          ")]),t._v(" "),r.order_number?e("td",{staticClass:"px-6 py-4"},[t._v("\n            "+t._s(r.order_number.number)+"\n          ")]):t._e(),t._v(" "),r.prefix_code?e("td",{staticClass:"px-6 py-4"},[t._v("\n            "+t._s(r.prefix_code.code)+"\n          ")]):t._e(),t._v(" "),r.status?e("td",{staticClass:"px-6 py-4"},[t._v("\n            "+t._s(r.status)+"\n          ")]):t._e(),t._v(" "),r.name?e("td",{staticClass:"px-6 py-4"},[t._v("\n            "+t._s(r.name)+"\n          ")]):t._e(),t._v(" "),r.store_link?e("td",{staticClass:"px-12"},[e("a",{staticClass:"hover:!text-blue-700",attrs:{href:null===(c=r.store_link)||void 0===c?void 0:c.url}},[t._v("Link")])]):t._e(),t._v(" "),e("td",{staticClass:"px-12 text-indigo-500 border-indigo-500 hover:bg-indigo-500 hover:text-indigo-50 cursor-pointer",on:{click:function(e){return t.editOrder(r)}}},[t._v("\n            Դիտել\n          ")])])}),0)])]:e("div",{staticClass:"w-full text-center text-gray-500 py-4"},[t._v("\n    Պատվերներ չեն գտնվել\n  ")]),t._v(" "),t.pagination.total>0?e("div",{staticClass:"w-full mt-4 flex justify-between items-center"},[e("div",{staticClass:"text-sm text-gray-600"},[t._v("\n      Ցուցադրվում է "+t._s(t.pagination.from)+" - "+t._s(t.pagination.to)+" ընդհանուր "+t._s(t.pagination.total)+"-ից\n    ")]),t._v(" "),e("div",{staticClass:"flex space-x-2"},[e("button",{staticClass:"px-3 py-1 bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",attrs:{disabled:1===t.pagination.current_page},on:{click:function(e){return t.changePage(t.pagination.current_page-1)}}},[t._v("\n        Նախորդ\n      ")]),t._v(" "),t._l(t.paginationPages,function(r){return e("button",{key:r,class:["px-3 py-1 rounded",t.pagination.current_page===r?"bg-blue-500 text-white":"bg-gray-200 hover:bg-gray-300"],on:{click:function(e){return t.changePage(r)}}},[t._v("\n        "+t._s(r)+"\n      ")])}),t._v(" "),e("button",{staticClass:"px-3 py-1 bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50",attrs:{disabled:t.pagination.current_page===t.pagination.last_page},on:{click:function(e){return t.changePage(t.pagination.current_page+1)}}},[t._v("\n        Հաջորդ\n      ")])],2)]):t._e()],2)},[function(){var t=this,e=t._self._c;return e("thead",{staticClass:"text-xs text-gray-700 bg-gray-300 uppercase dark:text-gray-400"},[e("tr",{staticClass:"border-b-neutral-700"},[e("th",{staticClass:"px-3 py-3",attrs:{scope:"col"}},[t._v("Id")]),t._v(" "),e("th",{staticClass:"px-3 py-3",attrs:{scope:"col"}},[t._v("Ստեղծման ամսաթիվը")]),t._v(" "),e("th",{staticClass:"px-3 py-3",attrs:{scope:"col"}},[t._v("Անհրաժեշտ ավարտի ժամանակը")]),t._v(" "),e("th",{staticClass:"px-3 py-3",attrs:{scope:"col"}},[t._v("Պատվերի համարը")]),t._v(" "),e("th",{staticClass:"px-3 py-3",attrs:{scope:"col"}},[t._v("Prefix code")]),t._v(" "),e("th",{staticClass:"px-3 py-3",attrs:{scope:"col"}},[t._v("Կարգավիճակ")]),t._v(" "),e("th",{staticClass:"px-3 py-3",attrs:{scope:"col"}},[t._v("Անուն")]),t._v(" "),e("th",{staticClass:"px-3 py-3",attrs:{scope:"col"}}),t._v(" "),e("th",{staticClass:"px-3 py-3",attrs:{scope:"col"}})])])}],!1,null,"c8dbe51a",null);e.default=component.exports}}]);