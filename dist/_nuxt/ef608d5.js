(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{574:function(t,e,r){"use strict";var n=r(4),o=r(405).trim;n({target:"String",proto:!0,forced:r(575)("trim")},{trim:function(){return o(this)}})},575:function(t,e,r){"use strict";var n=r(112).PROPER,o=r(6),l=r(406);t.exports=function(t){return o(function(){return!!l[t]()||"​᠎"!=="​᠎"[t]()||n&&l[t].name!==t})}},623:function(t,e,r){var content=r(654);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(57).default)("819ef306",content,!0,{sourceMap:!1})},653:function(t,e,r){"use strict";r(623)},654:function(t,e,r){var n=r(56)(function(i){return i[1]});n.push([t.i,".animate-pulse[data-v-1a9b7a34]{animation:pulse-1a9b7a34 2s cubic-bezier(.4,0,.6,1) infinite}@keyframes pulse-1a9b7a34{0%,to{opacity:1}50%{opacity:.7}}",""]),n.locals={},t.exports=n},710:function(t,e,r){"use strict";r.r(e);r(24),r(43),r(41),r(17),r(33),r(38),r(49),r(403),r(8),r(52),r(574);var n={props:{order:{type:Object,required:!0}},computed:{filesCount:function(){var t=(this.order.selected_files||[]).reduce(function(a,s){return a+(Number(s.quantity)||1)},0);return t>0?t:(this.order.factory_orders||[]).reduce(function(t,e){return t+(e.files||[]).reduce(function(b,t){var e,q=(null===(e=t.pivot)||void 0===e?void 0:e.quantity)||t.quantity||1;return b+Number(q)},0)},0)},overallStatusText:function(){var t=(this.order.factory_orders||[]).map(function(t){var e;return null===(e=t.status)||void 0===e?void 0:e.toLowerCase().trim()});return 0===t.length?"Չկա":t.includes("canceled")?"Չեղարկված":t.every(function(s){return"done"===s||"completed"===s||"confirmed"===s})?"Ավարտված":t.some(function(s){return"pending"===s||"in_progress"===s})?"Ընթացքում":"Այլ"},overallStatusClass:function(){var t=(this.order.factory_orders||[]).map(function(t){var e;return null===(e=t.status)||void 0===e?void 0:e.toLowerCase().trim()});return t.includes("canceled")?"bg-rose-600":t.every(function(s){return["done","completed","confirmed"].includes(s)})?"bg-emerald-600":t.some(function(s){return["pending","in_progress"].includes(s)})?"bg-amber-600":"bg-blue-600"},deadlineClass:function(){var t,e=null===(t=this.order.dates)||void 0===t?void 0:t.finish_date;if(!e)return"text-gray-500";var r=this.hoursUntil(e);return r<0?"text-rose-600 font-bold animate-pulse":r<=24?"text-orange-600 font-bold":"text-gray-500"},cardBorderClass:function(){var t,e=null===(t=this.order.dates)||void 0===t?void 0:t.finish_date;if(!e)return"border-gray-200 dark:border-gray-800";var r=this.hoursUntil(e);return r<0?"border-rose-500 border-4 shadow-rose-500/20":r<=24?"border-orange-500 border-3 shadow-orange-500/20":"border-gray-200 dark:border-gray-800"}},methods:{formatDate:function(t){return t?new Date(t).toLocaleDateString("hy-AM"):"—"},formatDeadline:function(t){if(!t)return"—";var e=new Date(t),r=e-new Date,n=Math.floor(r/864e5),o=Math.floor(r%864e5/36e5);return r<0?"Անցել է ժամկետը":0===n?"Այսօր ".concat(e.toLocaleTimeString("hy-AM",{hour:"2-digit",minute:"2-digit"})):1===n?"Վաղը":"".concat(n," օր ").concat(o," ժամ")},hoursUntil:function(t){return t?(new Date(t)-new Date)/36e5:1/0},formatStatus:function(t){if(!t)return"—";return{pending:"Սպասում",in_progress:"Ընթացքում",done:"Ավարտված",completed:"Ավարտված",confirmed:"Հաստատված",canceled:"Չեղարկված","Ավարտել":"Ավարտված"}[t.toLowerCase().trim()]||t},factoryStatusClass:function(t){if(!t)return"bg-gray-500";var s=t.toLowerCase().trim();return s.includes("canceled")?"bg-rose-600":["done","completed","confirmed","Ավարտել"].some(function(t){return s.includes(t)})?"bg-emerald-600":["pending","in_progress"].some(function(t){return s.includes(t)})?"bg-amber-600":"bg-blue-600"},factoryColorClass:function(t){return{DXF:"bg-purple-600",DLD:"bg-indigo-600",CNC:"bg-pink-600",Bend:"bg-indigo-600","Laser cutting":"bg-purple-600"}[t]||"bg-gray-600"}}},o=(r(653),r(32)),component=Object(o.a)(n,function(){var t,e,r,n,o,l,d=this,c=d._self._c;return c("div",{staticClass:"group bg-white dark:bg-gray-900 rounded-2xl shadow-sm border-2 transition-all duration-300 p-5 hover:shadow-xl",class:d.cardBorderClass},[c("div",{staticClass:"flex items-start justify-between gap-4"},[c("div",{staticClass:"flex-1"},[c("div",{staticClass:"text-xs uppercase tracking-wider text-gray-400 mb-1"},[d._v("\n        #"+d._s((null===(t=d.order.order_number)||void 0===t?void 0:t.number)||"—")+" ·\n        "+d._s((null===(e=d.order.prefix_code)||void 0===e?void 0:e.code)||"—")+"\n      ")]),d._v(" "),c("h3",{staticClass:"text-lg font-semibold text-gray-900 dark:text-gray-100"},[d._v("\n        "+d._s(d.order.name||"Անանուն պատվեր")+"\n      ")])]),d._v(" "),c("div",{staticClass:"flex flex-col items-end gap-2"},[c("span",{staticClass:"px-3 py-1 rounded-full text-xs font-medium text-white",class:d.overallStatusClass},[d._v("\n        "+d._s(d.overallStatusText)+"\n      ")]),d._v(" "),c("span",{staticClass:"px-2.5 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-700 dark:bg-blue-900/40 dark:text-blue-300",attrs:{title:"Ստեղծող"}},[d._v("\n        "+d._s(null!==(r=null===(n=d.order.creator)||void 0===n?void 0:n.name)&&void 0!==r?r:"ID: ".concat(null!==(o=d.order.creator_id)&&void 0!==o?o:"—"))+"\n      ")])])]),d._v(" "),c("p",{staticClass:"mt-3 text-sm text-gray-600 dark:text-gray-300 line-clamp-2"},[d._v("\n    "+d._s(d.order.description||"—")+"\n  ")]),d._v(" "),c("div",{staticClass:"mt-4 space-y-2"},d._l(d.order.factory_orders,function(t,e){var r,n,o,l;return c("div",{key:e,staticClass:"flex items-center justify-between text-xs"},[c("div",{staticClass:"flex items-center gap-2"},[c("div",{staticClass:"w-7 h-E rounded-full ring-2 ring-white dark:ring-gray-900 flex items-center justify-center text-white text-[10px] font-bold",class:d.factoryColorClass(null===(r=t.factory)||void 0===r?void 0:r.value),attrs:{title:null===(n=t.factory)||void 0===n?void 0:n.name}},[d._v("\n          "+d._s(((null===(o=t.factory)||void 0===o?void 0:o.name)||"F")[0])+"\n        ")]),d._v(" "),c("span",{staticClass:"text-gray-600 dark:text-gray-400"},[d._v(d._s(null===(l=t.factory)||void 0===l?void 0:l.name))])]),d._v(" "),c("span",{staticClass:"px-3 py-1 rounded-full text-xs font-medium text-white",class:d.factoryStatusClass(t.status)},[d._v("\n        "+d._s(d.formatStatus(t.status))+"\n      ")])])}),0),d._v(" "),c("div",{staticClass:"mt-5 grid grid-cols-2 gap-3 text-xs text-gray-500 dark:text-gray-400"},[c("div",{staticClass:"flex items-center gap-2"},[c("svg",{staticClass:"w-4 h-4 opacity-80",attrs:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"}},[c("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3M3 11h18M5 19h14a2 2 0 0 0 2-2v-6H3v6a2 2 0 0 0 2 2Z"}})]),d._v(" "),c("span",[d._v("Ստեղծվել՝ "+d._s(d.order.created_at))])]),d._v(" "),c("div",{staticClass:"flex items-center gap-2"},[c("svg",{staticClass:"w-4 h-4 opacity-80",attrs:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"}},[c("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 7l9 6 9-6-9-4-9 4Zm0 0v10l9 4 9-4V7"}})]),d._v(" "),c("span",[d._v("Ֆայլեր՝ "+d._s(d.filesCount))])]),d._v(" "),c("div",{staticClass:"flex items-center gap-2 col-span-2"},[c("svg",{staticClass:"w-4 h-4",attrs:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"}},[c("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"}})]),d._v(" "),c("span",{class:d.deadlineClass},[d._v("\n        Ավարտ՝ "+d._s(d.formatDeadline(null===(l=d.order.dates)||void 0===l?void 0:l.finish_date))+"\n      ")])])]),d._v(" "),c("div",{staticClass:"mt-5 flex items-center justify-between"},[c("div",{staticClass:"flex -space-x-2"},d._l((d.order.factory_orders||[]).slice(0,3),function(t,e){var r,n,o;return c("div",{key:e,staticClass:"w-8 h-8 rounded-full ring-2 ring-white dark:ring-gray-900 flex items-center justify-center text-white text-xs font-bold",class:d.factoryColorClass(null===(r=t.factory)||void 0===r?void 0:r.value),attrs:{title:null===(n=t.factory)||void 0===n?void 0:n.name}},[d._v("\n        "+d._s(((null===(o=t.factory)||void 0===o?void 0:o.name)||"F")[0])+"\n      ")])}),0),d._v(" "),c("button",{staticClass:"px-5 py-2 rounded-xl bg-blue-600 text-white text-sm font-medium hover:bg-blue-700 active:scale-95 transition",on:{click:function(t){return d.$emit("open",d.order)}}},[d._v("\n      Բացել\n    ")])])])},[],!1,null,"1a9b7a34",null);e.default=component.exports}}]);