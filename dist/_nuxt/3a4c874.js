(window.webpackJsonp=window.webpackJsonp||[]).push([[71,30,38,51],{578:function(e,t,r){"use strict";r.r(t);r(403);var n={name:"InputWithLabelIcon",props:{label:{type:String,default:""},label_Id:{type:String,default:""},for_LAbel:{type:String,default:""},type:{type:String,default:""},value:{type:[String,Array,Number],default:""},placeholder:{type:String,default:""},classes:{type:String,default:""},label_class:{type:[String,Object],default:""},disabled:{type:Boolean,default:!1}}},l=r(32),component=Object(l.a)(n,function(){var e=this,t=e._self._c;return t("div",{staticClass:"relative"},[t("span",{staticClass:"absolute start-1 bottom-3 text-gray-500 dark:text-gray-400"},[e._t("label_svg")],2),e._v(" "),t("input",{staticClass:"block py-2.5 ps-6 pe-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer",class:e.classes,attrs:{id:e.label_Id,type:e.type,placeholder:e.placeholder,disabled:e.disabled},domProps:{value:e.value},on:{input:function(t){return e.$emit("input",t.target.value)}}}),e._v(" "),t("label",{staticClass:"absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-2 z-10 origin-[0] start-0 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto",class:e.label_class,attrs:{for:e.for_LAbel}},[e._v("\n    "+e._s(e.label)+"\n  ")])])},[],!1,null,"faa5144a",null);t.default=component.exports},616:function(e,t,r){"use strict";r.r(t);var n=r(1),l=(r(9),r(33),r(49),r(17),r(403),r(582),r(27),r(8),r(598),r(30),r(570)),o=r(589),d=r(597),c=r(645),f={name:"DxfCanvasViewer",props:{dxfUrl:{type:String,required:!0},fileMeta:{type:Object,default:null},showLaserInfo:{type:Boolean,default:!0}},data:function(){return{scene:null,camera:null,renderer:null,controls:null,dxfGroup:null,error:null,raf:null,laserLengthMm:0}},computed:{laserLengthMmRounded:function(){return this.laserLengthMm?Number(this.laserLengthMm.toFixed(1)):0},materialInfo:function(){if(!this.fileMeta)return"";var e=this.fileMeta.material_type||this.fileMeta.material||this.fileMeta.materialType||"",th=this.fileMeta.thickness||"";return e&&th?"".concat(e," (").concat(th,")"):e||th||""}},watch:{dxfUrl:function(){this.loadDxfFile()}},mounted:function(){this.initThree(),this.loadDxfFile(),window.addEventListener("resize",this.onResize)},beforeDestroy:function(){window.removeEventListener("resize",this.onResize),this.cleanupThree()},methods:{initThree:function(){var e=this,canvas=this.$refs.canvas,t=canvas.clientWidth||960,r=canvas.clientHeight||600;this.scene=new l.ld,this.camera=new l.lc(60,t/r,.1,5e4),this.camera.position.set(0,0,500),this.renderer=new o.a({canvas:canvas,antialias:!0}),this.renderer.setClearColor(16777215,1),this.renderer.setPixelRatio(window.devicePixelRatio||1),this.renderer.setSize(t,r,!1),this.controls=new c.a(this.camera,canvas),this.controls.enableDamping=!0,this.controls.dampingFactor=.08,this.scene.add(new l.i(16777215,1));var n=function(){e.raf=requestAnimationFrame(n),e.controls.update(),e.renderer.render(e.scene,e.camera)};n()},onResize:function(){if(this.renderer&&this.camera){var canvas=this.$refs.canvas,e=canvas.clientWidth||960,t=canvas.clientHeight||600;this.camera.aspect=e/t,this.camera.updateProjectionMatrix(),this.renderer.setSize(e,t,!1)}},cleanupThree:function(){var e,t,r,n;this.raf&&cancelAnimationFrame(this.raf),null===(e=this.controls)||void 0===e||null===(t=e.dispose)||void 0===t||t.call(e),null===(r=this.renderer)||void 0===r||null===(n=r.dispose)||void 0===n||n.call(r),this.dxfGroup&&this.dxfGroup.traverse(function(e){var t,r,n,l;null===(t=e.geometry)||void 0===t||null===(r=t.dispose)||void 0===r||r.call(t),Array.isArray(e.material)?e.material.forEach(function(e){var t;return null==e||null===(t=e.dispose)||void 0===t?void 0:t.call(e)}):null===(n=e.material)||void 0===n||null===(l=n.dispose)||void 0===l||l.call(n)}),this.scene=this.camera=this.renderer=this.controls=this.dxfGroup=null,this.laserLengthMm=0},loadDxfFile:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark(function t(){var r,data,n,l,o,d;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.error=null,e.cleanupThree(),e.initThree(),e.laserLengthMm=0,t.next=1,e.$axios.get("/api/factories/getFile/".concat(e.dxfUrl));case 1:if(r=t.sent,data=r.data,200===(n=r.status)){t.next=2;break}throw new Error("HTTP ".concat(n));case 2:l=atob(data.content);try{o=JSON.parse(l),l=null!=o&&o.content?atob(o.content):l}catch(e){}e.parseDxf(l),t.next=4;break;case 3:t.prev=3,d=t.catch(0),console.error(d),e.error=d.message||"Չհաջողվեց բեռնել DXF-ը",e.$notify({text:e.error,type:"error",duration:4e3});case 4:case"end":return t.stop()}},t,null,[[0,3]])}))()},parseDxf:function(e){var t=this;try{var r,n=(new d.a).parseSync(e);this.dxfGroup&&this.scene.remove(this.dxfGroup),this.dxfGroup=new l.hb,this.laserLengthMm=0;var o=new l.qb({color:0}),c=new l.qb({color:1982639}),f=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.dxfGroup,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;try{var h,m;if("LINE"===e.type){var v,x,y=(null===(v=e.vertices)||void 0===v?void 0:v[0])||e.start,w=(null===(x=e.vertices)||void 0===x?void 0:x[1])||e.end;if(!y||!w)return;var _=new l.Jd(y.x,y.y,0),F=new l.Jd(w.x,w.y,0),k=(new l.p).setFromPoints([_,F]);r.add(new l.pb(k,o)),t.laserLengthMm+=_.distanceTo(F)*d}else if("LWPOLYLINE"===e.type||"POLYLINE"===e.type){if(!e.vertices||e.vertices.length<2)return;var C=e.vertices.map(function(e){return new l.Jd(e.x,e.y,0)});(e.closed||e.shape)&&C.push(C[0]);var M=(new l.p).setFromPoints(C);r.add(new l.pb(M,o));for(var i=1;i<C.length;i++)t.laserLengthMm+=C[i].distanceTo(C[i-1])*d}else if("CIRCLE"===e.type){var D=new l.t(e.radius,64);D.translate(e.center.x,e.center.y,0);var I=new l.R(D);r.add(new l.rb(I,o)),t.laserLengthMm+=2*Math.PI*e.radius*d}else if("ARC"===e.type){var O=l.Bb.degToRad(e.startAngle),j=l.Bb.degToRad(e.endAngle),P=new l.j(e.center.x,e.center.y,e.radius,O,j,j<O).getPoints(64).map(function(p){return new l.Jd(p.x,p.y,0)}),z=(new l.p).setFromPoints(P);r.add(new l.pb(z,o));for(var L=1;L<P.length;L++)t.laserLengthMm+=P[L].distanceTo(P[L-1])*d}else if("SPLINE"===e.type&&(null===(h=e.controlPoints)||void 0===h?void 0:h.length)>=2){var S=e.controlPoints.map(function(p){return new l.Jd(p.x,p.y,0)}),R=new l.r(S);R.tension=.5;var T=R.getPoints(100),$=(new l.p).setFromPoints(T);r.add(new l.pb($,c));for(var B=1;B<T.length;B++)t.laserLengthMm+=T[B].distanceTo(T[B-1])*d}else if("ELLIPSE"===e.type){var A=new l.S(e.center.x,e.center.y,e.majorRadius,e.minorRadius,e.startAngle||0,e.endAngle||2*Math.PI,!1,0).getPoints(100).map(function(p){return new l.Jd(p.x,p.y,0)}),U=(new l.p).setFromPoints(A);r.add(new l.pb(U,o));for(var N=1;N<A.length;N++)t.laserLengthMm+=A[N].distanceTo(A[N-1])*d}else if("INSERT"===e.type&&null!==(m=n.blocks)&&void 0!==m&&m[e.name]){var E,G,J,H=n.blocks[e.name],W=new l.hb,X=(null===(E=e.scale)||void 0===E?void 0:E.x)||e.xScale||1,V=(null===(G=e.scale)||void 0===G?void 0:G.y)||e.yScale||1,s=(X+V)/2||1;null===(J=H.entities)||void 0===J||J.forEach(function(e){return f(e,W,d*s)}),e.position&&W.position.set(e.position.x,e.position.y,0),e.rotation&&(W.rotation.z=l.Bb.degToRad(e.rotation)),W.scale.set(X||1,V||1,1),r.add(W)}}catch(t){console.warn("Entity error:",e.type,t)}};if(null===(r=n.entities)||void 0===r||r.forEach(function(e){return f(e)}),0===this.dxfGroup.children.length){var h,m,v,x=(null===(h=n.blocks)||void 0===h?void 0:h["*Model_Space"])||(null===(m=n.blocks)||void 0===m?void 0:m["*Paper_Space"]);null==x||null===(v=x.entities)||void 0===v||v.forEach(function(e){return f(e)})}if(this.scene.add(this.dxfGroup),this.dxfGroup.children.length>0){var y=(new l.m).setFromObject(this.dxfGroup),w=y.getCenter(new l.Jd),_=y.getSize(new l.Jd);this.dxfGroup.position.sub(w);var F=(Math.max(_.x,_.y)||100)/(2*Math.tan(this.camera.fov*Math.PI/180/2))*1.4;this.camera.position.set(0,0,Math.max(F,50)),this.camera.lookAt(0,0,0),this.controls.target.set(0,0,0),this.controls.update()}else this.error="DXF-ը դատարկ է կամ չի պարունակում գծագրեր"}catch(e){console.error("DXF parse error:",e),this.error=e.message||"DXF-ը չի կարող մշակվել",this.$notify({text:this.error,type:"error",duration:5e3})}}}},h=f,m=r(32),component=Object(m.a)(h,function(){var e=this,t=e._self._c;return t("div",{staticClass:"w-full h-full relative"},[t("button",{staticClass:"absolute top-3 right-3 flex items-center justify-center rounded-lg text-sm transition",on:{click:function(t){return e.$emit("close")}}},[t("svg",{staticClass:"hover:animate-pulse",attrs:{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"30",height:"30",viewBox:"0 0 48 48"}},[t("path",{attrs:{fill:"#F44336",d:"M21.5 4.5H26.501V43.5H21.5z",transform:"rotate(45.001 24 24)"}}),e._v(" "),t("path",{attrs:{fill:"#F44336",d:"M21.5 4.5H26.5V43.501H21.5z",transform:"rotate(135.008 24 24)"}})])]),e._v(" "),t("canvas",{ref:"canvas",staticClass:"w-full h-full block"}),e._v(" "),e.showLaserInfo&&e.laserLengthMmRounded>0?t("div",{staticClass:"absolute left-2 top-2 px-3 py-1.5 rounded-lg bg-black/70 text-[11px] text-white backdrop-blur-sm flex flex-col gap-0.5 max-w-[280px]"},[e.materialInfo?t("div",{staticClass:"font-medium truncate"},[e._v("\n      "+e._s(e.materialInfo)+"\n    ")]):e._e(),e._v(" "),t("div",{staticClass:"opacity-80"},[e._v("\n      Գծամետրում՝\n      "),t("span",{staticClass:"font-semibold"},[e._v(e._s(e.laserLengthMmRounded))]),e._v("\n      մմ\n    ")])]):e._e(),e._v(" "),e.error?t("div",{staticClass:"absolute left-2 bottom-2 px-2 py-1 text-xs rounded bg-red-600 text-white"},[e._v("\n    DXF սխալ — "+e._s(e.error)+"\n  ")]):e._e(),e._v(" "),t("notifications")],1)},[],!1,null,null,null);t.default=component.exports},642:function(e,t,r){var content=r(675);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(57).default)("7b1742ef",content,!0,{sourceMap:!1})},643:function(e,t,r){var content=r(677);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(57).default)("f279fbf8",content,!0,{sourceMap:!1})},674:function(e,t,r){"use strict";r(642)},675:function(e,t,r){var n=r(56)(function(i){return i[1]});n.push([e.i,".fade-enter-active[data-v-ed750fce],.fade-leave-active[data-v-ed750fce]{transition:opacity .18s ease}.fade-enter-from[data-v-ed750fce],.fade-leave-to[data-v-ed750fce]{opacity:0}.zoom-enter-active[data-v-ed750fce],.zoom-leave-active[data-v-ed750fce]{transition:transform .18s ease,opacity .18s ease}.zoom-enter-from[data-v-ed750fce],.zoom-leave-to[data-v-ed750fce]{opacity:0;transform:scale(.98)}",""]),n.locals={},e.exports=n},676:function(e,t,r){"use strict";r(643)},677:function(e,t,r){var n=r(56)(function(i){return i[1]});n.push([e.i,".fade-enter-active[data-v-425c4a72],.fade-leave-active[data-v-425c4a72]{transition:opacity .2s ease}.fade-enter-from[data-v-425c4a72],.fade-leave-to[data-v-425c4a72]{opacity:0}.zoom-enter-active[data-v-425c4a72],.zoom-leave-active[data-v-425c4a72]{transition:transform .18s ease,opacity .18s ease}.zoom-enter-from[data-v-425c4a72],.zoom-leave-to[data-v-425c4a72]{opacity:0;transform:scale(.98)}",""]),n.locals={},e.exports=n},698:function(e,t,r){var content=r(751);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(57).default)("3c27e55f",content,!0,{sourceMap:!1})},721:function(e,t,r){"use strict";r.r(t);var n={name:"PopupModal",props:{isOpenModal:{type:Boolean,default:!1},text:{type:String,default:""}}},l=(r(674),r(32)),component=Object(l.a)(n,function(){var e=this,t=e._self._c;return t("div",[t("transition",{attrs:{name:"fade"}},[e.isOpenModal?t("div",{staticClass:"fixed inset-0 bg-black/50 z-40",attrs:{"aria-hidden":"true"}}):e._e()]),e._v(" "),t("transition",{attrs:{name:"zoom"}},[e.isOpenModal?t("div",{staticClass:"fixed inset-0 z-50 flex items-center justify-center p-4",attrs:{role:"dialog","aria-modal":"true"}},[t("div",{staticClass:"relative w-full max-w-md bg-white rounded-2xl shadow-2xl overflow-hidden"},[t("button",{staticClass:"absolute top-3 right-3 z-40 text-gray-600 hover:text-gray-800 transition-colors bg-white rounded-full p-2 shadow-sm",attrs:{type:"button","aria-label":"Close"},on:{click:function(t){return e.$emit("close-modal")}}},[t("svg",{staticClass:"w-5 h-5",attrs:{viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[t("path",{attrs:{d:"M1 1l12 12M13 1L1 13",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"}})])]),e._v(" "),t("div",{staticClass:"p-6 text-center"},[t("svg",{staticClass:"mx-auto mb-4 text-gray-400 w-12 h-12",attrs:{"aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20"}},[t("path",{attrs:{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 11V6m0 8h.01M19 10a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}})]),e._v(" "),t("h3",{staticClass:"mb-5 text-lg font-medium text-gray-700"},[e._v(e._s(e.text))]),e._v(" "),t("div",{staticClass:"flex justify-center gap-3"},[t("button",{staticClass:"px-5 py-2.5 bg-red-600 hover:bg-red-700 text-white font-medium rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2",attrs:{type:"button"},on:{click:function(t){return e.$emit("confirm")}}},[e._v("\n              Այո ջնջել\n            ")]),e._v(" "),t("button",{staticClass:"px-5 py-2.5 bg-gray-100 hover:bg-gray-200 text-gray-900 font-medium rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-300 focus:ring-offset-2",attrs:{type:"button"},on:{click:function(t){return e.$emit("close-modal")}}},[e._v("\n              Ոչ, չեղարկել\n            ")])])])])]):e._e()])],1)},[],!1,null,"ed750fce",null);t.default=component.exports},722:function(e,t,r){"use strict";r.r(t);r(33),r(17),r(582);var n={name:"AddFileModal",props:{isOpenModal:{type:Boolean,default:!1},text:{type:String,default:""},isDxfFile:{type:Boolean,default:!1},file:{type:Object,default:function(){return{name:"",size:0}}}},computed:{hasFile:function(){var e;return!(null===(e=this.file)||void 0===e||!e.name)},fileName:function(){var e;return(null===(e=this.file)||void 0===e?void 0:e.name)||""},fileSize:function(){var e,t=(null===(e=this.file)||void 0===e?void 0:e.size)||0;if(0===t)return"0 Bytes";var i=Math.floor(Math.log(t)/Math.log(1024));return"".concat(parseFloat((t/Math.pow(1024,i)).toFixed(2))," ").concat(["Bytes","KB","MB","GB"][i])}},methods:{onDrop:function(e){var t,r=null===(t=e.dataTransfer)||void 0===t||null===(t=t.files)||void 0===t?void 0:t[0];r&&this.$emit("dropped",r)}}},l=(r(676),r(32)),component=Object(l.a)(n,function(){var e=this,t=e._self._c;return t("div",[t("transition",{attrs:{name:"fade"}},[e.isOpenModal?t("div",{staticClass:"fixed inset-0 bg-black/50 z-40",attrs:{"aria-hidden":"true"}}):e._e()]),e._v(" "),t("transition",{attrs:{name:"zoom"}},[e.isOpenModal?t("div",{staticClass:"fixed inset-0 z-50 flex items-center justify-center p-4",attrs:{role:"dialog","aria-modal":"true"}},[t("div",{staticClass:"relative w-full max-w-4xl max-h-[90vh] bg-white rounded-2xl shadow-2xl flex flex-col overflow-hidden"},[t("button",{staticClass:"absolute top-4 right-4 z-40 text-gray-600 hover:text-gray-800 transition-colors bg-white rounded-full p-2 shadow-sm",attrs:{type:"button","aria-label":"Close"},on:{click:function(t){return e.$emit("closeModal")}}},[t("svg",{staticClass:"w-5 h-5",attrs:{viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[t("path",{attrs:{d:"M1 1l12 12M13 1L1 13",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"}})])]),e._v(" "),t("div",{staticClass:"flex-1 p-5 sm:p-6 md:p-8 flex flex-col items-stretch gap-6 overflow-y-auto"},[e.isDxfFile?t("div",{staticClass:"grid grid-cols-1 md:grid-cols-3 gap-4"},[t("div",{staticClass:"bg-gray-50 rounded-lg p-4"},[e._t("quantity")],2),e._v(" "),t("div",{staticClass:"bg-gray-50 rounded-lg p-4"},[e._t("materialType")],2),e._v(" "),t("div",{staticClass:"bg-gray-50 rounded-lg p-4"},[e._t("thickness")],2)]):e._e(),e._v(" "),t("label",{staticClass:"w-full max-w-2xl mx-auto cursor-pointer",on:{dragover:function(e){e.preventDefault()},drop:function(t){return t.preventDefault(),e.onDrop.apply(null,arguments)}}},[t("div",{staticClass:"border-2 border-dashed rounded-xl p-8 text-center transition-colors",class:e.hasFile?"border-green-500":"border-gray-300 hover:border-blue-500"},[t("div",{staticClass:"flex flex-col items-center justify-center gap-2"},[t("svg",{staticClass:"h-10 w-10",class:e.hasFile?"text-green-500":"text-gray-400",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"}},[t("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6h.1a5 5 0 011 9.9M15 13l-3-3-3 3m3-3v12"}})]),e._v(" "),e.hasFile?[t("div",{staticClass:"flex items-center text-green-700 font-medium"},[t("svg",{staticClass:"h-5 w-5 mr-1",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"}},[t("path",{attrs:{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"}})]),e._v("\n                    "+e._s(e.fileName)+"\n                  ")]),e._v(" "),t("div",{staticClass:"text-sm text-gray-500"},[e._v(e._s(e.fileSize))])]:[t("span",{staticClass:"text-gray-700 font-medium"},[e._v("Սեղմեք՝ ֆայլ ընտրելու համար")]),e._v(" "),t("span",{staticClass:"text-xs text-gray-500"},[e._v("կամ տեղափոխեք ֆայլը այստեղ")])]],2),e._v(" "),e._t("file-input")],2)]),e._v(" "),t("p",{staticClass:"text-center text-gray-600 text-sm"},[e._v(e._s(e.text))])]),e._v(" "),t("div",{staticClass:"bg-gray-50 px-4 sm:px-6 py-3 flex justify-center gap-3"},[t("button",{staticClass:"px-5 py-2.5 bg-green-600 hover:bg-green-700 text-white font-medium rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2",attrs:{type:"button"},on:{click:function(t){return e.$emit("createFile")}}},[e._v("\n            Ավելացնել ֆայլ\n          ")]),e._v(" "),t("button",{staticClass:"px-5 py-2.5 bg-red-600 hover:bg-red-700 text-white font-medium rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2",attrs:{type:"button"},on:{click:function(t){return e.$emit("closeModal")}}},[e._v("\n            Մաքրել\n          ")])])])]):e._e()])],1)},[],!1,null,"425c4a72",null);t.default=component.exports},750:function(e,t,r){"use strict";r(698)},751:function(e,t,r){var n=r(56)(function(i){return i[1]});n.push([e.i,".fade-enter-active[data-v-3d20a66c],.fade-leave-active[data-v-3d20a66c]{transition:opacity .3s ease}.fade-enter-from[data-v-3d20a66c],.fade-leave-to[data-v-3d20a66c]{opacity:0}.slide-down-enter-active[data-v-3d20a66c],.slide-down-leave-active[data-v-3d20a66c]{transition:all .3s ease}.slide-down-enter-from[data-v-3d20a66c],.slide-down-leave-to[data-v-3d20a66c]{opacity:0;transform:translateY(-10px)}.slide-up-enter-active[data-v-3d20a66c]{animation:slideUp-3d20a66c .4s ease}@keyframes slideUp-3d20a66c{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.fade-scale-enter-active[data-v-3d20a66c]{animation:fadeScale-3d20a66c .35s ease}@keyframes fadeScale-3d20a66c{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}",""]),n.locals={},e.exports=n},791:function(e,t,r){"use strict";r.r(t);r(24),r(43),r(39),r(40),r(27),r(30);var n=r(1),l=r(15),o=(r(9),r(33),r(23),r(79),r(38),r(41),r(189),r(17),r(403),r(8),r(18),r(52),r(25),r(61),r(26),r(96)),d=r(616),c=r(721),f=r(722);function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach(function(t){Object(l.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var v={name:"EngineerFilesView",components:{InputWithLabelIcon:r(578).default,AddFileModal:f.default,PopupModal:c.default,DxfViewerModal:d.default},layout:"engineer",middleware:["role-guard"],meta:{role:"engineer"},data:function(){return{loadingFactoryId:null,loading:!1,isOpen:"remote_number",isOpenFiles:"files_by_id",id:"",dxfUrl:"",fileType:null,selectedFactoryId:null,selectedRemoteNumber:null,selectedRemoteNumberId:null,selectedFiles:[],selectedFile:null,breadcrumb:[],hoveredFileId:null,isOpenModal:!1,isOpenAddFileModal:!1,isDxfFile:!1,isSelectedMaterials:!1,fileData:{quantity:null,material:"",thickness:"",file:null},currentFile:{name:"",size:0},toDeleteId:null}},computed:m(m(m(m({},Object(o.c)("pmp",["getPmp","errorMessage"])),Object(o.c)("factory",["getFactory"])),Object(o.c)("materials",["getMaterials"])),{},{materials:function(){return this.getMaterials||[]},filteredMaterials:function(){if(!this.fileData.material)return this.materials;var q=this.fileData.material.toLowerCase();return this.materials.filter(function(e){return(e.description||"").toLowerCase().includes(q)})}}),created:function(){var e=this;this.id=this.$route.query.id,this.id?(this.loading=!0,Promise.all([this.fetchPmp(this.id),this.fetchFactory()]).catch(function(t){return e.$notify({text:String(t),type:"error"})}).finally(function(){return e.loading=!1})):this.$notify({text:"ID-ն բացակայում է",type:"error"})},methods:m(m(m(m({},Object(o.b)("pmp",["fetchPmp","deleteFile","createPmpFilesByFactory"])),Object(o.b)("factory",["fetchFactory","downloadUploadedFile"])),Object(o.b)("materials",["fetchMaterials"])),{},{n:function(e){return Number(e)},openMaterials:function(){var e=this;this.loading=!0,this.fetchMaterials().then(function(){return e.isSelectedMaterials=!e.isSelectedMaterials}).catch(function(t){return e.$notify({text:String(t),type:"error"})}).finally(function(){return e.loading=!1})},selectMaterial:function(e){this.fileData.material=e.description,this.fileData.thickness=e.thickness,this.isSelectedMaterials=!1},showButton:function(e){this.hoveredFileId=e},hideButton:function(e){this.hoveredFileId===e&&(this.hoveredFileId=null)},showFiles:function(e){var t,r=this;this.isOpen="factories",this.selectedRemoteNumber=e,this.selectedRemoteNumberId=this.n(e.id),this.selectedFiles=(this.getPmp.files||[]).filter(function(e){return r.n(e.remote_number_id)===r.selectedRemoteNumberId}),this.dxfUrl="",this.fileType=null,this.selectedFile=null,this.isDxfFile=!1,this.resetFileFields(),this.breadcrumb=[(null===(t=this.getPmp)||void 0===t?void 0:t.group_name)||"PMP",e.remote_number_name]},selectFactory:function(e){var t=this;this.isDxfFile="DXF"===e.value,this.loadingFactoryId=e.id,this.loading=!0;try{this.isOpenFiles=this.isOpenFiles===this.n(e.id)?null:this.n(e.id),this.selectedFactoryId=this.n(e.id),this.selectedFiles=(this.getPmp.files||[]).filter(function(e){return t.n(e.factory_id)===t.selectedFactoryId&&t.n(e.remote_number_id)===t.selectedRemoteNumberId}),this.dxfUrl="",this.fileType=null,this.selectedFile=null,this.breadcrumb.length>1?this.breadcrumb.splice(1,1,e.value):this.breadcrumb.push(e.value)}finally{this.loadingFactoryId=null,this.loading=!1}},handleFileChange:function(e){var t,r=null===(t=e.target.files)||void 0===t?void 0:t[0];this.currentFile=r?{name:r.name,size:r.size}:{name:"",size:0},this.fileData.file=r},handleFileDrop:function(e){this.currentFile={name:e.name,size:e.size},this.fileData.file=e},addFile:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark(function t(){var r,n,l,o,d,c,f;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.fileData,n=r.file,l=r.quantity,o=r.material,d=r.thickness,!(c=e.isDxfFile)||n&&l&&o&&d){t.next=1;break}return e.$notify({text:"Բոլոր դաշտերը պարտադիր են",type:"warning"}),t.abrupt("return");case 1:if(n){t.next=2;break}return e.$notify({text:"Ընտրեք ֆայլ",type:"warning"}),t.abrupt("return");case 2:return e.loading=!0,(f=new FormData).append("file",n),f.append("pmp_id",e.getPmp.id),f.append("remote_number_id",e.selectedRemoteNumberId),f.append("factory_id",e.selectedFactoryId),c&&(f.append("quantity",l),f.append("material_type",o),f.append("thickness",d)),t.prev=3,t.next=4,e.createPmpFilesByFactory(f);case 4:if(!t.sent){t.next=6;break}return e.$notify({text:"Ֆայլը ավելացվեց",type:"success"}),t.next=5,e.fetchPmp(e.id);case 5:e.selectedFiles=(e.getPmp.files||[]).filter(function(t){return t.remote_number_id===e.selectedRemoteNumberId&&t.factory_id===e.selectedFactoryId}),e.isOpenAddFileModal=!1,e.resetFileFields();case 6:return t.prev=6,e.loading=!1,t.finish(6);case 7:case"end":return t.stop()}},t,null,[[3,,6,7]])}))()},viewFile:function(e,t){this.breadcrumb.includes(t.original_name)||(this.breadcrumb.length>2&&this.breadcrumb.pop(),this.breadcrumb.push(t.original_name)),this.selectedFile=t,this.dxfUrl=e,this.isOpenFiles=this.n(t.factory_id),this.isDxfFile=this.n(t.factory_id)===this.selectedFactoryId&&this.isDxfFile,this.fileType=this.getFileType(t.original_name||e)},downloadFile:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark(function r(){var path;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return path=String(e.path).replace(/\\/g,"/"),r.next=1,t.downloadUploadedFile({path:path,original_name:e.original_name});case 1:case"end":return r.stop()}},r)}))()},fileUrl:function(e){return"".concat(this.$axios.defaults.baseURL,"/storage/").concat(e)},getFileType:function(e){var t=e.toLowerCase().split(".").pop();return"dxf"===t?"dxf":"pdf"===t?"pdf":["jpg","jpeg","png","eps"].includes(t)?"image":["step","sldprt","sldasm","slddrw","solid"].includes(t)?"cad":null},openDelete:function(e){this.toDeleteId=e,this.isOpenModal=!0},closeModal:function(){this.isOpenModal=!1,this.toDeleteId=null},deleteDxfFile:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark(function t(){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.toDeleteId){t.next=1;break}return t.abrupt("return");case 1:return e.loading=!0,t.prev=2,t.next=3,e.deleteFile(e.toDeleteId);case 3:return t.next=4,e.fetchPmp(e.id);case 4:e.selectedFiles=e.selectedFiles.filter(function(t){return t.id!==e.toDeleteId}),(null===(r=e.selectedFile)||void 0===r?void 0:r.id)===e.toDeleteId&&(e.selectedFile=null,e.dxfUrl="",e.fileType=null),e.$notify({text:"Ֆայլը ջնջվեց",type:"success"});case 5:return t.prev=5,e.isOpenModal=!1,e.toDeleteId=null,e.loading=!1,t.finish(5);case 6:case"end":return t.stop()}},t,null,[[2,,5,6]])}))()},openAddFileModal:function(){this.isOpenAddFileModal=!this.isOpenAddFileModal,this.isOpenAddFileModal||this.resetFileFields()},resetFileFields:function(){this.fileData={quantity:null,material:"",thickness:"",file:null},this.currentFile={name:"",size:0},this.isSelectedMaterials=!1},selectBreadcrumb:function(e){var t=this;if(this.breadcrumb=this.breadcrumb.slice(0,e+1),0===e)this.isOpen="remote_number",this.selectedFactoryId=null,this.selectedRemoteNumberId=null,this.dxfUrl=null,this.fileType=null,this.selectedFiles=[],this.selectedFile=null,this.isDxfFile=!1,this.resetFileFields();else if(1===e){this.isOpen="factories",this.dxfUrl=null,this.fileType=null,this.selectedFile=null,this.isDxfFile=!1,this.resetFileFields();var r=(this.getPmp.remote_number||[]).find(function(e){return e.remote_number_name===t.breadcrumb[1]});r&&(this.selectedRemoteNumberId=this.n(r.id),this.selectedFiles=(this.getPmp.files||[]).filter(function(e){return t.n(e.remote_number_id)===t.selectedRemoteNumberId}))}else if(2===e){var n=(this.getFactory||[]).find(function(e){return e.value===t.breadcrumb[2]});n&&(this.selectedFactoryId=this.n(n.id),this.isDxfFile="DXF"===n.value,this.selectedFiles=(this.getPmp.files||[]).filter(function(e){return t.n(e.factory_id)===t.selectedFactoryId}),this.dxfUrl=null,this.fileType=null,this.selectedFile=null,this.resetFileFields())}},hasFiles:function(e){var t=this;return(this.getPmp.files||[]).some(function(r){return t.n(r.factory_id)===t.n(e)})}})},x=(r(750),r(32)),component=Object(x.a)(v,function(){var e=this,t=e._self._c;return t("main",{staticClass:"p-4 md:p-6 lg:p-8 min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800"},[t("transition",{attrs:{name:"fade"}},[e.loading?t("div",{staticClass:"fixed inset-0 bg-white/80 dark:bg-black/80 backdrop-blur-sm flex items-center justify-center z-50"},[t("div",{staticClass:"animate-spin rounded-full h-12 w-12 border-4 border-blue-500 border-t-transparent"})]):e._e()]),e._v(" "),t("transition",{attrs:{name:"slide-up"}},[e.breadcrumb.length?t("nav",{staticClass:"mb-6"},[t("ol",{staticClass:"flex flex-wrap items-center gap-2 text-sm text-gray-600 dark:text-gray-400"},e._l(e.breadcrumb,function(r,n){return t("li",{key:n,staticClass:"flex items-center"},[t("button",{staticClass:"flex items-center gap-1 px-3 py-1.5 rounded-lg hover:bg-white hover:shadow-sm dark:hover:bg-gray-800 transition-all duration-200",class:{"bg-blue-50 text-blue-700 dark:bg-blue-900 dark:text-blue-300":n===e.breadcrumb.length-1},on:{click:function(t){return e.selectBreadcrumb(n)}}},[n>0?t("svg",{staticClass:"w-3 h-3 text-gray-400",attrs:{viewBox:"0 0 6 10",fill:"none"}},[t("path",{attrs:{d:"M1 9l4-4-4-4",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}})]):e._e(),e._v(" "),t("span",{staticClass:"truncate max-w-[150px] sm:max-w-[200px]"},[e._v(e._s(r))])])])}),0)]):e._e()]),e._v(" "),t("div",{staticClass:"grid grid-cols-1 lg:grid-cols-[minmax(300px,_1fr)_3fr] gap-6 xl:gap-8"},[t("aside",{staticClass:"space-y-6"},["remote_number"===e.isOpen?t("transition",{attrs:{name:"fade-scale"}},[t("section",{staticClass:"grid gap-3"},e._l(e.getPmp.remote_number,function(r){return t("button",{key:r.id,staticClass:"group flex items-center gap-4 p-4 bg-white dark:bg-gray-800 rounded-xl shadow-sm hover:shadow-md transition-all duration-300 border border-gray-200 dark:border-gray-700",on:{click:function(t){return e.showFiles(r)}}},[t("div",{staticClass:"w-14 h-14 bg-gradient-to-br from-blue-100 to-blue-200 dark:from-blue-900 dark:to-blue-800 rounded-lg flex items-center justify-center"},[t("img",{staticClass:"w-9 h-9 object-contain",attrs:{src:"/dxf.png",alt:"DXF"}})]),e._v(" "),t("div",{staticClass:"text-left flex-1"},[t("div",{staticClass:"font-semibold text-gray-900 dark:text-white"},[e._v("\n                "+e._s(r.remote_number)+"\n              ")]),e._v(" "),t("div",{staticClass:"text-sm text-gray-500 dark:text-gray-400 truncate"},[e._v("\n                "+e._s(r.remote_number_name)+"\n              ")])]),e._v(" "),t("svg",{staticClass:"w-5 h-5 text-gray-400 group-hover:text-blue-600 transition-colors",attrs:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"}},[t("path",{attrs:{d:"M9 18l6-6-6-6","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}})])])}),0)]):"factories"===e.isOpen?t("transition",{staticClass:"space-y-4",attrs:{name:"fade-scale"}},[t("section",e._l(e.getFactory,function(r){return t("div",{key:r.id},[t("button",{staticClass:"w-full p-4 rounded-xl text-left transition-all duration-300 flex items-center justify-between",class:{"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":e.selectedFactoryId===r.id,"bg-white dark:bg-gray-800 hover:shadow-md border border-gray-200 dark:border-gray-700":e.selectedFactoryId!==r.id,"opacity-70 cursor-not-allowed":e.loadingFactoryId===r.id},attrs:{disabled:e.loadingFactoryId===r.id},on:{click:function(t){return e.selectFactory(r)}}},[t("span",{staticClass:"font-medium"},[e._v(e._s(r.value))]),e._v(" "),e.loadingFactoryId===r.id?t("span",{staticClass:"animate-spin"},[t("svg",{staticClass:"w-5 h-5",attrs:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"}},[t("circle",{staticClass:"opacity-25",attrs:{cx:"12",cy:"12",r:"10","stroke-width":"3"}}),e._v(" "),t("path",{staticClass:"opacity-75",attrs:{d:"M4 12a8 8 0 018-8","stroke-width":"3"}})])]):e.hasFiles(r.id)?t("span",{staticClass:"text-green-400 text-xl"},[e._v("✔")]):e._e()]),e._v(" "),e.isOpenFiles===r.id?t("transition",{staticClass:"mt-3 space-y-2 pl-4 border-l-2 border-blue-500",attrs:{name:"slide-down"}},[e.$can("pmp_files.view")?t("div",[e._l(e.selectedFiles,function(r){return t("div",{key:r.id,staticClass:"group bg-white dark:bg-gray-800 p-3 rounded-lg shadow-sm hover:shadow transition-all duration-200 border border-gray-200 dark:border-gray-700",on:{mouseenter:function(t){e.hoveredFileId=r.id},mouseleave:function(t){e.hoveredFileId=null}}},[t("div",{staticClass:"flex items-center justify-between"},[t("button",{staticClass:"text-left flex-1 truncate text-sm font-medium text-gray-800 dark:text-gray-200",on:{click:function(t){return e.viewFile(r.path,r)}}},[e._v("\n                      "+e._s(r.original_name)+"\n                    ")]),e._v(" "),t("div",{staticClass:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity"},[e.$can("pmp_files.upload")?t("button",{staticClass:"text-xs text-blue-600 hover:underline",on:{click:function(t){return t.stopPropagation(),e.downloadFile(r)}}},[e._v("\n                        Ներբեռնել\n                      ")]):e._e(),e._v(" "),e.hoveredFileId===r.id&&e.$can("pmp_files.delete")?t("button",{staticClass:"text-xs text-red-600 hover:underline",on:{click:function(t){return t.stopPropagation(),e.openDelete(r.id)}}},[e._v("\n                        Ջնջել\n                      ")]):e._e()])])])}),e._v(" "),t("button",{staticClass:"w-full mt-4 py-2.5 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white font-medium rounded-lg shadow-md hover:shadow-lg transition-all duration-300 flex items-center justify-center gap-2",attrs:{disabled:e.loading},on:{click:e.openAddFileModal}},[t("svg",{staticClass:"w-5 h-5",attrs:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"}},[t("path",{attrs:{d:"M12 4v16m8-8H4","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}})]),e._v("\n                  Ավելացնել ֆայլ\n                ")])],2):e._e()]):e._e()],1)}),0)]):e._e()],1),e._v(" "),t("section",{staticClass:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-6 lg:p-8 min-h-[70vh] flex flex-col"},[t("transition",{attrs:{name:"fade"}},[t("div",{staticClass:"flex-1 flex flex-col"},[e.selectedFile&&e.$can("pmp_files.view")?t("div",{staticClass:"flex-1 flex flex-col"},[e.isDxfFile&&e.selectedFile?t("div",{staticClass:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-6"},[t("div",{staticClass:"bg-blue-50 dark:bg-blue-900/30 p-3 rounded-lg text-center"},[t("div",{staticClass:"text-xs text-gray-600 dark:text-gray-400"},[e._v("\n                  Քանակ\n                ")]),e._v(" "),t("div",{staticClass:"font-bold text-blue-700 dark:text-blue-300"},[e._v("\n                  "+e._s(e.selectedFile.quantity)+"\n                ")])]),e._v(" "),t("div",{staticClass:"bg-green-50 dark:bg-green-900/30 p-3 rounded-lg text-center"},[t("div",{staticClass:"text-xs text-gray-600 dark:text-gray-400"},[e._v("\n                  Նյութ\n                ")]),e._v(" "),t("div",{staticClass:"font-bold text-green-700 dark:text-green-300 truncate"},[e._v("\n                  "+e._s(e.selectedFile.material_type)+"\n                ")])]),e._v(" "),t("div",{staticClass:"bg-purple-50 dark:bg-purple-900/30 p-3 rounded-lg text-center"},[t("div",{staticClass:"text-xs text-gray-600 dark:text-gray-400"},[e._v("\n                  Հաստություն\n                ")]),e._v(" "),t("div",{staticClass:"font-bold text-purple-700 dark:text-purple-300"},[e._v("\n                  "+e._s(e.selectedFile.thickness)+"\n                ")])])]):e._e(),e._v(" "),t("h3",{staticClass:"text-lg font-semibold text-gray-900 dark:text-white mb-4 text-center break-all"},[e._v("\n              "+e._s(e.selectedFile.original_name)+"\n            ")]),e._v(" "),"dxf"===e.fileType&&e.dxfUrl&&e.$can("pmp_files.upload")?t("div",{staticClass:"flex-1 min-h-0"},[t("DxfViewerModal",{staticClass:"w-full h-full rounded-lg border border-gray-200 dark:border-gray-700",attrs:{"dxf-url":e.dxfUrl,"file-meta":e.selectedFile,"show-laser-info":!0},on:{close:function(t){e.dxfUrl=""}}})],1):"pdf"===e.fileType?t("div",{staticClass:"flex-1"},[t("embed",{staticClass:"w-full h-full min-h-[60vh] rounded-lg border",attrs:{src:e.fileUrl(e.selectedFile.path),type:"application/pdf"}}),e._v(" "),e.$can("pmp_files.upload")?t("a",{staticClass:"mt-3 block text-center text-blue-600 hover:underline",attrs:{href:e.fileUrl(e.selectedFile.path),target:"_blank"}},[e._v("\n                Բացել նոր պատուհանում\n              ")]):e._e()]):"image"===e.fileType?t("div",{staticClass:"flex justify-center items-center flex-1"},[t("a",{attrs:{href:e.fileUrl(e.selectedFile.path),target:"_blank"}},[t("img",{staticClass:"max-w-full max-h-[70vh] object-contain rounded-lg shadow-md",attrs:{src:e.fileUrl(e.selectedFile.path),alt:e.selectedFile.original_name}})])]):"cad"===e.fileType?t("div",{staticClass:"text-center py-12"},[t("p",{staticClass:"text-gray-600 dark:text-gray-400 mb-4"},[e._v("\n                "+e._s(e.selectedFile.original_name)+" ("+e._s(e.fileType.toUpperCase())+")\n              ")]),e._v(" "),e.$can("pmp_files.upload")?t("a",{staticClass:"inline-block px-6 py-3 bg-gradient-to-r from-gray-700 to-gray-800 text-white rounded-lg hover:shadow-lg transition-all",attrs:{href:e.fileUrl(e.selectedFile.path),download:e.selectedFile.original_name}},[e._v("\n                Ներբեռնել\n              ")]):e._e()]):e._e()]):t("div",{staticClass:"flex-1 flex items-center justify-center text-gray-500 dark:text-gray-400"},[t("div",{staticClass:"flex items-center justify-center gap-2 text-lg text-blue-700 font-medium py-4 px-6 bg-blue-50 rounded-xl border border-blue-200"},[t("svg",{staticClass:"w-5 h-5",attrs:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"}},[t("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 15l-2 5L9 9l11 4-5 2zm0 0l5 5M7.188 2.239l.777 2.897M5.136 7.965l-2.898-.777M13.95 4.05l-2.122 2.122m-5.657 5.656l-2.12 2.122"}})]),e._v("\n              Ընտրեք ֆայլ՝ դիտելու համար\n            ")])])])])],1)]),e._v(" "),t("AddFileModal",{attrs:{"is-open-modal":e.isOpenAddFileModal,file:e.currentFile,"is-dxf-file":e.isDxfFile,text:"Ընտրեք ֆայլը և լրացրեք դաշտերը"},on:{closeModal:e.openAddFileModal,createFile:e.addFile},scopedSlots:e._u([{key:"file-input",fn:function(){return[t("input",{staticClass:"hidden",attrs:{type:"file",disabled:e.loading},on:{change:e.handleFileChange}})]},proxy:!0},e.isDxfFile?{key:"quantity",fn:function(){return[t("InputWithLabelIcon",{attrs:{type:"number",name:"quantity",label:"Քանակ լրակազմում",disabled:e.loading,min:"1"},model:{value:e.fileData.quantity,callback:function(t){e.$set(e.fileData,"quantity",t)},expression:"fileData.quantity"}})]},proxy:!0}:null,e.isDxfFile?{key:"materialType",fn:function(){return[t("div",{staticClass:"relative"},[t("InputWithLabelIcon",{attrs:{type:"text",name:"materialType",label:"Նյութ",disabled:e.loading},on:{focus:e.openMaterials},model:{value:e.fileData.material,callback:function(t){e.$set(e.fileData,"material",t)},expression:"fileData.material"}}),e._v(" "),t("button",{staticClass:"absolute inset-y-0 right-0 px-3 text-gray-500",attrs:{type:"button",disabled:e.loading},on:{click:e.openMaterials}},[e._v("\n          ▼\n        ")]),e._v(" "),e.isSelectedMaterials?t("div",{staticClass:"absolute z-10 mt-1 w-full bg-white rounded-md shadow-lg border border-gray-200 max-h-60 overflow-auto"},[t("ul",{staticClass:"py-1"},e._l(e.filteredMaterials,function(r){return t("li",{key:r.id,staticClass:"px-4 py-2 hover:bg-blue-50 cursor-pointer",on:{click:function(t){return e.selectMaterial(r)}}},[e._v("\n              "+e._s(r.description)+"\n            ")])}),0)]):e._e()],1)]},proxy:!0}:null,e.isDxfFile?{key:"thickness",fn:function(){return[t("InputWithLabelIcon",{attrs:{type:"text",name:"thickness",label:"Հաստություն",disabled:e.loading},model:{value:e.fileData.thickness,callback:function(t){e.$set(e.fileData,"thickness",t)},expression:"fileData.thickness"}})]},proxy:!0}:null],null,!0)}),e._v(" "),t("PopupModal",{attrs:{"is-open-modal":e.isOpenModal,text:"Վստահ եք, որ ուզում եք ջնջել՞"},on:{"close-modal":e.closeModal,confirm:e.deleteDxfFile}})],1)},[],!1,null,"3d20a66c",null);t.default=component.exports}}]);