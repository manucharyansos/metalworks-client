(window.webpackJsonp=window.webpackJsonp||[]).push([[82,15],{574:function(t,e,r){"use strict";var n=r(4),c=r(405).trim;n({target:"String",proto:!0,forced:r(575)("trim")},{trim:function(){return c(this)}})},575:function(t,e,r){"use strict";var n=r(112).PROPER,c=r(6),o=r(406);t.exports=function(t){return c(function(){return!!o[t]()||"​᠎"!=="​᠎"[t]()||n&&o[t].name!==t})}},582:function(t,e,r){"use strict";var n=r(4),c=r(5),o=r(80),l=r(407),d=r(187),f=r(6),v=RangeError,h=String,m=Math.floor,x=c(d),_=c("".slice),w=c(1.1.toFixed),y=function(t,e,r){return 0===e?r:e%2==1?y(t,e-1,r*t):y(t*t,e/2,r)},O=function(data,t,e){for(var r=-1,n=e;++r<6;)n+=t*data[r],data[r]=n%1e7,n=m(n/1e7)},C=function(data,t){for(var e=6,r=0;--e>=0;)r+=data[e],data[e]=m(r/t),r=r%t*1e7},j=function(data){for(var t=6,s="";--t>=0;)if(""!==s||0===t||0!==data[t]){var e=h(data[t]);s=""===s?e:s+x("0",7-e.length)+e}return s};n({target:"Number",proto:!0,forced:f(function(){return"0.000"!==w(8e-5,3)||"1"!==w(.9,0)||"1.25"!==w(1.255,2)||"1000000000000000128"!==w(0xde0b6b3a7640080,0)})||!f(function(){w({})})},{toFixed:function(t){var e,r,n,c,d=l(this),f=o(t),data=[0,0,0,0,0,0],m="",w="0";if(f<0||f>20)throw new v("Incorrect fraction digits");if(d!=d)return"NaN";if(d<=-1e21||d>=1e21)return h(d);if(d<0&&(m="-",d=-d),d>1e-21)if(r=(e=function(t){for(var e=0,r=t;r>=4096;)e+=12,r/=4096;for(;r>=2;)e+=1,r/=2;return e}(d*y(2,69,1))-69)<0?d*y(2,-e,1):d/y(2,e,1),r*=4503599627370496,(e=52-e)>0){for(O(data,0,r),n=f;n>=7;)O(data,1e7,0),n-=7;for(O(data,y(10,n,1),0),n=e-1;n>=23;)C(data,1<<23),n-=23;C(data,1<<n),O(data,1,1),C(data,2),w=j(data)}else O(data,0,r),O(data,1<<-e,0),w=j(data)+x("0",f);return w=f>0?m+((c=w.length)<=f?"0."+x("0",f-c)+w:_(w,0,c-f)+"."+_(w,c-f)):m+w}})},628:function(t,e,r){var content=r(664);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(57).default)("92d139e4",content,!0,{sourceMap:!1})},662:function(t,e,r){"use strict";var n=r(4),c=r(412).values;n({target:"Object",stat:!0},{values:function(t){return c(t)}})},663:function(t,e,r){"use strict";r(628)},664:function(t,e,r){var n=r(56)(function(i){return i[1]});n.push([t.i,".progress-circle[data-v-39b690dc]{align-items:center;border-radius:50%;display:flex;height:200px;justify-content:center;margin-bottom:30px;position:relative;width:200px}.circle-center[data-v-39b690dc]{color:#333;font-size:1.2em;font-weight:700;position:absolute;text-align:center}.stats-item[data-v-39b690dc]{display:flex;font-size:1em;justify-content:space-between;margin:5px 0;width:250px}.device-label[data-v-39b690dc]{font-weight:700}.device-count[data-v-39b690dc]{color:#333;margin-left:auto}.device-percentage[data-v-39b690dc]{color:gray;margin-left:10px}",""]),n.locals={},t.exports=n},680:function(t,e,r){"use strict";r.r(e);var n=r(1),c=(r(9),r(33),r(113),r(49),r(41),r(582),r(8),r(662),{data:function(){return{totalVisitors:0,deviceData:{desktop:{percentage:0,count:0,color:"#42b883"},mobile:{percentage:0,count:0,color:"#ff6666"},tablet:{percentage:0,count:0,color:"#ffc107"}}}},computed:{circleStyle:function(){var t=Object.values(this.deviceData).map(function(t,e,r){var n=t.percentage,c=t.color,o=r.slice(0,e).reduce(function(t,e){var r=e.percentage;return t+parseFloat(r)},0),l=o+parseFloat(n);return"".concat(c," ").concat(o,"% ").concat(l,"%")}).join(", ");return{background:"conic-gradient(".concat(t,")")}}},mounted:function(){this.fetchDeviceStats()},methods:{fetchDeviceStats:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark(function e(){var r,n,c,o,l,d,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=1,t.$axios.get("/api/visitor-stats");case 1:r=e.sent,n=r.data,c=n.total,o=n.desktop,l=n.mobile,d=n.tablet,t.totalVisitors=c,t.deviceData.desktop={percentage:o.percentage.toFixed(1),count:o.count,color:"#42b883"},t.deviceData.mobile={percentage:l.percentage.toFixed(1),count:l.count,color:"#ff6666"},t.deviceData.tablet={percentage:d.percentage.toFixed(1),count:d.count,color:"#ffc107"},e.next=3;break;case 2:e.prev=2,f=e.catch(0),console.error("Error fetching device stats:",f);case 3:case"end":return e.stop()}},e,null,[[0,2]])}))()}}}),o=(r(663),r(32)),component=Object(o.a)(c,function(){var t=this,e=t._self._c;return e("div",{staticClass:"device-stats flex flex-col md:items-start items-center m-8 mt-12"},[e("div",{staticClass:"progress-circle",style:t.circleStyle},[e("div",{staticClass:"circle-center"},[t._v(t._s(t.totalVisitors)+" Total")])]),t._v(" "),e("div",{staticClass:"stats-info flex flex-col items-center justify-center"},t._l(t.deviceData,function(r,n){return e("div",{key:n,staticClass:"stats-item"},[e("span",{staticClass:"device-label",style:{color:r.color}},[t._v(t._s(n)+":")]),t._v(" "),e("span",{staticClass:"device-count"},[t._v(t._s(r.count))]),t._v(" "),e("span",{staticClass:"device-percentage"},[t._v("("+t._s(r.percentage)+"%)")])])}),0)])},[],!1,null,"39b690dc",null);e.default=component.exports},690:function(t,e,r){var content=r(735);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(57).default)("da39b0dc",content,!0,{sourceMap:!1})},734:function(t,e,r){"use strict";r(690)},735:function(t,e,r){var n=r(56)(function(i){return i[1]});n.push([t.i,"thead.sticky[data-v-3681f93c]{box-shadow:0 2px 0 rgba(0,0,0,.04)}",""]),n.locals={},t.exports=n},781:function(t,e,r){"use strict";r.r(e);r(24),r(39),r(40),r(27),r(30);var n=r(1),c=r(15),o=(r(9),r(23),r(38),r(49),r(17),r(8),r(52),r(25),r(574),r(26),r(409),r(410),r(114),r(96));function l(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function d(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?l(Object(r),!0).forEach(function(e){Object(c.a)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var f={name:"ManagerPage",components:{DeviceStatsChart:r(680).default},layout:"manager",middleware:["role-guard"],meta:{role:"manager"},data:function(){return{searchable:"",isDetails:!1,isOpenDeleteModal:!1,openEditModal:!1,selectedOrder:null,showOrder:null}},computed:d(d(d(d({},Object(o.c)("orders",["orders"])),Object(o.c)("materials",["getMaterials"])),Object(o.c)("workers",["getWorkers"])),{},{allOrders:function(){return this.orders||[]},materials:function(){return this.getMaterials||[]},workers:function(){return this.getWorkers||[]},searchFilter:function(){var q=this.searchable.trim().toLowerCase();return q?this.allOrders.filter(function(t){var e=t&&t.order_number&&t.order_number.number||"",r=t&&t.name||t&&t.details&&t.details[0]&&t.details[0].name||"",n=t&&t.prefix_code&&t.prefix_code.code||"";return String(e).toLowerCase().includes(q)||String(r).toLowerCase().includes(q)||String(n).toLowerCase().includes(q)}):this.allOrders},tableRows:function(){return this.searchFilter.map(function(t){return{_raw:t,id:t&&t.id?t.id:"—",created_at:t&&t.created_at||"—",finish_date:t&&t.dates&&t.dates.finish_date||"—",order_number:t&&t.order_number&&t.order_number.number||"—",prefix_code:t&&t.prefix_code&&t.prefix_code.code||"—",status:t&&t.status||"—",name:t&&t.name||t&&t.details&&t.details[0]&&t.details[0].name||"—",quantity:t&&t.quantity||"—",store_link_url:t&&t.store_link&&t.store_link.url||""}})}}),created:function(){this.fetchMaterials(),this.fetchOrders(),this.fetchWorkers()},methods:d(d(d(d({},Object(o.b)("orders",["fetchOrders","orderDelete"])),Object(o.b)("materials",["fetchMaterials"])),Object(o.b)("workers",["fetchWorkers"])),{},{editOrder:function(t){this.openEditModal=!0,this.showOrder=t},openDeleteModal:function(t){t&&t.id&&(this.selectedOrder=t,this.isOpenDeleteModal=!0)},closeDeleteModal:function(){this.isOpenDeleteModal=!1},closeEditeModal:function(){this.openEditModal=!1},deleteSelectedOrder:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark(function e(){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.selectedOrder&&t.selectedOrder.id){e.next=1;break}return e.abrupt("return");case 1:return r=t.selectedOrder.id,e.prev=2,e.next=3,t.orderDelete(r);case 3:if(!e.sent){e.next=5;break}return t.$notify({text:"Order deleted successfully",duration:3e3,speed:1e3,position:"top",type:"success"}),e.next=4,t.fetchOrders();case 4:t.isOpenDeleteModal=!1;case 5:e.next=7;break;case 6:e.prev=6,e.catch(2),n=t.errorMessage||{message:"An error occurred"},t.$notify({text:n.message,duration:3e3,speed:1e3,position:"top",type:"error"});case 7:case"end":return e.stop()}},e,null,[[2,6]])}))()},openFile:function(){fetch("/uploads/example1.step").then(function(t){return t.blob()}).then(function(b){var t=URL.createObjectURL(b);window.open(t)})}})},v=(r(734),r(32)),component=Object(v.a)(f,function(){var t=this,e=t._self._c;return e("div",{staticClass:"container mx-auto px-4 sm:px-6 lg:px-8 py-8"},[t.isOpenDeleteModal||t.openEditModal?t._e():e("div",{staticClass:"grid gap-4 mt-12 sm:grid-cols-2 lg:grid-cols-3"},[e("div",{staticClass:"flex items-center gap-4 p-4 rounded-xl shadow bg-white"},[e("div",{staticClass:"flex items-center justify-center w-16 h-16 rounded-xl bg-gradient-to-br from-indigo-500 to-blue-500 text-white shrink-0",attrs:{"aria-hidden":"true"}},[e("svg",{staticClass:"w-9 h-9",attrs:{viewBox:"0 0 24 24",fill:"currentColor"}},[e("rect",{attrs:{x:"3",y:"10",width:"14",height:"10",rx:"2"}}),t._v(" "),e("rect",{attrs:{x:"7",y:"4",width:"14",height:"10",rx:"2",opacity:".7"}})])]),t._v(" "),e("div",{staticClass:"min-w-0"},[e("h5",{staticClass:"mb-1 font-montserrat font-bold text-gray-900"},[t._v("Նյութեր")]),t._v(" "),e("p",{staticClass:"text-gray-600 italic"},[t._v("\n          Քանակ․ "),e("span",{staticClass:"font-semibold"},[t._v(t._s(t.materials.length))])])])]),t._v(" "),e("div",{staticClass:"flex items-center gap-4 p-4 rounded-xl shadow bg-white"},[e("div",{staticClass:"flex items-center justify-center w-16 h-16 rounded-xl bg-gradient-to-br from-emerald-500 to-teal-500 text-white shrink-0",attrs:{"aria-hidden":"true"}},[e("svg",{staticClass:"w-9 h-9",attrs:{viewBox:"0 0 24 24",fill:"currentColor"}},[e("circle",{attrs:{cx:"9",cy:"8",r:"3"}}),t._v(" "),e("path",{attrs:{d:"M2 20a6 6 0 0 1 12 0H2z"}}),t._v(" "),e("circle",{attrs:{cx:"18",cy:"9.5",r:"2.5",opacity:".8"}}),t._v(" "),e("path",{attrs:{d:"M13 20a4.5 4.5 0 0 1 9 0h-9z",opacity:".7"}})])]),t._v(" "),e("div",{staticClass:"min-w-0"},[e("h5",{staticClass:"mb-1 italic font-sans font-bold text-gray-900"},[t._v("\n          Գրանցված օգտատերեր\n        ")]),t._v(" "),e("p",{staticClass:"text-gray-600 italic"},[t._v("\n          Օգտատերեր․\n          "),e("span",{staticClass:"font-semibold"},[t._v(t._s(t.workers.length))])])])]),t._v(" "),e("div",{staticClass:"flex items-center gap-4 p-4 rounded-xl shadow bg-white"},[e("div",{staticClass:"flex items-center justify-center w-16 h-16 rounded-xl bg-gradient-to-br from-rose-500 to-red-500 text-white shrink-0",attrs:{"aria-hidden":"true"}},[e("svg",{staticClass:"w-9 h-9",attrs:{viewBox:"0 0 24 24",fill:"currentColor"}},[e("rect",{attrs:{x:"6",y:"3",width:"12",height:"18",rx:"2"}}),t._v(" "),e("rect",{staticClass:"opacity-80",attrs:{x:"9",y:"2",width:"6",height:"4",rx:"1"}}),t._v(" "),e("rect",{staticClass:"opacity-90",attrs:{x:"8",y:"9",width:"8",height:"1.8",rx:".9"}}),t._v(" "),e("rect",{staticClass:"opacity-90",attrs:{x:"8",y:"13",width:"8",height:"1.8",rx:".9"}}),t._v(" "),e("rect",{staticClass:"opacity-90",attrs:{x:"8",y:"17",width:"6",height:"1.8",rx:".9"}})])]),t._v(" "),e("div",{staticClass:"min-w-0"},[e("h5",{staticClass:"mb-1 italic font-sans font-bold text-gray-900"},[t._v("\n          Պատվերներ\n        ")]),t._v(" "),e("p",{staticClass:"text-gray-600 italic"},[t._v("\n          Պատվերների քանակ․\n          "),e("span",{staticClass:"font-semibold"},[t._v(t._s(t.allOrders.length))])])])])]),t._v(" "),t.isOpenDeleteModal||t.openEditModal?t._e():e("DeviceStatsChart",{staticClass:"mt-8"}),t._v(" "),e("notifications")],1)},[],!1,null,"3681f93c",null);e.default=component.exports;installComponents(component,{DeviceStatsChart:r(680).default})}}]);