(window.webpackJsonp=window.webpackJsonp||[]).push([[38,4,10,11],{365:function(t,e,r){"use strict";r.r(e);var n={name:"InputWithLabelIcon",props:{label:{type:String,default:""},label_Id:{type:String,default:""},for_LAbel:{type:String,default:""},type:{type:String,default:""},value:{type:[String,Array],default:""},placeholder:{type:String,default:""},classes:{type:String,default:""},label_class:{type:[String,Object],default:""},disabled:{type:Boolean,default:!1}}},l=r(14),component=Object(l.a)(n,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"relative"},[e("span",{staticClass:"absolute start-0 bottom-3 text-gray-500 dark:text-gray-400"},[t._t("label_svg")],2),t._v(" "),e("input",{staticClass:"block py-2.5 ps-6 pe-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer",class:t.classes,attrs:{id:t.label_Id,type:t.type,placeholder:t.placeholder,disabled:t.disabled},domProps:{value:t.value},on:{input:function(e){return t.$emit("input",e.target.value)}}}),t._v(" "),e("label",{staticClass:"absolute text-sm dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-1 -z-10 origin-[0] peer-placeholder-shown:start-6 peer-focus:start-0 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto",class:t.label_class,attrs:{for:t.for_LAbel}},[t._v("\n    "+t._s(t.label)+"\n  ")])])}),[],!1,null,"3e8466e0",null);e.default=component.exports},367:function(t,e,r){"use strict";r.r(e);r(47),r(50),r(23),r(16),r(234);var n={props:{label:{type:String,default:""},value:{type:[Number,Object],default:null},name:{type:String,default:""},dates:{type:Array,default:function(){return[]}}},data:function(){return{selectValue:this.value}},watch:{selectValue:function(t){this.$emit("input",t)}}},l=r(14),component=Object(l.a)(n,(function(){var t=this,e=t._self._c;return e("div",[t.label?e("label",{staticClass:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",attrs:{for:t.name}},[t._v("\n    "+t._s(t.label)+"\n  ")]):t._e(),t._v(" "),e("select",t._b({directives:[{name:"model",rawName:"v-model",value:t.selectValue,expression:"selectValue"}],staticClass:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",attrs:{name:t.name,id:t.name},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.selectValue=e.target.multiple?r:r[0]}}},"select",t.$attrs,!1),t._l(t.dates,(function(data,r){return e("option",{key:r,domProps:{value:data}},[t._v("\n      "+t._s(data.name)+"\n    ")])})),0),t._v(" "),t.dates&&0!==t.dates.length?t._e():e("p",{staticClass:"mt-2 text-sm text-red-500"},[t._v("\n    Տվյալներ չկան։\n  ")])])}),[],!1,null,null,null);e.default=component.exports},373:function(t,e,r){"use strict";var n=r(3),l=r(235).trim;n({target:"String",proto:!0,forced:r(374)("trim")},{trim:function(){return l(this)}})},374:function(t,e,r){"use strict";var n=r(97).PROPER,l=r(4),o=r(236);t.exports=function(t){return l((function(){return!!o[t]()||"​᠎"!=="​᠎"[t]()||n&&o[t].name!==t}))}},377:function(t,e,r){var content=r(385);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(38).default)("3aa96b76",content,!0,{sourceMap:!1})},384:function(t,e,r){"use strict";r(377)},385:function(t,e,r){var n=r(37)((function(i){return i[1]}));n.push([t.i,"",""]),n.locals={},t.exports=n},396:function(t,e,r){"use strict";r.r(e);r(36),r(48),r(23);var n={props:{order:Object,updateOrder:Function},computed:{statuses:function(){return[{value:"in process",class:"bg-blue-700"},{value:"waiting",class:"bg-yellow-700"},{value:"finished",class:"bg-green-700"}]}}},l=(r(384),r(14)),component=Object(l.a)(n,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"border-2 border-dashed bg-neutral-700 border-neutral-700 text-white rounded-lg p-4 dark:border-gray-600 h-32 md:h-64 cursor-pointer"},[t.order.created_at?e("p",[e("span",{staticClass:"font-bold"},[t._v("Start:")]),t._v(" "+t._s(t.order.created_at)+"\n    "),e("span",{staticClass:"font-bold"},[t._v("Finish:")]),t._v(" "+t._s(t.order.dates.finish_date)+"\n  ")]):t._e(),t._v(" "),e("div",{on:{click:function(e){return t.updateOrder(t.order)}}},[e("div",[t._l(t.statuses,(function(r){return e("div",{key:r.label},[t.order.factory_order_statuses.status===r.value?e("div",{staticClass:"flex flex-row items-start"},[e("span",{staticClass:"font-bold"},[t._v("Status:")]),t._v(" "),e("div",{staticClass:"font-sans italic mx-2",class:r.class},[t._v("\n            "+t._s(t.order.factory_order_statuses.status)+"\n          ")])]):t._e()])})),t._v(" "),e("div",{staticClass:"flex flex-col items-start justify-start"},[e("span",{staticClass:"font-bold"},[t._v("Description")]),t._v(" "),e("p",[t._v("Name: "+t._s(t.order.name))]),t._v(" "),e("p",[t._v("Quantity: "+t._s(t.order.quantity))]),t._v(" "),e("p",[t._v("Description: "+t._s(t.order.description))])])],2)]),t._v(" "),e("p",[e("span",{staticClass:"font-bold"},[t._v("Order number:")]),t._v("\n    "+t._s(t.order.order_number.number)+"\n  ")]),t._v(" "),t.order.store_link?e("a",{staticClass:"font-medium text-blue-600 dark:text-blue-500 hover:underline",attrs:{target:"_blank",href:t.order.store_link.url}},[t._v("\n    Read more\n  ")]):t._e()])}),[],!1,null,"46d0348e",null);e.default=component.exports},435:function(t,e,r){"use strict";r.r(e);r(36),r(48),r(23),r(75),r(76),r(49),r(43);var n=r(1),l=r(29),o=(r(17),r(47),r(78),r(16),r(96),r(373),r(77)),d=r(367),c=r(396);function f(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function _(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?f(Object(r),!0).forEach((function(e){Object(l.a)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var v={components:{InputWithLabelIcon:r(365).default,OrderCard:c.default,SelectWithLabel:d.default},layout:"FactoryLayout",middleware:["laser","roleRedirect"],data:function(){return{searchable:"",changeDate:"",isModal:!1,selectedOrder:{},selectedOption:null,additionalOption:null,selectedOrderId:null,status:[{id:1,name:"Հաստատել",value:"confirmation"},{id:2,name:"Մերժել",value:"canceling"},{id:3,name:"Կատարման ժամկետի փոխարինում",value:"changeDate"}],additionalOptions:[{id:1,name:"Ոչ հստակ պատվեր",value:"unclear"},{id:2,name:"Սխալ տվյալներ",value:"error"},{id:2,name:"Նյութորի առկայության բացակայում",value:"error"}]}},computed:_(_({},Object(o.c)("factory",["getOrderByFactories"])),{},{inProcess:function(){return this.filterOrdersByStatus("in process")},waiting:function(){return this.filterOrdersByStatus("waiting")},finished:function(){return this.filterOrdersByStatus("finished")},searchFilter:function(){var t=this.searchable.trim().toLowerCase();return""===t?this.getOrderByFactories:this.getOrderByFactories.filter((function(e){var r=e.order_number&&"string"==typeof e.order_number.number?e.order_number.number.toLowerCase():"",n=e.name&&e.name.length>0&&"string"==typeof e.name?e.name.toLowerCase():"",l=e.description&&e.description.length>0&&"string"==typeof e.description?e.description.toLowerCase():"",o=e.prefix_code&&"string"==typeof e.prefix_code.code?e.prefix_code.code.toLowerCase():"";return r.includes(t)||l.includes(t)||n.includes(t)||o.includes(t)}))}}),mounted:function(){this.fetchOrdersByFactory(3)},methods:_(_({},Object(o.b)("factory",["fetchOrdersByFactory","doneFinishedOrder","downloadUploadedFile"])),{},{fileUrl:function(t){return this.$getFileUrl(t)},downloadFile:function(t){var e="/factories/files/".concat(t);window.location.href=e},filterOrdersByStatus:function(t){return this.getOrderByFactories?this.getOrderByFactories.filter((function(e){return e.factory_order_statuses&&e.factory_order_statuses.some((function(e){return e.status===t}))})):null},updateOrder:function(t){this.isModal=!0,this.selectedOrder.id=t.id,this.selectedOrder.status=t.status.status,this.selectedOrder.created_at=t.created_at,this.selectedOrder.finish_date=t.dates.finish_date,t.factory_order_statuses?this.selectedOrder.factory_order_statuses={status:t.factory_order_statuses.status,description:t.factory_order_statuses.description||""}:this.selectedOrder.factory_order_statuses={status:"",description:""},this.selectedOrder.name=t.name,this.selectedOrder.quantity=t.quantity,this.selectedOrder.description=t.description},closeModal:function(){this.isModal=!1},doneOrder:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=_(_({},t.selectedOrder),{},{id:t.selectedOrder.id,factory_order_statuses:{status:t.selectedOption.name,canceling:(null===(r=t.additionalOption)||void 0===r?void 0:r.name)||null,cancel_date:t.changeDate||""},factory_id:3}),!t.selectedOption||!t.selectedOption.name||"finished"===t.selectedOrder.status){e.next=10;break}return e.next=4,t.doneFinishedOrder(n);case 4:return e.next=6,t.closeModal();case 6:return e.next=8,t.fetchOrdersByFactory(3);case 8:e.next=12;break;case 10:t.$notify({text:"Product status is already finished.",duration:3e3,speed:1e3,position:"top",type:"info"}),t.closeModal();case 12:case"end":return e.stop()}}),e)})))()},toggleDetails:function(t){this.selectedOrderId===t?this.selectedOrderId=null:this.selectedOrderId=t},isOpenDetails:function(t){return this.selectedOrderId===t}})},y=r(14),component=Object(y.a)(v,(function(){var t=this,e=t._self._c;return e("main",{staticClass:"min-h-screen"},[t.getOrderByFactories&&!t.isModal?[e("div",{staticClass:"relative overflow-x-auto shadow-md sm:rounded-lg mt-36"},[e("table",{staticClass:"w-full text-sm bg-amber-50 border-b-gray-500 text-left rtl:text-right text-gray-500 dark:text-gray-400"},[t._m(0),t._v(" "),t._l(t.searchFilter,(function(r,n){return e("tbody",{key:n,staticClass:"bg-amber-50"},[e("tr",{staticClass:"border-b border-gray-200 dark:border-gray-700"},[r.id?e("th",{staticClass:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap bg-gray-50 dark:text-white dark:bg-gray-800 text-center",attrs:{scope:"row"}},[t._v("\n              "+t._s(r.id)+"\n            ")]):t._e(),t._v(" "),r.dates.created_at?e("td",{staticClass:"px-6 py-4 text-center"},[t._v("\n              "+t._s(r.dates.created_at)+"\n            ")]):t._e(),t._v(" "),r.user_id?e("td",{staticClass:"px-6 py-4 text-center"},[t._v("\n              "+t._s(r.user.name)+"\n            ")]):t._e(),t._v(" "),e("td",{staticClass:"px-6 py-4 text-center"},[t._v("\n              "+t._s(r.dates.finish_date?r.dates.finish_date:"null")+"\n            ")]),t._v(" "),r.description?e("td",{staticClass:"px-6 py-4 cursor-pointer text-center hover:text-indigo-900",on:{click:function(e){return t.toggleDetails(r.id)}}},[t._v("\n              Դիտել\n              "),t.isOpenDetails(r.id)?[e("ul",{staticClass:"w-full h-screan border-neutral-400 shadow-neutral-400 bg-neutral-400 rounded-2xl p-4 text-start text-white"},[e("li",[t._v("Անւն: "+t._s(r.name))]),t._v(" "),e("li",[t._v("Քանակ: "+t._s(r.quantity))]),t._v(" "),e("li",[t._v("Նկարագրություն: "+t._s(r.description))]),t._v(" "),t._l(r.files,(function(r){return e("li",{key:r.id},[e("a",{staticClass:"hover:!text-blue-700",attrs:{href:t.fileUrl(r.path),target:"_blank"}},[t._v("Տեսնել ֆայլը")])])}))],2)]:t._e()],2):t._e(),t._v(" "),r.factory_order_statuses?e("td",{staticClass:"flex items-center justify-center text-center"},t._l(r.factory_order_statuses,(function(r){return e("div",{key:r.id,staticClass:"px-6 py-4 text-center w-full",class:"Հաստատել"===r.status?"bg-green-500 text-white":"Մերժել"===r.status?"bg-red-500 text-white":"Կատարման ժամկետի փոխարինում"===r.status?"bg-orange-500 text-white":"text-gray-500"},[3===r.factory_id||"3"===r.factory_id?e("div",{staticClass:"text-center"},[t._v("\n                  "+t._s(r.status)+"\n                ")]):t._e()])})),0):t._e(),t._v(" "),e("td",{staticClass:"px-12 text-indigo-500 border-indigo-500 hover:bg-indigo-500 hover:text-indigo-50 cursor-pointer",on:{click:function(e){return t.updateOrder(r)}}},[t._v("\n              Խմբագրել\n            ")])])])}))],2)]),t._v(" "),e("div",{staticClass:"grid grid-cols-3 gap-4 pt-20 p-4"},[e("div",{staticClass:"flex flex-col items-center justify-start"},[e("h2",{staticClass:"text-2xl text-white font-bold italic text-center"},[t._v("\n          In process\n        ")]),t._v(" "),t._l(t.inProcess,(function(r){return e("div",{key:r.id,staticClass:"m-3"},[e("OrderCard",{attrs:{order:r,"update-order":t.updateOrder}})],1)}))],2),t._v(" "),e("div",{staticClass:"flex flex-col items-center justify-items-start"},[e("h2",{staticClass:"text-2xl text-white font-bold italic text-center"},[t._v("\n          Waiting\n        ")]),t._v(" "),t._l(t.waiting,(function(r){return e("div",{key:r.id,staticClass:"m-3"},[e("OrderCard",{attrs:{order:r,"update-order":t.updateOrder}})],1)}))],2),t._v(" "),e("div",{staticClass:"flex flex-col items-center justify-items-start"},[e("h2",{staticClass:"text-2xl text-white font-bold italic text-center"},[t._v("\n          Finished\n        ")]),t._v(" "),t._l(t.finished,(function(r){return e("div",{key:r.id,staticClass:"m-3"},[e("OrderCard",{attrs:{order:r,"update-order":t.updateOrder}})],1)}))],2)])]:t._e(),t._v(" "),t.isModal?e("div",{staticClass:"overflow-y-auto overflow-x-hidden fixed top-40 right-0 left-0 z-50 flex justify-center items-center w-full md:inset-0 h-modal md:h-full"},[e("div",{staticClass:"p-4 w-full mx-auto max-w-2xl h-full md:h-auto"},[e("div",{staticClass:"relative p-4 bg-white rounded-lg shadow dark:bg-gray-800 sm:p-5"},[e("div",{staticClass:"flex justify-between items-center pb-4 mb-4 rounded-t border-b sm:mb-5 dark:border-gray-600"},[e("h3",{staticClass:"text-lg font-semibold text-gray-900 dark:text-white"},[t._v("\n            Խմբագրել առաջադրանքը\n          ")]),t._v(" "),e("button",{staticClass:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-600 dark:hover:text-white",attrs:{type:"button"},on:{click:t.closeModal}},[e("svg",{staticClass:"w-5 h-5",attrs:{"aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"}})]),t._v(" "),e("span",{staticClass:"sr-only"},[t._v("Close modal")])])]),t._v(" "),e("div",{staticClass:"grid mb-4 sm:grid-cols-2 w-full"},[e("div",[e("select-with-label",{attrs:{dates:t.status,label:"Գործողություն"},model:{value:t.selectedOption,callback:function(e){t.selectedOption=e},expression:"selectedOption"}}),t._v(" "),t.selectedOption&&"canceling"===t.selectedOption.value?e("div",{staticClass:"my-5"},[e("select-with-label",{attrs:{dates:t.additionalOptions,label:"Մերժման պատճառ"},model:{value:t.additionalOption,callback:function(e){t.additionalOption=e},expression:"additionalOption"}})],1):t._e(),t._v(" "),t.selectedOption&&"changeDate"===t.selectedOption.value?e("div",{staticClass:"my-5"},[e("input-with-label-icon",{attrs:{type:"date",format:"dd-mm-yyyy"},model:{value:t.changeDate,callback:function(e){t.changeDate=e},expression:"changeDate"}})],1):t._e()],1)]),t._v(" "),e("button",{staticClass:"text-white inline-flex items-center bg-primary-700 hover:bg-primary-800 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800",on:{click:function(e){return t.doneOrder(t.selectedOrder.id)}}},[e("svg",{staticClass:"mr-1 -ml-1 w-6 h-6",attrs:{fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{"fill-rule":"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z","clip-rule":"evenodd"}})]),t._v("\n          Done\n        ")])])])]):t._e(),t._v(" "),e("notifications")],2)}),[function(){var t=this,e=t._self._c;return e("thead",{staticClass:"text-xs text-gray-700 bg-gray-300 uppercase dark:text-gray-400"},[e("tr",{staticClass:"border-b-neutral-700"},[e("th",{staticClass:"px-3 py-3 text-center",attrs:{scope:"col"}},[t._v("Հ/Հ")]),t._v(" "),e("th",{staticClass:"px-3 py-3 text-center",attrs:{scope:"col"}},[t._v("\n              Ստեղծման ամսաթիվ\n            ")]),t._v(" "),e("th",{staticClass:"px-3 py-3 text-center",attrs:{scope:"col"}},[t._v("Ում կողմից")]),t._v(" "),e("th",{staticClass:"px-3 py-3 text-center",attrs:{scope:"col"}},[t._v("\n              Ավարտի անհրաժեշտ ժամկետ\n            ")]),t._v(" "),e("th",{staticClass:"px-3 py-3 text-center",attrs:{scope:"col"}},[t._v("Նկարագրություն")]),t._v(" "),e("th",{staticClass:"px-3 py-3 text-center",attrs:{scope:"col"}},[t._v("Կարգավիճակ")]),t._v(" "),e("th",{staticClass:"px-3 py-3 text-center",attrs:{scope:"col"}})])])}],!1,null,"fa9dfb9e",null);e.default=component.exports}}]);