(window.webpackJsonp=window.webpackJsonp||[]).push([[10,61],{581:function(t,e,r){"use strict";r.r(e);r(33),r(403);var o={name:"Pagination",props:{meta:{type:Object,required:!0}},computed:{canPrev:function(){var t;return Number((null===(t=this.meta)||void 0===t?void 0:t.current_page)||1)>1},canNext:function(){var t,e;return Number((null===(t=this.meta)||void 0===t?void 0:t.current_page)||1)<Number((null===(e=this.meta)||void 0===e?void 0:e.last_page)||1)},pages:function(){var t,e,r=Number((null===(t=this.meta)||void 0===t?void 0:t.current_page)||1),o=Number((null===(e=this.meta)||void 0===e?void 0:e.last_page)||1),n=[];if(o<=7)for(var i=1;i<=o;i++)n.push(i);else{n.push(1),r>4&&n.push("…");for(var l=Math.max(2,r-1),c=Math.min(o-1,r+1),d=l;d<=c;d++)n.push(d);r<o-3&&n.push("…"),n.push(o)}return n}},methods:{go:function(p){var t;"…"!==p&&p!==(null===(t=this.meta)||void 0===t?void 0:t.current_page)&&this.$emit("change",p)}}},n=r(32),component=Object(n.a)(o,function(){var t=this,e=t._self._c;return e("nav",{staticClass:"flex items-center justify-center gap-1 mt-2",attrs:{role:"navigation","aria-label":"Էջավորում"}},[e("button",{staticClass:"px-2 py-1 mx-1 text-xs sm:text-sm font-medium rounded-lg border transition bg-indigo-50 text-neutral-700 border-indigo-200 hover:bg-indigo-100 disabled:opacity-50 disabled:cursor-not-allowed",attrs:{disabled:!t.canPrev},on:{click:function(e){return t.$emit("change",t.meta.current_page-1)}}},[t._v("\n    "+t._s(t.$t?t.$t("pagination.previous"):"Նախորդ")+"\n  ")]),t._v(" "),t._l(t.pages,function(p,i){return e("div",{key:"".concat(i,"-").concat(p)},["…"===p?e("span",{staticClass:"px-2 py-1 mx-1 text-xs sm:text-sm text-neutral-500"},[t._v("\n      …\n    ")]):e("button",{staticClass:"px-3 py-1 mx-1 text-xs sm:text-sm font-medium rounded-lg transition",class:p===t.meta.current_page?"bg-indigo-500 text-white shadow-sm":"bg-indigo-50 text-neutral-700 hover:bg-indigo-100 border border-indigo-200",on:{click:function(e){return t.go(p)}}},[t._v("\n      "+t._s(p)+"\n    ")])])}),t._v(" "),e("button",{staticClass:"px-2 py-1 mx-1 text-xs sm:text-sm font-medium rounded-lg border transition bg-indigo-50 text-neutral-700 border-indigo-200 hover:bg-indigo-100 disabled:opacity-50 disabled:cursor-not-allowed",attrs:{disabled:!t.canNext},on:{click:function(e){return t.$emit("change",t.meta.current_page+1)}}},[t._v("\n    "+t._s(t.$t?t.$t("pagination.next"):"Հաջորդ")+"\n  ")])],2)},[],!1,null,null,null);e.default=component.exports},622:function(t,e,r){var content=r(650);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(57).default)("7b96aa63",content,!0,{sourceMap:!1})},649:function(t,e,r){"use strict";r(622)},650:function(t,e,r){var o=r(56)(function(i){return i[1]});o.push([t.i,".input-style[data-v-435ab0bb]{border-radius:.75rem;border-width:1px;--tw-border-opacity:1;border-color:#d1d5db;border-color:rgba(209,213,219,var(--tw-border-opacity,1));--tw-bg-opacity:1;background-color:#f9fafb;background-color:rgba(249,250,251,var(--tw-bg-opacity,1));font-size:.875rem;line-height:1.25rem;outline:2px solid transparent;outline-offset:2px;padding:.625rem 1rem;transition-duration:.15s;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1)}.input-style[data-v-435ab0bb]:focus{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),0 0 transparent;box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow,0 0 transparent);--tw-ring-opacity:1;--tw-ring-color:rgba(104,117,245,var(--tw-ring-opacity,1))}.dark .input-style[data-v-435ab0bb]{--tw-border-opacity:1;border-color:#374151;border-color:rgba(55,65,81,var(--tw-border-opacity,1));--tw-bg-opacity:1;background-color:#1f2937;background-color:rgba(31,41,55,var(--tw-bg-opacity,1))}",""]),o.locals={},t.exports=o},708:function(t,e,r){"use strict";r.r(e);r(23),r(49),r(17),r(8),r(18),r(78),r(24),r(39),r(40),r(27),r(30);var o=r(1),n=r(15);r(9),r(403);function l(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,o)}return r}var c={components:{Pagination:r(581).default},props:{total:Number,filtered:Number,pagination:Object,selectedFactory:Object,operators:{type:Array,default:function(){return[]}}},data:function(){return{localFilters:{search:"",overallStatus:null,operatorId:null,timeRange:null,factoryStatus:null},factoryStatuses:[],localFactory:this.selectedFactory||null}},watch:{localFilters:{deep:!0,handler:function(){this.$emit("update:filters",function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?l(Object(r),!0).forEach(function(e){Object(n.a)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}({},this.localFilters))}},localFactory:function(t){this.$emit("update:factory",t)},selectedFactory:{immediate:!0,handler:function(t){this.localFactory=t||null,this.localFilters.operatorId=null}}},mounted:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,t.fetchFactoryStatuses();case 1:case"end":return e.stop()}},e)}))()},methods:{fetchFactoryStatuses:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark(function e(){var r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=1,t.$axios.get("/api/factories/factory-order-filters");case 1:r=e.sent,t.factoryStatuses=r.data,e.next=3;break;case 2:e.prev=2,o=e.catch(0),console.error("Failed to load factory statuses",o);case 3:case"end":return e.stop()}},e,null,[[0,2]])}))()}}},d=c,v=(r(649),r(32)),component=Object(v.a)(d,function(){var t=this,e=t._self._c;return e("div",{staticClass:"flex flex-col lg:flex-row gap-5 mb-6 bg-white dark:bg-gray-900 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-800 p-5"},[e("div",{staticClass:"flex-1 space-y-4"},[t._m(0),t._v(" "),e("div",{staticClass:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.localFilters.search,expression:"localFilters.search"}],staticClass:"input-style",attrs:{type:"text",placeholder:"Որոնել..."},domProps:{value:t.localFilters.search},on:{input:function(e){e.target.composing||t.$set(t.localFilters,"search",e.target.value)}}}),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.localFilters.factoryStatus,expression:"localFilters.factoryStatus"}],staticClass:"input-style",on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.localFilters,"factoryStatus",e.target.multiple?r:r[0])}}},[e("option",{domProps:{value:null}},[t._v("Գործարանի ստատուսները")]),t._v(" "),t._l(t.factoryStatuses,function(r,o){return e("option",{key:o,domProps:{value:r.value}},[t._v("\n          "+t._s(r.label)+"\n        ")])})],2),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.localFilters.operatorId,expression:"localFilters.operatorId"}],staticClass:"input-style",on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.localFilters,"operatorId",e.target.multiple?r:r[0])}}},[e("option",{domProps:{value:null}},[t._v("Բոլոր օպերատորները")]),t._v(" "),t._l(t.operators,function(r){return e("option",{key:r.id,domProps:{value:r.id}},[t._v("\n          "+t._s(r.name)+"\n          "),r.factory_name?e("span",[t._v(" — "+t._s(r.factory_name))]):t._e()])})],2),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.localFilters.timeRange,expression:"localFilters.timeRange"}],staticClass:"input-style",on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.localFilters,"timeRange",e.target.multiple?r:r[0])}}},[e("option",{domProps:{value:null}},[t._v("Բոլոր ժամկետները")]),t._v(" "),e("option",{attrs:{value:"today"}},[t._v("Այսօր")]),t._v(" "),e("option",{attrs:{value:"tomorrow"}},[t._v("Վաղը")]),t._v(" "),e("option",{attrs:{value:"this_week"}},[t._v("Այս շաբաթ")]),t._v(" "),e("option",{attrs:{value:"overdue"}},[t._v("Ժամկետն անցած")]),t._v(" "),e("option",{attrs:{value:"no_deadline"}},[t._v("Առանց ժամկետի")])])]),t._v(" "),e("p",{staticClass:"text-sm text-gray-600 dark:text-gray-400"},[t._v("\n      Ընդհանուր՝ "),e("strong",[t._v(t._s(t.total))]),t._v(" "),t.filtered<t.total?e("span",[t._v("\n        | Ցուցադրվում է՝ "),e("strong",[t._v(t._s(t.filtered))])]):t._e()])]),t._v(" "),t.pagination&&t.pagination.last_page>1?e("div",{staticClass:"flex items-end"},[e("Pagination",{attrs:{meta:t.pagination},on:{change:function(e){return t.$emit("change-page",e)}}})],1):t._e()])},[function(){var t=this._self._c;return t("div",{staticClass:"flex items-center justify-between"},[t("h1",{staticClass:"text-2xl font-bold text-gray-900 dark:text-white"},[this._v("\n        Պատվերներ\n      ")])])}],!1,null,"435ab0bb",null);e.default=component.exports}}]);