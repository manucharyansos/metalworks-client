(window.webpackJsonp=window.webpackJsonp||[]).push([[38,7,15,17,18,19,25],{387:function(e,t,r){var content=r(391);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(35).default)("dbf01c20",content,!0,{sourceMap:!1})},389:function(e,t,r){"use strict";r.r(t);r(242);var n={name:"InputWithLabels",props:{id:{type:String,default:""},label:{type:String,default:""},type:{type:String,default:"text"},value:{type:[String,Number],default:""},disabled:{type:Boolean,default:!1},classes:{type:String,default:""},plaseholder:{type:String,default:""}}},l=r(15),component=Object(l.a)(n,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"relative"},[t("span",{staticClass:"absolute start-0 bottom-3 text-gray-500 dark:text-gray-400"},[e._t("label_svg")],2),e._v(" "),t("input",{staticClass:"block py-2.5 ps-8 pe-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer",class:e.classes,attrs:{id:e.id,type:e.type,disabled:e.disabled,plaseholder:e.plaseholder},domProps:{value:e.value},on:{input:function(t){return e.$emit("input",t.target.value)}}}),e._v(" "),t("label",{staticClass:"absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform scale-75 top-3 left-6 origin-[0] peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-focus:scale-75 peer-focus:-translate-y-6",attrs:{for:e.id}},[e._v("\n    "+e._s(e.label)+"\n  ")]),e._v(" "),t("span",{staticClass:"absolute end-2 bottom-4 text-gray-500 dark:text-gray-400"},[e._t("label_back")],2)])}),[],!1,null,null,null);t.default=component.exports},390:function(e,t,r){"use strict";r(387)},391:function(e,t,r){var n=r(34)((function(i){return i[1]}));n.push([e.i,"canvas{background-color:#fff;border:1px solid #ccc;display:block;margin:auto}.line-color{stroke:#000}.error-message{color:red;margin-top:10px;text-align:center}",""]),n.locals={},e.exports=n},392:function(e,t,r){"use strict";r.r(t);r(33),r(52),r(20),r(12),r(242);var n={props:{label:{type:String,default:""},value:{type:[Number,Object,String],default:null},name:{type:String,default:""},dataValue:{type:[Array,Object],default:function(){return[]}}},data:function(){return{selectValue:this.value}},watch:{selectValue:function(e){this.$emit("input",e)}}},l=r(15),component=Object(l.a)(n,(function(){var e=this,t=e._self._c;return t("div",[e.label?t("label",{staticClass:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",attrs:{for:e.name}},[e._v("\n    "+e._s(e.label)+"\n  ")]):e._e(),e._v(" "),t("select",e._b({directives:[{name:"model",rawName:"v-model",value:e.selectValue,expression:"selectValue"}],staticClass:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",attrs:{id:e.name,name:e.name},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.selectValue=t.target.multiple?r:r[0]}}},"select",e.$attrs,!1),e._l(e.dataValue,(function(data,r){return t("option",{key:r,domProps:{value:data}},[e._v("\n      "+e._s(data.name)+"\n    ")])})),0),e._v(" "),e.dataValue&&0!==e.dataValue.length?e._e():t("p",{staticClass:"mt-2 text-sm text-red-500"},[e._v("\n    Տվյալներ չկան։\n  ")])])}),[],!1,null,null,null);t.default=component.exports},393:function(e,t,r){"use strict";r.r(t);var n=r(0),l=(r(11),r(52),r(50),r(12),r(44),r(385)),o=r(400),c=r(401),d={props:{dxfUrl:{type:String,required:!0}},data:function(){return{scene:null,camera:null,renderer:null,dxfGroup:null,error:null}},watch:{dxfUrl:function(){this.loadDxfFile()}},mounted:function(){this.initThreeJS(),this.loadDxfFile()},beforeDestroy:function(){this.cleanupThreeJS()},methods:{initThreeJS:function(){this.scene=new l.ad,this.camera=new l.cc(75,this.$refs.canvas.clientWidth/this.$refs.canvas.clientHeight,.1,1e3),this.renderer=new o.a({canvas:this.$refs.canvas,antialias:!0}),this.renderer.setClearColor(16777215,1),this.renderer.setSize(this.$refs.canvas.clientWidth,this.$refs.canvas.clientHeight)},cleanupThreeJS:function(){this.renderer&&this.renderer.dispose(),this.scene&&(this.scene.traverse((function(object){(object.isMesh||object.isLine)&&(object.geometry&&object.geometry.dispose(),object.material&&(Array.isArray(object.material)?object.material.forEach((function(e){return e.dispose()})):object.material.dispose()))})),this.scene.clear()),this.dxfGroup&&(this.dxfGroup.traverse((function(object){(object.isMesh||object.isLine)&&(object.geometry&&object.geometry.dispose(),object.material&&(Array.isArray(object.material)?object.material.forEach((function(e){return e.dispose()})):object.material.dispose()))})),this.dxfGroup.clear())},loadDxfFile:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n,l,o,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$axios.get("/api/factories/getFile/".concat(e.dxfUrl));case 3:if(200===(r=t.sent).status){t.next=6;break}throw new Error("HTTP սխալ: Կոդը ".concat(r.status));case 6:if((n=r.data)&&n.content){t.next=9;break}throw new Error("Ֆայլի տվյալները բացակայում են պատասխանում։");case 9:try{o=atob(n.content),c=JSON.parse(o),l=c.content?atob(c.content):o}catch(e){l=atob(n.content)}e.parseDxf(l),e.error=null,t.next=18;break;case 14:t.prev=14,t.t0=t.catch(0),console.error("DXF ֆայլը բեռնելիս սխալ:",t.t0),e.error=t.t0.message;case 18:case"end":return t.stop()}}),t,null,[[0,14]])})))()},parseDxf:function(e){var t=this;try{var r=(new c.a).parseSync(e);if(!r||!r.entities)throw new Error("DXF ֆայլը մշակելիս սխալ կամ տվյալներ չեն գտնվել։");this.dxfGroup&&(this.scene.remove(this.dxfGroup),this.dxfGroup=null),this.dxfGroup=new l.ab,r.entities.forEach((function(e){var r,n;if("LINE"===e.type){n=new l.jb({color:0}),r=(new l.n).setFromPoints([new l.wd(e.vertices[0].x,e.vertices[0].y,0),new l.wd(e.vertices[1].x,e.vertices[1].y,0)]);var line=new l.kb(r,n);t.dxfGroup.add(line)}else if("LWPOLYLINE"===e.type){n=new l.jb({color:255}),r=(new l.n).setFromPoints(e.vertices.map((function(e){return new l.wd(e.x,e.y,0)})));var polyline=new l.ib(r,n);t.dxfGroup.add(polyline)}})),this.scene.add(this.dxfGroup);var n=(new l.k).setFromObject(this.dxfGroup),o=n.getCenter(new l.wd),d=n.getSize(new l.wd);this.dxfGroup.position.set(-o.x,-o.y,0);var f=Math.max(d.x,d.y),m=this.camera.fov*(Math.PI/180),h=Math.abs(f/(2*Math.tan(m/2)));this.camera.position.set(0,0,h+10),this.camera.lookAt(new l.wd(0,0,0)),this.renderer.render(this.scene,this.camera)}catch(e){this.error=e.message}}}},f=(r(390),r(15)),component=Object(f.a)(d,(function(){var e=this,t=e._self._c;return t("div",[t("canvas",{ref:"canvas",staticClass:"line-color w-full h-full flex items-center justify-center"}),e._v(" "),e.error?t("div",{staticClass:"error-message"},[e._v("\n    DXF ֆայլը բեռնելիս սխալ՝ "+e._s(e.error)+"\n  ")]):e._e()])}),[],!1,null,null,null);t.default=component.exports},394:function(e,t,r){"use strict";r.r(t);r(242);var n={props:{label:{type:String,default:""},value:{type:String,default:""},for_LAbel:{type:String,default:""},textarea_id:{type:String,default:""},rows:{type:Number,default:4},placeholder:{type:String,default:""},disabled:{type:Boolean,default:!1}}},l=r(15),component=Object(l.a)(n,(function(){var e=this,t=e._self._c;return t("div",[t("label",{staticClass:"text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-4 scale-75 top-2 z-10 origin-[0] bg-white dark:bg-gray-900 px-2 peer-focus:px-2 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:top-1/2 peer-focus:top-2 peer-focus:scale-75 peer-focus:-translate-y-4 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto start-1",attrs:{for:e.for_LAbel}},[e._v(e._s(e.label))]),e._v(" "),t("textarea",{staticClass:"block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",attrs:{id:e.textarea_id,rows:e.rows,placeholder:e.placeholder,disabled:e.disabled},domProps:{value:e.value},on:{input:function(t){return e.$emit("input",t.target.value)}}})])}),[],!1,null,"2bf44f05",null);t.default=component.exports},406:function(e,t,r){"use strict";r.r(t);var n={name:"CreateOrder",props:{openModal:{type:Boolean,default:!1},buttonText:{type:String,default:"Շարունակել"},doneButton:{type:String,default:"Շարունակել"}}},l=r(15),component=Object(l.a)(n,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"flex flex-col items-center w-full p-6 bg-white rounded-xl shadow-lg"},[t("h2",{staticClass:"text-center text-neutral-700 font-sans italic text-xl my-6 font-bold"},[e._v("\n    Պատվերի մանրամասները\n  ")]),e._v(" "),t("div",{staticClass:"w-full grid grid-cols-1 sm:grid-cols-2 gap-6 items-center"},[t("div",{staticClass:"flex flex-col"},[e._t("pmpGroup")],2),e._v(" "),t("div",{staticClass:"flex flex-col"},[e._t("pmpName")],2)]),e._v(" "),t("div",{staticClass:"flex flex-col w-full"},[e._t("detailsDesc")],2),e._v(" "),t("div",{staticClass:"flex flex-row w-full gap-6 justify-end"},[t("button",{staticClass:"mt-8 py-3 px-10 bg-green-500 rounded-full text-white font-semibold hover:bg-green-600 transition-transform transform hover:scale-105",on:{click:function(t){return e.$emit("addButton")}}},[e._v("\n      "+e._s(e.buttonText)+"\n    ")]),e._v(" "),t("button",{staticClass:"mt-8 py-3 px-10 bg-green-500 rounded-full text-white font-semibold hover:bg-green-600 transition-transform transform hover:scale-105",on:{click:function(t){return e.$emit("doneButton")}}},[e._v("\n      "+e._s(e.doneButton)+"\n    ")])])])}),[],!1,null,null,null);t.default=component.exports},421:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r(146);var l=r(165),o=r(113);function c(e){return function(e){if(Array.isArray(e))return Object(n.a)(e)}(e)||Object(l.a)(e)||Object(o.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},430:function(e,t,r){var content=r(467);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(35).default)("2b903ddc",content,!0,{sourceMap:!1})},441:function(e,t,r){"use strict";r.r(t);r(33),r(52),r(20),r(12),r(242);var n={name:"SelectPmp",props:{label:{type:String,default:""},value:{type:[Number,Object,String],default:null},name:{type:String,default:""},dates:{type:[Array,Object],default:function(){return[]}}},data:function(){return{selectValue:this.value}},watch:{selectValue:function(e){this.$emit("input",e)}}},l=r(15),component=Object(l.a)(n,(function(){var e=this,t=e._self._c;return t("div",[e.label?t("label",{staticClass:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",attrs:{for:e.name}},[e._v("\n    "+e._s(e.label)+"\n  ")]):e._e(),e._v(" "),t("select",e._b({directives:[{name:"model",rawName:"v-model",value:e.selectValue,expression:"selectValue"}],staticClass:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",attrs:{id:e.name,name:e.name},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.selectValue=t.target.multiple?r:r[0]}}},"select",e.$attrs,!1),e._l(e.dates,(function(data,r){return t("option",{key:r,domProps:{value:data}},[e._v("\n      "+e._s(data.group||data||"N/A")+"\n    ")])})),0),e._v(" "),e.dates&&0!==e.dates.length?e._e():t("p",{staticClass:"mt-2 text-sm text-red-500"},[e._v("\n    Տվյալներ չկան։\n  ")])])}),[],!1,null,null,null);t.default=component.exports},466:function(e,t,r){"use strict";r(430)},467:function(e,t,r){var n=r(34)((function(i){return i[1]}));n.push([e.i,".container[data-v-eef9de1a]{padding:1rem}.show_file_section[data-v-eef9de1a],.show_files_name[data-v-eef9de1a]{border:1px solid #ccc;padding:1rem}.cursor-pointer[data-v-eef9de1a]{cursor:pointer}ol[data-v-eef9de1a]{list-style-type:decimal}",""]),n.locals={},e.exports=n},501:function(e,t,r){"use strict";r.r(t);r(39),r(51),r(20),r(33),r(77),r(78);var n=r(0),l=r(421),o=r(36),c=(r(11),r(45),r(250),r(54),r(80),r(52),r(244),r(50),r(12),r(97),r(26),r(44),r(30),r(245),r(246),r(160),r(79)),d=r(392),f=r(394),m=r(406),h=r(389),v=r(393);function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){Object(o.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var w={components:{SelectPmp:r(441).default,DxfViewer:v.default,InputWithLabels:h.default,CreateOrder:m.default,TextareaWithLabel:f.default,SelectWithLabel:d.default},layout:"EngineerLayout",middleware:["engineer","roleRedirect"],data:function(){return{isSelectedClient:!1,factories:{ids:[],files:{}},isDoneDetails:!0,selectedClient:null,selectedPmp:null,selectedPmpRemoteNumber:null,order:{name:null,description:null},formSubmitted:!1,isSelectedLaser:!1,isSelectedBend:!1,fileNames:[],dxfUrl:"",files:[],selectedFactoryId:null,selectedFileIndex:null}},computed:y(y(y(y({},Object(c.c)("factory",["getFactory"])),Object(c.c)("users",["getUsers"])),Object(c.c)("pmp",["getPmpes","getPmp"])),{},{users:function(){return this.getUsers},pnpGroup:function(){return this.getPmpes||[]},pnpName:function(){var e=this;if(!this.selectedPmp||!this.selectedPmp.remote_number)return[];var t=this.pnpGroup.pmp.find((function(t){return t.id===e.selectedPmp.id}));return t?t.remote_number.map((function(p){return p.remote_number})):[]}}),mounted:function(){this.fetchUsers(),this.fetchFactory(),this.fetchPmps()},methods:y(y(y(y(y({},Object(c.b)("factory",["fetchFactory"])),Object(c.b)("users",["fetchUsers"])),Object(c.b)("engineer",["createNewOrder"])),Object(c.b)("pmp",["checkIfGroupExists","fetchPmps","checkIfGroupNameExists","checkIfGroupExists"])),{},{deleteFile:function(e){this.selectedFactoryId&&this.factories.files[this.selectedFactoryId]&&(this.factories.files[this.selectedFactoryId].splice(e,1),0===this.factories.files[this.selectedFactoryId].length?(this.dxfUrl="",this.selectedFileIndex=null):(this.selectedFileIndex=0,this.loadFile(this.factories.files[this.selectedFactoryId][0])))},selectFactory:function(e){this.selectedFactoryId=e.id,this.factories.ids.includes(e.id)||this.factories.ids.push(e.id),this.factories.files[e.id]||(this.factories.files[e.id]=[]),this.selectedFileIndex=null,this.dxfUrl="",this.fileNames=[]},handleFileChange:function(e){var t=Array.from(e.target.files);this.selectedFactoryId?(this.factories.files[this.selectedFactoryId]||(this.factories.files[this.selectedFactoryId]=[]),this.factories.files[this.selectedFactoryId]=[].concat(Object(l.a)(this.factories.files[this.selectedFactoryId]),t),this.fileNames=this.factories.files[this.selectedFactoryId].map((function(e){return e.name})),this.loadFile(t[0])):this.$notify({text:"Գործարան ընտրված չէ:",duration:3e3,speed:1e3,position:"top",type:"success"})},loadFile:function(e){var t=this,r=new FileReader;r.onload=function(e){var r=new Blob([e.target.result],{type:"application/dxf"});t.dxfUrl=URL.createObjectURL(r)},r.readAsArrayBuffer(e)},selectFile:function(e){if(this.selectedFactoryId){var t=this.factories.files[this.selectedFactoryId][e];this.selectedFileIndex=e,this.loadFile(t)}},doneToFiles:function(){this.$router.push("/engineer/pmp.files")},fetchFile:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n,l,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,t.$axios.get("/api/factories/getFile/".concat(encodeURIComponent(e)),{responseType:"arraybuffer"});case 3:return n=r.sent,l="application/x-dxf",o=new Blob([n.data],{type:l}),r.abrupt("return",new File([o],e.split("/").pop(),{type:l}));case 9:return r.prev=9,r.t0=r.catch(0),console.error("Error fetching file ".concat(e,":"),r.t0),r.abrupt("return",null);case 13:case"end":return r.stop()}}),r,null,[[0,9]])})))()},pmpFiles:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n,l,o,c,d,f,m,h;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.formSubmitted=!0,e.selectedClient&&e.selectedPmp&&e.selectedPmpRemoteNumber&&e.order.description){t.next=4;break}return e.$notify({text:"Խնդրում ենք լրացնել բոլոր պարտադիր դաշտերը։",duration:3e3,speed:1e3,position:"top",type:"error"}),t.abrupt("return");case 4:if((r=new FormData).append("user_id",e.selectedClient.id),r.append("name","".concat(e.selectedPmp.group,".").concat(e.selectedPmpRemoteNumber)),r.append("description",e.order.description),r.append("status",e.order.status||"pending"),!(e.selectedPmp.files.length>0)){t.next=47;break}n={},e.selectedPmp.files.forEach((function(e){n[e.factory_id]||(n[e.factory_id]=[]),n[e.factory_id].push(e)})),l=0,o=Object.keys(n);case 13:if(!(l<o.length)){t.next=35;break}c=o[l],r.append("factories[".concat(c,"][id]"),c),d=0;case 17:if(!(d<n[c].length)){t.next=32;break}return f=n[c][d],t.prev=19,t.next=22,e.fetchFile(f.path);case 22:(m=t.sent)?(r.append("factories[".concat(c,"][files][").concat(d,"]"),m),r.append("factories[".concat(c,"][files_quantity][]"),f.quantity),r.append("factories[".concat(c,"][files_material_type][]"),f.material_type),r.append("factories[".concat(c,"][files_thickness][]"),f.thickness)):console.warn("File ".concat(f.path," not fetched")),t.next=29;break;case 26:t.prev=26,t.t0=t.catch(19),console.error("Error fetching file ".concat(f.path,":"),t.t0);case 29:d++,t.next=17;break;case 32:l++,t.next=13;break;case 35:return t.prev=35,t.next=38,e.createNewOrder(r);case 38:e.$notify({text:"Ֆայլերը հաջողությամբ վերբեռնվեցին։",duration:3e3,speed:1e3,position:"top",type:"success"}),e.resetForm(),t.next=45;break;case 42:t.prev=42,t.t1=t.catch(35),e.$notify({text:"Ֆայլերի վերբեռնման սխալ՝ ".concat((null===(h=t.t1.response)||void 0===h?void 0:h.data)||t.t1.message),duration:3e3,speed:1e3,position:"top",type:"error"});case 45:t.next=48;break;case 47:e.$notify({text:"Ընտրված PMP ֆայլեր չունի։",duration:3e3,speed:1e3,position:"top",type:"error"});case 48:case"end":return t.stop()}}),t,null,[[19,26],[35,42]])})))()},resetForm:function(){this.selectedClient=null,this.selectedPmp=null,this.selectedPmpRemoteNumber=null,this.order.description="",this.formSubmitted=!1}})},_=(r(466),r(15)),component=Object(_.a)(w,(function(){var e,t,r,n,l,o=this,c=o._self._c;return c("div",{staticClass:"container flex flex-col"},[o.isDoneDetails?c("h1",{staticClass:"text-3xl font-sans italic leading-6 my-6 text-center mx-auto"},[o._v("\n    Ստեղծել նոր պատվեր\n  ")]):o._e(),o._v(" "),o.isDoneDetails?c("div",{staticClass:"grid grid-cols-1 md:grid-cols-2 gap-8 w-full mt-12"},[c("div",{staticClass:"w-full h-full ml-auto mr-4 p-6 bg-white rounded-xl shadow-lg"},[c("select-with-label",{class:{"border-red-600":o.formSubmitted&&!o.selectedClient},attrs:{"data-value":o.users,label:"Ընտրել հաճախորդ"},model:{value:o.selectedClient,callback:function(e){o.selectedClient=e},expression:"selectedClient"}}),o._v(" "),c("div",{staticClass:"grid grid-cols-1 md:grid-cols-2 gap-8 my-12"},[c("input-with-labels",{staticClass:"shadow-md rounded-lg p-5",attrs:{id:"name",value:null===(e=o.selectedClient)||void 0===e?void 0:e.name,label:"Անուն",type:"text",disabled:!0}}),o._v(" "),c("input-with-labels",{staticClass:"shadow-md rounded-lg p-5",attrs:{id:"phone",value:null===(t=o.selectedClient)||void 0===t||null===(t=t.client)||void 0===t?void 0:t.phone,label:"Հեռախոսահամար",type:"text",disabled:!0}}),o._v(" "),c("input-with-labels",{staticClass:"shadow-md rounded-lg p-5",attrs:{id:"email",value:null===(r=o.selectedClient)||void 0===r?void 0:r.email,label:"Էլ․ փոստ",type:"text",disabled:!0}}),o._v(" "),c("input-with-labels",{staticClass:"shadow-md rounded-lg p-5",attrs:{id:"address",value:null===(n=o.selectedClient)||void 0===n||null===(n=n.client)||void 0===n?void 0:n.address,label:"Հասցե",type:"text",disabled:!0}})],1)],1),o._v(" "),c("div",{staticClass:"w-full"},[c("create-order",{attrs:{"done-button":"PMP files"},on:{doneButton:o.doneToFiles,addButton:o.pmpFiles},scopedSlots:o._u([{key:"pmpGroup",fn:function(){return[c("select-pmp",{class:{"border-red-600":o.formSubmitted&&!o.selectedPmp},attrs:{dates:o.pnpGroup.pmp,label:"Ընտրել PNP տեսակը"},model:{value:o.selectedPmp,callback:function(e){o.selectedPmp=e},expression:"selectedPmp"}})]},proxy:!0},{key:"pmpName",fn:function(){return[c("select-pmp",{class:{"border-red-600":o.formSubmitted&&!o.selectedPmpRemoteNumber},attrs:{dates:o.pnpName,label:"Ընտրել Անունը"},model:{value:o.selectedPmpRemoteNumber,callback:function(e){o.selectedPmpRemoteNumber=e},expression:"selectedPmpRemoteNumber"}})]},proxy:!0},{key:"detailsDesc",fn:function(){return[c("textarea-with-label",{staticClass:"w-full my-2 p-3 border border-gray-300 rounded-lg focus:ring-primary-600 focus:border-primary-600",class:{"border-red-500":!o.order.description&&o.formSubmitted},attrs:{placeholder:"Նկարագրություն",required:""},model:{value:o.order.description,callback:function(e){o.$set(o.order,"description",e)},expression:"order.description"}})]},proxy:!0}],null,!1,2744712323)})],1)]):o._e(),o._v(" "),o.isDoneDetails?o._e():c("div",{staticClass:"flex flex-col items-center justify-center gap-12 border border-neutral-400 shadow-xl rounded-xl py-4"},[c("div",{staticClass:"flex flex-row items-center gap-12"},[c("div",{staticClass:"flex flex-row items-center justify-center gap-12"},o._l(o.getFactory,(function(e,t){return c("div",{key:t},[c("button",{class:{"border border-neutral-600 rounded-lg px-3 py-1 italic font-sans":!0,"bg-gray-900 text-white":o.selectedFactoryId===e.id,"bg-gray-600 text-white":o.factories.files[e.id]&&o.factories.files[e.id].length>0},on:{click:function(t){return o.selectFactory(e)}}},[o._v("\n            "+o._s(e.name)+"\n          ")])])})),0),o._v(" "),c("div",{staticClass:"flex flex-row items-center justify-center gap-12 text-right my-3"},[c("button",{on:{click:function(e){o.isDoneDetails=!o.isDoneDetails}}},[c("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"25",height:"25",fill:"red",viewBox:"0 0 30 30"}},[c("path",{attrs:{d:"M15,3C8.373,3,3,8.373,3,15c0,6.627,5.373,12,12,12s12-5.373,12-12C27,8.373,21.627,3,15,3z M16.414,15 c0,0,3.139,3.139,3.293,3.293c0.391,0.391,0.391,1.024,0,1.414c-0.391,0.391-1.024,0.391-1.414,0C18.139,19.554,15,16.414,15,16.414 s-3.139,3.139-3.293,3.293c-0.391,0.391-1.024,0.391-1.414,0c-0.391-0.391-0.391-1.024,0-1.414C10.446,18.139,13.586,15,13.586,15 s-3.139-3.139-3.293-3.293c-0.391-0.391-0.391-1.024,0-1.414c0.391-0.391,1.024-0.391,1.414,0C11.861,10.446,15,13.586,15,13.586 s3.139-3.139,3.293-3.293c0.391-0.391,1.024-0.391,1.414,0c0.391,0.391,0.391,1.024,0,1.414C19.554,11.861,16.414,15,16.414,15z"}})])]),o._v(" "),c("button",{staticClass:"border border-green-700 bg-green-700 text-white rounded-xl px-3 py-1"},[o._v("\n          Շարունակել\n        ")])])]),o._v(" "),o.selectedFactoryId?c("div",{staticClass:"container flex flex-col"},[c("div",{staticClass:"grid grid-cols-2 gap-8"},[c("div",{staticClass:"show_file_section h-96"},[o.dxfUrl?c("DxfViewer",{key:o.dxfUrl,attrs:{"dxf-url":o.dxfUrl}}):o._e()],1),o._v(" "),c("div",{staticClass:"show_files_name"},[c("div",{staticClass:"w-full my-4"},[c("input",{attrs:{type:"file",multiple:""},on:{change:o.handleFileChange}})]),o._v(" "),(null===(l=o.factories.files[o.selectedFactoryId])||void 0===l?void 0:l.length)>0?c("div",[c("ol",{staticClass:"list-decimal px-3"},o._l(o.factories.files[o.selectedFactoryId],(function(e,t){return c("li",{key:t},[c("div",{staticClass:"cursor-pointer grid grid-cols-2 justify-between",class:{"border border-neutral-600 rounded-lg px-3 py-1 italic font-sans":!0,"bg-gray-900 text-white":o.selectedFileIndex===t},on:{click:function(e){return o.selectFile(t)}}},[c("span",[o._v(o._s(e.name))]),o._v(" "),c("div",{staticClass:"ml-auto",on:{click:function(e){return o.deleteFile(t)}}},[c("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"20",height:"20",fill:"red",viewBox:"0 0 24 24"}},[c("path",{attrs:{d:"M 10.806641 2 C 10.289641 2 9.7956875 2.2043125 9.4296875 2.5703125 L 9 3 L 4 3 A 1.0001 1.0001 0 1 0 4 5 L 20 5 A 1.0001 1.0001 0 1 0 20 3 L 15 3 L 14.570312 2.5703125 C 14.205312 2.2043125 13.710359 2 13.193359 2 L 10.806641 2 z M 4.3652344 7 L 5.8925781 20.263672 C 6.0245781 21.253672 6.877 22 7.875 22 L 16.123047 22 C 17.121047 22 17.974422 21.254859 18.107422 20.255859 L 19.634766 7 L 4.3652344 7 z"}})])])])])})),0)]):c("div",[c("p",[o._v("Ֆայլ չկա ընտրված գործարանի համար:")])])])])]):o._e()]),o._v(" "),c("notifications")],1)}),[],!1,null,"eef9de1a",null);t.default=component.exports}}]);