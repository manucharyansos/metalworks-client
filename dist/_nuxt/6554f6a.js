(window.webpackJsonp=window.webpackJsonp||[]).push([[58],{541:function(e,t,r){var content=r(582);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(36).default)("1f8305be",content,!0,{sourceMap:!1})},581:function(e,t,r){"use strict";r(541)},582:function(e,t,r){var m=r(35)(function(i){return i[1]});m.push([e.i,"input[data-v-66ab7d1d]:focus{background:inherit!important;border:none!important;box-shadow:none!important;color:inherit!important;outline:none!important}",""]),m.locals={},e.exports=m},636:function(e,t,r){"use strict";r.r(t);r(19),r(29),r(30),r(25),r(26);var m=r(0),o=r(10),n=(r(9),r(20),r(95),r(6),r(290),r(115),r(31));function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(e);t&&(m=m.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,m)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){Object(o.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var d={name:"EngineerPage",layout:"EngineerLayout",middleware:["engineer","roleRedirect"],data:function(){return{pmpGroup:"",pmpGroupName:"",pmpRemoteNumber:"",pmpRemoteNumberName:"",isSelectPmpGroup:!1,isSelectPmpGroupName:!1,isPmpRemoteNumber:!1,isPmpRemoteNumberName:!1,isCreatePmp:!1,isCreatePmpRemoteNumber:!1,isEditPmp:!1,pmpRemoteNumbers:[],remote_number_id:"",isExistPmpRemoteNumber:!0,pmpId:null,remoteNumberId:null}},computed:c(c({},Object(n.c)("pmp",["getPmpes"])),{},{filteredPmps:function(){var e,t,r=this;return this.pmpGroup?null===(t=this.getPmpes)||void 0===t?void 0:t.pmp.filter(function(e){return e.group.startsWith(r.pmpGroup)}):(null===(e=this.getPmpes)||void 0===e?void 0:e.pmp)||[]},filteredPmpNames:function(){var e,t,r=this;return this.pmpGroupName?null===(t=this.getPmpes)||void 0===t?void 0:t.pmp.filter(function(e){return e.group_name.toLowerCase().startsWith(r.pmpGroupName.toLowerCase())}):(null===(e=this.getPmpes)||void 0===e?void 0:e.pmp)||[]}}),watch:{pmpGroup:function(e){var t;e&&e.length>=3?null!==(t=this.getPmpes)&&void 0!==t&&t.pmp&&Array.isArray(this.getPmpes.pmp)&&(this.getPmpes.pmp.some(function(t){return String(t.group)===String(e)})?this.isExistPmpRemoteNumber=!1:(this.isExistPmpRemoteNumber=!1,this.isCreatePmp=!0)):e||(this.isSelectPmpGroup=!1,this.pmpGroupName="",this.isCreatePmp=!1)},pmpRemoteNumber:function(e){var t=this;if(!e)return this.isEditPmp=!1,this.isCreatePmpRemoteNumber=!1,this.pmpRemoteNumber="",this.pmpRemoteNumberName="",void(this.remote_number_id="");if(e.length>=2){var r,m,o=null===(r=this.getPmpes)||void 0===r||null===(r=r.pmp)||void 0===r?void 0:r.find(function(e){return String(e.group)===String(t.pmpGroup.padStart(3,"0"))});if((null==o||null===(m=o.remote_number)||void 0===m?void 0:m.length)>0){var n=e.padStart(2,"0");if(o.remote_number.some(function(e){return String(e.remote_number)===n})){this.isPmpRemoteNumber=!0,this.isEditPmp=!0,this.isCreatePmpRemoteNumber=!1;var l=o.remote_number.find(function(e){return String(e.remote_number)===n});this.remote_number_id=(null==l?void 0:l.id)||"",this.pmpRemoteNumberName=(null==l?void 0:l.remote_number_name)||""}else this.isPmpRemoteNumber=!1,this.isEditPmp=!1,this.isCreatePmpRemoteNumber=!0,this.remote_number_id="",this.pmpRemoteNumberName=""}else this.isEditPmp=!1,this.isCreatePmpRemoteNumber=!1,this.remote_number_id=""}},pmpGroupName:function(e){var t;e?null!==(t=this.getPmpes)&&void 0!==t&&t.pmp&&Array.isArray(this.getPmpes.pmp)&&this.getPmpes.pmp.some(function(t){return String(t.group_name)===String(e)})&&(this.isExistPmpRemoteNumber=!1):e||(this.isSelectPmpGroupName=!1,this.pmpGroup="")},pmpRemoteNumberName:function(e){var t=this;if(e){var r,m,o=null===(r=this.getPmpes)||void 0===r||null===(r=r.pmp)||void 0===r?void 0:r.find(function(e){return String(e.group)===String(t.pmpGroup.padStart(3,"0"))});if((null==o||null===(m=o.remote_number)||void 0===m?void 0:m.length)>0)if(o.remote_number.some(function(t){return String(t.remote_number_name)===String(e)})){var n=o.remote_number.find(function(t){return String(t.remote_number_name)===String(e)});n&&(this.pmpRemoteNumber=n.remote_number,this.remote_number_id=n.id,this.isEditPmp=!0,this.isCreatePmpRemoteNumber=!1,this.isPmpRemoteNumber=!1)}else this.isEditPmp=!1,this.isCreatePmpRemoteNumber=!0}else this.isEditPmp=!1,this.isCreatePmpRemoteNumber=!1,this.pmpRemoteNumber="",this.remote_number_id=""}},created:function(){this.fetchPmps()},methods:c(c({},Object(n.b)("pmp",["fetchPmps","createPmp","checkPmpByRemoteNumber","rememberNumberPmp"])),{},{openPmpGroup:function(){this.isSelectPmpGroup=!this.isSelectPmpGroup,this.isSelectPmpGroupName=!1,this.isPmpRemoteNumber=!1,this.isPmpRemoteNumberName=!1},openRemoteNumber:function(){this.isPmpRemoteNumber=!this.isPmpRemoteNumber,this.isSelectPmpGroup=!1,this.isSelectPmpGroupName=!1,this.isPmpRemoteNumberName=!1},openPmpGroupName:function(){this.isSelectPmpGroupName=!this.isSelectPmpGroupName,this.isSelectPmpGroup=!1,this.isPmpRemoteNumber=!1,this.isPmpRemoteNumberName=!1},openRemoteNumberName:function(){this.isPmpRemoteNumberName=!this.isPmpRemoteNumberName,this.isSelectPmpGroup=!1,this.isPmpRemoteNumber=!1,this.isSelectPmpGroupName=!1},selectPmpGroup:function(e){var t=this;this.isSelectPmpGroupName=!1,this.pmpId=e.id,this.pmpGroup=e.group,this.pmpGroupName=e.group_name,this.pmpRemoteNumbers=e.remote_number,this.pmpRemoteNumber=this.pmpRemoteNumbers[e.remote_number],this.pmpRemoteNumberName=this.pmpRemoteNumbers[e.remote_number_name],this.isSelectPmpGroup=!1,this.isSelectPmpGroupName=!1,this.isExistPmpRemoteNumber=!1;var r=this.getPmpes.pmp.some(function(e){return e.group===t.pmpGroup});r||(this.isCreatePmp=!0)},selectPmpGroupName:function(e){this.pmpGroup=e.group,this.pmpGroupName=e.group_name,this.pmpRemoteNumbers=e.remote_number,this.pmpRemoteNumber=this.pmpRemoteNumbers[e.remote_number],this.pmpRemoteNumberName=this.pmpRemoteNumbers[e.remote_number_name],this.isSelectPmpGroupName=!1,this.isSelectPmpGroup=!1,this.isExistPmpRemoteNumber=!1},selectPmpRemoteNumber:function(e){this.remoteNumberId=e.id,this.pmpRemoteNumberName=e.remote_number_name,this.pmpRemoteNumber=e.remote_number,this.isPmpRemoteNumber=!1,this.remote_number_id=e.id},selectPmpRemoteNumberName:function(e){this.remoteNumberId=e.id,this.pmpRemoteNumberName=e.remote_number_name,this.pmpRemoteNumber=e.remote_number,this.isPmpRemoteNumberName=!1},addPmpGroup:function(){var e=this;return Object(m.a)(regeneratorRuntime.mark(function t(){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.pmpGroup&&e.pmpGroupName&&e.pmpRemoteNumber&&e.pmpRemoteNumberName){t.next=1;break}return e.$notify({text:"Group or Remote Number is missing:",duration:3e3,speed:1e3,position:"top",type:"error"}),t.abrupt("return");case 1:return r={group:e.pmpGroup.padStart(3,"0"),group_name:e.pmpGroupName,remote_number:e.pmpRemoteNumber.padStart(2,"0"),remote_number_name:e.pmpRemoteNumberName,admin_confirmation:!0},t.next=2,e.createPmp(r);case 2:if(!t.sent){t.next=4;break}return t.next=3,e.resetPmpData();case 3:return t.next=4,e.fetchPmps();case 4:case"end":return t.stop()}},t)}))()},resetPmpData:function(){this.pmpGroup="",this.pmpGroupName="",this.pmpRemoteNumber=null,this.pmpRemoteNumberName=null},editPmp:function(){this.remoteNumberId?this.$router.push({path:"/engineer/files/view",query:{id:this.remoteNumberId}}):this.$notify({text:"Հաշվի ID-ն բացակայում է:",duration:3e3,speed:1e3,position:"top",type:"error"})},addPmpGroupRemoteNumber:function(){var e=this;return Object(m.a)(regeneratorRuntime.mark(function t(){var data,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.pmpGroup&&e.pmpGroupName&&e.pmpRemoteNumberName&&e.pmpRemoteNumberName){t.next=1;break}return t.abrupt("return");case 1:return data={id:e.pmpId,group:e.pmpGroup,group_name:e.pmpGroupName,remote_number:e.pmpRemoteNumber,remote_number_name:e.pmpRemoteNumberName},t.next=2,e.rememberNumberPmp(data);case 2:if(r=t.sent,e.resetPmpData(),!r){t.next=5;break}if(e.isExistPmpRemoteNumber=!0,e.isCreatePmp=!1,e.isEditPmp=!1,e.isCreatePmpRemoteNumber=!1,!e.remoteNumberId){t.next=4;break}return t.next=3,e.$router.push({path:"/engineer/files/view",query:{id:e.remoteNumberId}});case 3:t.next=5;break;case 4:e.$notify({text:"Հաշվի ID-ն բացակայում է:",duration:3e3,speed:1e3,position:"top",type:"error"});case 5:case"end":return t.stop()}},t)}))()}})},h=(r(581),r(11)),component=Object(h.a)(d,function(){var e=this,t=e._self._c;return t("main",{staticClass:"min-h-screen bg-gray-50 p-6"},[t("div",{staticClass:"max-w-7xl mx-auto bg-white rounded-xl shadow-md overflow-hidden h-screen"},[e._m(0),e._v(" "),t("div",{staticClass:"p-6 grid grid-cols-1 md:grid-cols-3 gap-8"},[t("div",{staticClass:"space-y-4"},[t("h2",{staticClass:"text-xl font-semibold text-gray-700"},[e._v("Խումբ")]),e._v(" "),t("div",{staticClass:"relative"},[t("label",{staticClass:"block text-sm font-medium text-gray-600 mb-1",attrs:{for:"pmpGroup"}},[e._v("\n            Ծածկագիր\n          ")]),e._v(" "),t("div",{staticClass:"relative"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.pmpGroup,expression:"pmpGroup"}],staticClass:"w-full pl-3 pr-8 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition",attrs:{id:"pmpGroup",type:"text",placeholder:"Նշեք ծածկագիր"},domProps:{value:e.pmpGroup},on:{focus:e.openPmpGroup,input:function(t){t.target.composing||(e.pmpGroup=t.target.value)}}}),e._v(" "),t("button",{staticClass:"absolute inset-y-0 right-0 flex items-center pr-3 text-gray-500 hover:text-gray-700",on:{click:e.openPmpGroup}},[t("svg",{staticClass:"w-5 h-5",attrs:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"}},[t("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"}})])])]),e._v(" "),e.isSelectPmpGroup?t("div",{staticClass:"absolute z-10 mt-1 w-full bg-white rounded-md shadow-lg border border-gray-200 max-h-60 overflow-auto"},[t("ul",{staticClass:"py-1"},e._l(e.filteredPmps,function(r){return t("li",{key:r.id,staticClass:"px-4 py-2 hover:bg-blue-50 cursor-pointer text-gray-700",on:{click:function(t){return e.selectPmpGroup(r)}}},[e._v("\n                "+e._s(r.group)+"\n              ")])}),0)]):e._e()]),e._v(" "),t("div",{staticClass:"relative"},[t("label",{staticClass:"block text-sm font-medium text-gray-600 mb-1"},[e._v("\n            Անվանում\n          ")]),e._v(" "),t("div",{staticClass:"relative"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.pmpGroupName,expression:"pmpGroupName"}],staticClass:"w-full pl-3 pr-8 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition",attrs:{type:"text",placeholder:"Նշեք անվանում"},domProps:{value:e.pmpGroupName},on:{focus:e.openPmpGroupName,input:function(t){t.target.composing||(e.pmpGroupName=t.target.value)}}}),e._v(" "),t("button",{staticClass:"absolute inset-y-0 right-0 flex items-center pr-3 text-gray-500 hover:text-gray-700",on:{click:e.openPmpGroupName}},[t("svg",{staticClass:"w-5 h-5",attrs:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"}},[t("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"}})])])]),e._v(" "),e.isSelectPmpGroupName?t("div",{staticClass:"absolute z-10 mt-1 w-full bg-white rounded-md shadow-lg border border-gray-200 max-h-60 overflow-auto"},[t("ul",{staticClass:"py-1"},e._l(e.filteredPmpNames,function(r){return t("li",{key:r.id,staticClass:"px-4 py-2 hover:bg-blue-50 cursor-pointer text-gray-700",on:{click:function(t){return e.selectPmpGroupName(r)}}},[e._v("\n                "+e._s(r.group_name)+"\n              ")])}),0)]):e._e()])]),e._v(" "),t("div",{staticClass:"space-y-4"},[t("h2",{staticClass:"text-xl font-semibold text-gray-700"},[e._v("Ենթախումբ")]),e._v(" "),t("div",{staticClass:"relative"},[t("label",{staticClass:"block text-sm font-medium text-gray-600 mb-1"},[e._v("Ծածկագիր\n          ")]),e._v(" "),t("div",{staticClass:"relative"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.pmpRemoteNumber,expression:"pmpRemoteNumber"}],staticClass:"w-full pl-3 pr-8 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition disabled:bg-gray-100 disabled:text-gray-500",attrs:{type:"text",disabled:e.isExistPmpRemoteNumber},domProps:{value:e.pmpRemoteNumber},on:{focus:e.openRemoteNumber,input:function(t){t.target.composing||(e.pmpRemoteNumber=t.target.value)}}}),e._v(" "),t("button",{staticClass:"absolute inset-y-0 right-0 flex items-center pr-3 text-gray-500 hover:text-gray-700",on:{click:e.openRemoteNumber}},[t("svg",{staticClass:"w-5 h-5",attrs:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"}},[t("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"}})])])]),e._v(" "),e.isPmpRemoteNumber?t("div",{staticClass:"absolute z-10 mt-1 w-full bg-white rounded-md shadow-lg border border-gray-200 max-h-60 overflow-auto"},[t("ul",{staticClass:"py-1"},e._l(e.pmpRemoteNumbers,function(r){return t("li",{key:r.id,staticClass:"px-4 py-2 hover:bg-blue-50 cursor-pointer text-gray-700",on:{click:function(t){return e.selectPmpRemoteNumber(r)}}},[e._v("\n                "+e._s(r.remote_number)+"\n              ")])}),0)]):e._e()]),e._v(" "),t("div",{staticClass:"relative"},[t("label",{staticClass:"block text-sm font-medium text-gray-600 mb-1"},[e._v("\n            Նկարագրություն\n          ")]),e._v(" "),t("div",{staticClass:"relative"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.pmpRemoteNumberName,expression:"pmpRemoteNumberName"}],staticClass:"w-full pl-3 pr-8 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition disabled:bg-gray-100 disabled:text-gray-500",attrs:{type:"text",disabled:e.isExistPmpRemoteNumber},domProps:{value:e.pmpRemoteNumberName},on:{focus:e.openRemoteNumberName,input:function(t){t.target.composing||(e.pmpRemoteNumberName=t.target.value)}}}),e._v(" "),t("button",{staticClass:"absolute inset-y-0 right-0 flex items-center pr-3 text-gray-500 hover:text-gray-700",on:{click:e.openRemoteNumberName}},[t("svg",{staticClass:"w-5 h-5",attrs:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"}},[t("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"}})])])]),e._v(" "),e.isPmpRemoteNumberName?t("div",{staticClass:"absolute z-10 mt-1 w-full bg-white rounded-md shadow-lg border border-gray-200 max-h-60 overflow-auto"},[t("ul",{staticClass:"py-1"},e._l(e.pmpRemoteNumbers,function(r){return t("li",{key:r.id,staticClass:"px-4 py-2 hover:bg-blue-50 cursor-pointer text-gray-700",on:{click:function(t){return e.selectPmpRemoteNumberName(r)}}},[e._v("\n                "+e._s(r.remote_number_name)+"\n              ")])}),0)]):e._e()])]),e._v(" "),t("div",{staticClass:"flex flex-col justify-end gap-4"},[e.isCreatePmp?t("button",{staticClass:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white font-medium rounded-lg shadow-sm transition transform hover:scale-105",on:{click:e.addPmpGroup}},[e._v("\n          Ստեղծել\n        ")]):e._e(),e._v(" "),e.isCreatePmpRemoteNumber?t("button",{staticClass:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white font-medium rounded-lg shadow-sm transition transform hover:scale-105",on:{click:e.addPmpGroupRemoteNumber}},[e._v("\n          Ստեղծել հերթական համար\n        ")]):e._e(),e._v(" "),e.isEditPmp?t("button",{staticClass:"px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white font-medium rounded-lg shadow-sm transition transform hover:scale-105",on:{click:e.editPmp}},[e._v("\n          Դիտել\n        ")]):e._e()])])]),e._v(" "),t("notifications")],1)},[function(){var e=this._self._c;return e("div",{staticClass:"p-6 border-b border-gray-200"},[e("h1",{staticClass:"text-3xl font-bold text-gray-800 font-serif italic"},[this._v("\n        Նախագծեր\n      ")])])}],!1,null,"66ab7d1d",null);t.default=component.exports}}]);