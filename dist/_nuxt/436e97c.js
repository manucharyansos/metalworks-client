(window.webpackJsonp=window.webpackJsonp||[]).push([[88],{458:function(t,r,e){"use strict";var n=e(459).has;t.exports=function(t){return n(t),t}},459:function(t,r,e){"use strict";var n=e(4),o=Set.prototype;t.exports={Set:Set,add:n(o.add),has:n(o.has),remove:n(o.delete),proto:o}},460:function(t,r,e){"use strict";var n=e(4),o=e(281),c=e(459),l=c.Set,d=c.proto,f=n(d.forEach),v=n(d.keys),h=v(new l).next;t.exports=function(t,r,e){return e?o({iterator:v(t),next:h},r):f(t,r)}},461:function(t,r,e){"use strict";var n=e(47),o=e(12),c=e(477),l=e(16),d=n("Set");t.exports=function(t){return function(t){return l(t)&&"number"==typeof t.size&&o(t.has)&&o(t.keys)}(t)?t:c(t)?new d(t):t}},462:function(t,r,e){"use strict";var n=e(51),o=e(24),c=e(14),l=e(70),d=e(479),f="Invalid size",v=RangeError,h=TypeError,m=Math.max,x=function(t,r){this.set=t,this.size=m(r,0),this.has=n(t.has),this.keys=n(t.keys)};x.prototype={getIterator:function(){return d(o(c(this.keys,this.set)))},includes:function(t){return c(this.has,this.set,t)}},t.exports=function(t){o(t);var r=+t.size;if(r!=r)throw new h(f);var e=l(r);if(e<0)throw new v(f);return new x(t,e)}},465:function(t,r,e){"use strict";var n=e(284),o=e(459);t.exports=n(o.proto,"size","get")||function(t){return t.size}},467:function(t,r,e){"use strict";var n=e(459),o=e(460),c=n.Set,l=n.add;t.exports=function(t){var r=new c;return o(t,function(t){l(r,t)}),r}},472:function(t,r,e){"use strict";e(473)},473:function(t,r,e){"use strict";e(193)("Set",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},e(285))},474:function(t,r,e){"use strict";var n=e(3),o=e(458),c=e(459).add;n({target:"Set",proto:!0,real:!0,forced:!0},{addAll:function(){for(var t=o(this),r=0,e=arguments.length;r<e;r++)c(t,arguments[r]);return t}})},475:function(t,r,e){"use strict";var n=e(3),o=e(458),c=e(459).remove;n({target:"Set",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var t,r=o(this),e=!0,n=0,l=arguments.length;n<l;n++)t=c(r,arguments[n]),e=e&&t;return!!e}})},476:function(t,r,e){"use strict";var n=e(3),o=e(14),c=e(461),l=e(478);n({target:"Set",proto:!0,real:!0,forced:!0},{difference:function(t){return o(l,this,c(t))}})},477:function(t,r,e){"use strict";var n=e(97),o=e(21),c=e(69),l=e(13),d=e(96),f=l("iterator"),v=Object;t.exports=function(t){if(c(t))return!1;var r=v(t);return void 0!==r[f]||"@@iterator"in r||o(d,n(r))}},478:function(t,r,e){"use strict";var n=e(458),o=e(459),c=e(467),l=e(465),d=e(462),f=e(460),v=e(281),h=o.has,m=o.remove;t.exports=function(t){var r=n(this),e=d(t),o=c(r);return l(r)<=e.size?f(r,function(t){e.includes(t)&&m(o,t)}):v(e.getIterator(),function(t){h(o,t)&&m(o,t)}),o}},479:function(t,r,e){"use strict";t.exports=function(t){return{iterator:t,next:t.next,done:!1}}},480:function(t,r,e){"use strict";var n=e(3),o=e(34),c=e(458),l=e(460);n({target:"Set",proto:!0,real:!0,forced:!0},{every:function(t){var r=c(this),e=o(t,arguments.length>1?arguments[1]:void 0);return!1!==l(r,function(t){if(!e(t,t,r))return!1},!0)}})},481:function(t,r,e){"use strict";var n=e(3),o=e(34),c=e(458),l=e(459),d=e(460),f=l.Set,v=l.add;n({target:"Set",proto:!0,real:!0,forced:!0},{filter:function(t){var r=c(this),e=o(t,arguments.length>1?arguments[1]:void 0),n=new f;return d(r,function(t){e(t,t,r)&&v(n,t)}),n}})},482:function(t,r,e){"use strict";var n=e(3),o=e(34),c=e(458),l=e(460);n({target:"Set",proto:!0,real:!0,forced:!0},{find:function(t){var r=c(this),e=o(t,arguments.length>1?arguments[1]:void 0),n=l(r,function(t){if(e(t,t,r))return{value:t}},!0);return n&&n.value}})},483:function(t,r,e){"use strict";var n=e(3),o=e(14),c=e(461),l=e(484);n({target:"Set",proto:!0,real:!0,forced:!0},{intersection:function(t){return o(l,this,c(t))}})},484:function(t,r,e){"use strict";var n=e(458),o=e(459),c=e(465),l=e(462),d=e(460),f=e(281),v=o.Set,h=o.add,m=o.has;t.exports=function(t){var r=n(this),e=l(t),o=new v;return c(r)>e.size?f(e.getIterator(),function(t){m(r,t)&&h(o,t)}):d(r,function(t){e.includes(t)&&h(o,t)}),o}},485:function(t,r,e){"use strict";var n=e(3),o=e(14),c=e(461),l=e(486);n({target:"Set",proto:!0,real:!0,forced:!0},{isDisjointFrom:function(t){return o(l,this,c(t))}})},486:function(t,r,e){"use strict";var n=e(458),o=e(459).has,c=e(465),l=e(462),d=e(460),f=e(281),v=e(191);t.exports=function(t){var r=n(this),e=l(t);if(c(r)<=e.size)return!1!==d(r,function(t){if(e.includes(t))return!1},!0);var h=e.getIterator();return!1!==f(h,function(t){if(o(r,t))return v(h,"normal",!1)})}},487:function(t,r,e){"use strict";var n=e(3),o=e(14),c=e(461),l=e(488);n({target:"Set",proto:!0,real:!0,forced:!0},{isSubsetOf:function(t){return o(l,this,c(t))}})},488:function(t,r,e){"use strict";var n=e(458),o=e(465),c=e(460),l=e(462);t.exports=function(t){var r=n(this),e=l(t);return!(o(r)>e.size)&&!1!==c(r,function(t){if(!e.includes(t))return!1},!0)}},489:function(t,r,e){"use strict";var n=e(3),o=e(14),c=e(461),l=e(490);n({target:"Set",proto:!0,real:!0,forced:!0},{isSupersetOf:function(t){return o(l,this,c(t))}})},490:function(t,r,e){"use strict";var n=e(458),o=e(459).has,c=e(465),l=e(462),d=e(281),f=e(191);t.exports=function(t){var r=n(this),e=l(t);if(c(r)<e.size)return!1;var v=e.getIterator();return!1!==d(v,function(t){if(!o(r,t))return f(v,"normal",!1)})}},491:function(t,r,e){"use strict";var n=e(3),o=e(4),c=e(458),l=e(460),d=e(22),f=o([].join),v=o([].push);n({target:"Set",proto:!0,real:!0,forced:!0},{join:function(t){var r=c(this),e=void 0===t?",":d(t),n=[];return l(r,function(t){v(n,t)}),f(n,e)}})},492:function(t,r,e){"use strict";var n=e(3),o=e(34),c=e(458),l=e(459),d=e(460),f=l.Set,v=l.add;n({target:"Set",proto:!0,real:!0,forced:!0},{map:function(t){var r=c(this),e=o(t,arguments.length>1?arguments[1]:void 0),n=new f;return d(r,function(t){v(n,e(t,t,r))}),n}})},493:function(t,r,e){"use strict";var n=e(3),o=e(51),c=e(458),l=e(460),d=TypeError;n({target:"Set",proto:!0,real:!0,forced:!0},{reduce:function(t){var r=c(this),e=arguments.length<2,n=e?void 0:arguments[1];if(o(t),l(r,function(o){e?(e=!1,n=o):n=t(n,o,o,r)}),e)throw new d("Reduce of empty set with no initial value");return n}})},494:function(t,r,e){"use strict";var n=e(3),o=e(34),c=e(458),l=e(460);n({target:"Set",proto:!0,real:!0,forced:!0},{some:function(t){var r=c(this),e=o(t,arguments.length>1?arguments[1]:void 0);return!0===l(r,function(t){if(e(t,t,r))return!0},!0)}})},495:function(t,r,e){"use strict";var n=e(3),o=e(14),c=e(461),l=e(496);n({target:"Set",proto:!0,real:!0,forced:!0},{symmetricDifference:function(t){return o(l,this,c(t))}})},496:function(t,r,e){"use strict";var n=e(458),o=e(459),c=e(467),l=e(462),d=e(281),f=o.add,v=o.has,h=o.remove;t.exports=function(t){var r=n(this),e=l(t).getIterator(),o=c(r);return d(e,function(t){v(r,t)?h(o,t):f(o,t)}),o}},497:function(t,r,e){"use strict";var n=e(3),o=e(14),c=e(461),l=e(498);n({target:"Set",proto:!0,real:!0,forced:!0},{union:function(t){return o(l,this,c(t))}})},498:function(t,r,e){"use strict";var n=e(458),o=e(459).add,c=e(467),l=e(462),d=e(281);t.exports=function(t){var r=n(this),e=l(t).getIterator(),f=c(r);return d(e,function(t){o(f,t)}),f}},549:function(t,r,e){var content=e(599);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,e(36).default)("22d70bd7",content,!0,{sourceMap:!1})},598:function(t,r,e){"use strict";e(549)},599:function(t,r,e){var n=e(35)(function(i){return i[1]});n.push([t.i,".product-show[data-v-bf5e0c1e]{min-height:calc(100vh - 200px)}img[data-v-bf5e0c1e]{transition:opacity .25s ease}",""]),n.locals={},t.exports=n},657:function(t,r,e){"use strict";e.r(r);e(19),e(42),e(37),e(18),e(29),e(30),e(25),e(26);var n=e(0),o=e(195),c=e(10),l=(e(9),e(20),e(43),e(190),e(6),e(472),e(27),e(474),e(475),e(476),e(480),e(481),e(482),e(483),e(485),e(487),e(489),e(491),e(492),e(493),e(494),e(495),e(497),e(28),e(31));function d(t,r){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),e.push.apply(e,n)}return e}function f(t){for(var r=1;r<arguments.length;r++){var e=null!=arguments[r]?arguments[r]:{};r%2?d(Object(e),!0).forEach(function(r){Object(c.a)(t,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):d(Object(e)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))})}return t}var v="/placeholder-product.jpg",h={data:function(){return{id:null,loading:!1,error:null,currentImage:null}},computed:f(f({},Object(l.c)("products",["getProduct"])),{},{product:function(){return this.getProduct},formattedPrice:function(){var t;return(Number(null===(t=this.product)||void 0===t?void 0:t.price)||0).toLocaleString()},galleryImages:function(){var t,r,main=null!==(t=this.product)&&void 0!==t&&t.image_url?[this.product.image_url]:[],e=Array.isArray(null===(r=this.product)||void 0===r?void 0:r.images)?this.product.images.map(function(i){return null==i?void 0:i.url}).filter(Boolean):[];return Object(o.a)(new Set([].concat(main,Object(o.a)(e)))).length?Object(o.a)(new Set([].concat(main,Object(o.a)(e)))):[v]},displayedImage:function(){return this.currentImage||this.galleryImages[0]||v}}),created:function(){this.id=this.$route.query.id},mounted:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=1,t.fetchProductData();case 1:case"end":return r.stop()}},r)}))()},methods:f(f(f({},Object(l.b)("products",["fetchProduct"])),Object(l.b)("basket",["addToBasket","openBasket"])),{},{fetchProductData:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t.loading=!0,t.error=null,r.prev=1,r.next=2,t.fetchProduct(t.id);case 2:t.$nextTick(function(){t.currentImage=t.galleryImages[0]||null}),r.next=4;break;case 3:r.prev=3,r.catch(1),t.error="Չհաջողվեց բեռնել ապրանքը";case 4:return r.prev=4,t.loading=!1,r.finish(4);case 5:case"end":return r.stop()}},r,null,[[1,3,4,5]])}))()},addToCart:function(t){var r=this;return Object(n.a)(regeneratorRuntime.mark(function e(){var n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(n=r.$auth)&&void 0!==n&&n.loggedIn){e.next=2;break}return e.next=1,r.$router.push("/login");case 1:return e.abrupt("return");case 2:return e.next=3,r.addToBasket(t);case 3:r.openBasket&&r.openBasket(),(null===(o=r.$toast)||void 0===o?void 0:o.success)&&r.$toast.success("Ապրանքը ավելացվել է զամբյուղին",{position:"top-right",duration:3e3});case 4:case"end":return e.stop()}},e)}))()},onImgError:function(t){t.target.src=v},thumbError:function(t){t.target.src=v}})},m=(e(598),e(11)),component=Object(m.a)(h,function(){var t=this,r=t._self._c;return r("div",{staticClass:"product-show my-8 md:my-16 lg:my-24 px-4"},[t.loading?r("div",{staticClass:"flex justify-center items-center h-64"},[r("div",{staticClass:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})]):t.error?r("div",{staticClass:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-4 rounded"},[r("p",[t._v(t._s(t.error))])]):t.product?r("div",{staticClass:"max-w-6xl mx-auto"},[r("div",{staticClass:"md:hidden"},[r("div",{staticClass:"relative mb-4 rounded-lg overflow-hidden shadow"},[r("img",{staticClass:"w-full h-64 object-cover",attrs:{src:t.displayedImage,alt:t.product.name,loading:"lazy"},on:{error:t.onImgError}}),t._v(" "),t.galleryImages.length>1?r("div",{staticClass:"absolute bottom-3 left-0 right-0 flex justify-center gap-2"},t._l(t.galleryImages,function(e,i){return r("button",{key:"dot-".concat(i),staticClass:"w-2.5 h-2.5 rounded-full ring-1 ring-black/10",class:t.currentImage===e?"bg-blue-500":"bg-white/70",attrs:{"aria-label":"Image ".concat(i+1)},on:{click:function(r){t.currentImage=e}}})}),0):t._e()]),t._v(" "),r("div",{staticClass:"p-4 bg-white rounded-lg shadow"},[r("h1",{staticClass:"text-2xl font-bold text-gray-800 mb-2"},[t._v("\n          "+t._s(t.product.name)+"\n        ")]),t._v(" "),r("p",{staticClass:"text-gray-600 mb-4"},[t._v(t._s(t.product.description))]),t._v(" "),r("p",{staticClass:"text-red-600 text-xl font-semibold mb-4"},[t._v("\n          "+t._s(t.formattedPrice)+" դրամ\n        ")]),t._v(" "),r("button",{staticClass:"w-full bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-lg transition",on:{click:function(r){return t.addToCart(t.product)}}},[t._v("\n          Ավելացնել զամբյուղ\n        ")])])]),t._v(" "),r("div",{staticClass:"hidden md:grid md:grid-cols-2 gap-8 lg:gap-12"},[r("div",[r("div",{staticClass:"mb-4 rounded-lg overflow-hidden shadow"},[r("img",{staticClass:"w-full h-96 object-cover",attrs:{src:t.displayedImage,alt:t.product.name,loading:"lazy"},on:{error:t.onImgError}})]),t._v(" "),t.galleryImages.length>1?r("div",{staticClass:"grid grid-cols-4 gap-2 mt-2"},t._l(t.galleryImages,function(e,n){return r("button",{key:"thumb-".concat(n),staticClass:"h-20 rounded overflow-hidden border-2 transition",class:t.currentImage===e?"border-blue-500":"border-transparent hover:border-gray-200",attrs:{"aria-label":"Select image ".concat(n+1)},on:{click:function(r){t.currentImage=e}}},[r("img",{staticClass:"w-full h-full object-cover",attrs:{src:e,alt:"".concat(t.product.name," - ").concat(n+1),loading:"lazy"},on:{error:function(r){return t.thumbError(r)}}})])}),0):t._e()]),t._v(" "),r("div",[r("h1",{staticClass:"text-3xl lg:text-4xl font-bold text-gray-800 mb-4"},[t._v("\n          "+t._s(t.product.name)+"\n        ")]),t._v(" "),r("p",{staticClass:"text-gray-700 mb-6 text-lg"},[t._v(t._s(t.product.description))]),t._v(" "),r("p",{staticClass:"text-red-600 text-2xl lg:text-3xl font-bold mb-8"},[t._v("\n          "+t._s(t.formattedPrice)+" դրամ\n        ")]),t._v(" "),r("button",{staticClass:"bg-blue-600 hover:bg-blue-700 text-white py-3 px-8 rounded-lg transition text-lg",on:{click:function(r){return t.addToCart(t.product)}}},[t._v("\n          Ավելացնել զամբյուղ\n        ")])])])]):t._e()])},[],!1,null,"bf5e0c1e",null);r.default=component.exports}}]);