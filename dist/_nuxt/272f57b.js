(window.webpackJsonp=window.webpackJsonp||[]).push([[62,33],{407:function(t,r,e){"use strict";var n=e(3),o=e(254).trim;n({target:"String",proto:!0,forced:e(408)("trim")},{trim:function(){return o(this)}})},408:function(t,r,e){"use strict";var n=e(98).PROPER,o=e(5),c=e(255);t.exports=function(t){return o(function(){return!!c[t]()||"​᠎"!=="​᠎"[t]()||n&&c[t].name!==t})}},419:function(t,r,e){"use strict";(function(t){e(29),e(54),e(43),e(25),e(80),e(18),e(10),e(97),e(167),e(407);r.a={name:"ProductTable",props:{products:{type:Array,default:function(){return[]}},pagination:{type:Object,default:function(){return null}},searchQuery:{type:String,default:""}},emits:["update:searchQuery","change-page"],data:function(){return{imageErrors:{}}},computed:{filteredProducts:function(){var t=this;return this.searchQuery?this.products.filter(function(r){return r.name.toLowerCase().includes(t.searchQuery.toLowerCase())||r.description.toLowerCase().includes(t.searchQuery.toLowerCase())}):this.products}},methods:{resolveImageUrl:function(image){if(!image||"string"!=typeof image||""===image.trim())return null;if(image.startsWith("http")||image.startsWith("data:")||image.startsWith("/storage"))return image;image.startsWith("storage/")||image.startsWith("/storage/")||(image="storage/".concat(image)),image.startsWith("/")||(image="/".concat(image));var r=t.env.BASE_URL||"http://localhost:8000";return"".concat(r).concat(image)},handleImageError:function(t){this.$set(this.imageErrors,t,!0)}}}}).call(this,e(124))},501:function(t,r,e){"use strict";e.r(r);e(29),e(54),e(18);var n=e(419).a,o=e(8),component=Object(o.a)(n,function(){var t=this,r=t._self._c;return r("div",{staticClass:"relative overflow-x-auto shadow-md sm:rounded-lg"},[r("div",{staticClass:"flex items-center justify-between flex-column flex-wrap md:flex-row space-y-4 md:space-y-0 pb-4 bg-white dark:bg-gray-900"},[r("div",[r("button",{staticClass:"inline-flex items-center text-gray-500 bg-white border border-gray-300 focus:outline-none hover:bg-gray-100 focus:ring-4 focus:ring-gray-100 font-medium rounded-lg text-sm px-3 py-1.5 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:bg-gray-700 dark:hover:border-gray-600 dark:focus:ring-gray-700",attrs:{id:"dropdownActionButton","data-dropdown-toggle":"dropdownAction",type:"button"}},[r("span",{staticClass:"sr-only"},[t._v("Action button")]),t._v("\n        Գործողություն\n        "),r("svg",{staticClass:"w-2.5 h-2.5 ms-2.5",attrs:{"aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 10 6"}},[r("path",{attrs:{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 4 4 4-4"}})])])]),t._v(" "),r("div",{staticClass:"relative"},[r("div",{staticClass:"absolute inset-y-0 rtl:inset-r-0 start-0 flex items-center ps-3 pointer-events-none"},[r("svg",{staticClass:"w-4 h-4 text-gray-500 dark:text-gray-400",attrs:{"aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20"}},[r("path",{attrs:{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"}})])]),t._v(" "),r("input",{staticClass:"block p-2 ps-10 text-sm text-gray-900 border border-gray-300 rounded-lg w-80 bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",attrs:{type:"text",placeholder:"Որոնել ապրանք..."},domProps:{value:t.searchQuery},on:{input:function(r){return t.$emit("update:searchQuery",r.target.value)}}})])]),t._v(" "),r("table",{staticClass:"w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400"},[t._m(0),t._v(" "),r("tbody",t._l(t.filteredProducts,function(e){return r("tr",{key:e.id,staticClass:"bg-white border-b dark:bg-gray-800 dark:border-gray-700 border-gray-200 hover:bg-gray-50 dark:hover:bg-gray-600"},[r("td",{staticClass:"w-4 p-4"},[r("div",{staticClass:"flex items-center"},[r("input",{staticClass:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded-sm focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:focus:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600",attrs:{id:"checkbox-".concat(e.id),type:"checkbox"}}),t._v(" "),r("label",{staticClass:"sr-only",attrs:{for:"checkbox-".concat(e.id)}},[t._v("checkbox")])])]),t._v(" "),r("th",{staticClass:"flex items-center px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white",attrs:{scope:"row"}},[r("div",{staticClass:"relative"},[e.image&&!t.imageErrors[e.id]?r("img",{staticClass:"w-10 h-10 rounded-full object-cover",attrs:{src:t.resolveImageUrl(e.image),alt:e.name},on:{error:function(r){return t.handleImageError(e.id)}}}):t._e(),t._v(" "),r("div",{staticClass:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center",class:{hidden:e.image&&!t.imageErrors[e.id]}},[r("svg",{staticClass:"w-6 h-6 text-gray-400",attrs:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"}},[r("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"}})])])]),t._v(" "),r("div",{staticClass:"ps-3"},[r("div",{staticClass:"text-base font-semibold"},[t._v(t._s(e.name))])])]),t._v(" "),r("td",{staticClass:"px-6 py-4"},[t._v(t._s(e.description))]),t._v(" "),r("td",{staticClass:"px-6 py-4"},[t._v(t._s(e.price)+" դրամ")]),t._v(" "),t._m(1,!0)])}),0)]),t._v(" "),t.pagination?r("nav",{staticClass:"flex items-center justify-between p-4",attrs:{"aria-label":"Table navigation"}},[r("span",{staticClass:"text-sm font-normal text-gray-500 dark:text-gray-400"},[t._v("\n      Ցուցադրվում է\n      "),r("span",{staticClass:"font-semibold text-gray-900 dark:text-white"},[t._v(t._s(t.pagination.per_page*(t.pagination.current_page-1)+1)+"-"+t._s(Math.min(t.pagination.per_page*t.pagination.current_page,t.pagination.total)))]),t._v("\n      ընդհանուր\n      "),r("span",{staticClass:"font-semibold text-gray-900 dark:text-white"},[t._v(t._s(t.pagination.total))]),t._v("-ից\n    ")]),t._v(" "),r("ul",{staticClass:"inline-flex -space-x-px text-sm h-8"},[r("li",[r("button",{staticClass:"flex items-center justify-center px-3 h-8 leading-tight text-gray-500 bg-white border border-gray-300 rounded-s-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white",attrs:{disabled:!t.pagination.prev_page_url},on:{click:function(r){return t.$emit("change-page",t.pagination.current_page-1)}}},[t._v("\n          Նախորդ\n        ")])]),t._v(" "),t._l(t.pagination.last_page,function(e){return r("li",{key:e},[r("button",{class:[t.pagination.current_page===e?"text-blue-600 bg-blue-50 border-blue-300 hover:bg-blue-100 hover:text-blue-700":"text-gray-500 bg-white border-gray-300 hover:bg-gray-100 hover:text-gray-700","flex items-center justify-center px-3 h-8 leading-tight border dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"],on:{click:function(r){return t.$emit("change-page",e)}}},[t._v("\n          "+t._s(e)+"\n        ")])])}),t._v(" "),r("li",[r("button",{staticClass:"flex items-center justify-center px-3 h-8 leading-tight text-gray-500 bg-white border border-gray-300 rounded-e-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white",attrs:{disabled:!t.pagination.next_page_url},on:{click:function(r){return t.$emit("change-page",t.pagination.current_page+1)}}},[t._v("\n          Հաջորդ\n        ")])])],2)]):t._e()])},[function(){var t=this,r=t._self._c;return r("thead",{staticClass:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"},[r("tr",[r("th",{staticClass:"p-4",attrs:{scope:"col"}},[r("div",{staticClass:"flex items-center"},[r("input",{staticClass:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded-sm focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:focus:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600",attrs:{id:"checkbox-all",type:"checkbox"}}),t._v(" "),r("label",{staticClass:"sr-only",attrs:{for:"checkbox-all"}},[t._v("checkbox")])])]),t._v(" "),r("th",{staticClass:"px-6 py-3",attrs:{scope:"col"}},[t._v("Անուն")]),t._v(" "),r("th",{staticClass:"px-6 py-3",attrs:{scope:"col"}},[t._v("Նկարագրություն")]),t._v(" "),r("th",{staticClass:"px-6 py-3",attrs:{scope:"col"}},[t._v("Առժեք")]),t._v(" "),r("th",{staticClass:"px-6 py-3",attrs:{scope:"col"}},[t._v("Գործողություն")])])])},function(){var t=this._self._c;return t("td",{staticClass:"px-6 py-4"},[t("a",{staticClass:"font-medium text-blue-600 dark:text-blue-500 hover:underline",attrs:{href:"#"}},[this._v("Խմբագրել")])])}],!1,null,null,null);r.default=component.exports},580:function(t,r,e){"use strict";e.r(r);var n=e(0),o=(e(11),{components:{ProductTable:e(501).default},layout:"ManagerLayout",middleware:["manager","roleRedirect"],data:function(){return{products:[],pagination:null,searchQuery:""}},watch:{searchQuery:function(t){this.fetchProducts(1)}},mounted:function(){this.fetchProducts(1)},methods:{fetchProducts:function(t){var r=this;return Object(n.a)(regeneratorRuntime.mark(function e(){var n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=1,r.$axios.get("/api/products",{params:{page:t,search:r.searchQuery}});case 1:n=e.sent,r.products=n.data.data,r.pagination=n.data.pagination,e.next=3;break;case 2:e.prev=2,o=e.catch(0),console.error("Failed to fetch products:",o);case 3:case"end":return e.stop()}},e,null,[[0,2]])}))()}}}),c=e(8),component=Object(c.a)(o,function(){var t=this;return(0,t._self._c)("ProductTable",{attrs:{products:t.products,pagination:t.pagination,"search-query":t.searchQuery},on:{"update:searchQuery":function(r){t.searchQuery=r},"update:search-query":function(r){t.searchQuery=r},"change-page":t.fetchProducts}})},[],!1,null,null,null);r.default=component.exports}}]);