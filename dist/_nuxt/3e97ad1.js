(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{639:function(t,e,n){var content=n(666);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(57).default)("4475d268",content,!0,{sourceMap:!1})},665:function(t,e,n){"use strict";n(639)},666:function(t,e,n){var r=n(56)(function(i){return i[1]});r.push([t.i,".fade-enter-active[data-v-9994a4ca],.fade-leave-active[data-v-9994a4ca]{transition:opacity .2s ease}.fade-enter[data-v-9994a4ca],.fade-leave-to[data-v-9994a4ca]{opacity:0}",""]),r.locals={},t.exports=r},715:function(t,e,n){"use strict";n.r(e);n(38),n(17),n(52);var r={name:"UserPermissionsModal",props:{show:{type:Boolean,default:!1},user:{type:Object,default:null},loading:{type:Boolean,default:!1},saving:{type:Boolean,default:!1},permissionGroups:{type:Object,default:function(){return{}}},permissionGroupsKeys:{type:Array,default:function(){return[]}},userPermissionIds:{type:Array,default:function(){return[]}},openGroups:{type:Array,default:function(){return[]}}}},o=(n(665),n(32)),component=Object(o.a)(r,function(){var t=this,e=t._self._c;return e("transition",{attrs:{name:"fade"}},[t.show?e("div",{staticClass:"fixed inset-0 z-40 flex items-center justify-center bg-black bg-opacity-40"},[e("div",{staticClass:"bg-white rounded-2xl shadow-xl w-full max-w-3xl mx-4 max-h-[90vh] flex flex-col"},[e("div",{staticClass:"px-5 py-4 border-b flex items-center justify-between bg-gray-50"},[e("div",[e("h2",{staticClass:"text-lg font-semibold text-gray-900"},[t._v("\n            Օգտատիրոջ թույլտվություններ\n          ")]),t._v(" "),t.user?e("p",{staticClass:"mt-0.5 text-xs text-gray-500 flex items-center gap-2"},[e("span",[t._v(t._s(t.user.name))]),t._v(" "),e("span",{staticClass:"text-gray-300"},[t._v("·")]),t._v(" "),e("span",[t._v(t._s(t.user.email))])]):t._e()]),t._v(" "),e("button",{staticClass:"text-gray-400 hover:text-gray-600",attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[e("svg",{staticClass:"h-5 w-5",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[e("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"}})])])]),t._v(" "),e("div",{staticClass:"flex-1 overflow-y-auto px-5 py-4"},[t.loading?e("div",{staticClass:"py-10 text-center text-gray-400 text-sm"},[t._v("\n          Բեռնվում է թույլտվությունները...\n        ")]):e("div",[t.permissionGroupsKeys.length?t._e():e("div",{staticClass:"py-10 text-center text-gray-400 text-sm"},[t._v("\n            Թույլտվություններ չկան։\n          ")]),t._v(" "),t._l(t.permissionGroupsKeys,function(n){return e("div",{key:n,staticClass:"mb-4 border border-gray-200 rounded-2xl overflow-hidden"},[e("button",{staticClass:"w-full flex items-center justify-between px-4 py-2 bg-gray-50 hover:bg-gray-100 text-left text-xs font-semibold text-gray-700",attrs:{type:"button"},on:{click:function(e){return t.$emit("toggle-group",n)}}},[e("span",{staticClass:"uppercase tracking-wide"},[t._v("\n                "+t._s(n||"general")+"\n              ")]),t._v(" "),e("svg",{staticClass:"w-4 h-4 text-gray-400 transition-transform duration-200",class:{"rotate-180":t.openGroups.includes(n)},attrs:{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[e("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"}})])]),t._v(" "),e("transition",{attrs:{name:"fade"}},[t.openGroups.includes(n)?e("div",{staticClass:"divide-y divide-gray-100"},t._l(t.permissionGroups[n],function(n){return e("div",{key:n.id,staticClass:"px-4 py-3 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 hover:bg-gray-50"},[e("div",[e("div",{staticClass:"text-sm font-medium text-gray-900 flex items-center gap-2"},[t._v("\n                      "+t._s(n.name)+"\n                      "),n.via_role?e("span",{staticClass:"inline-flex items-center rounded-full bg-blue-50 text-blue-700 text-[10px] px-2 py-0.5"},[t._v("\n                        Role-ից\n                      ")]):t._e()]),t._v(" "),e("div",{staticClass:"mt-0.5 text-xs text-gray-500"},[e("code",{staticClass:"bg-gray-100 rounded px-2 py-0.5 inline-block"},[t._v("\n                        "+t._s(n.slug)+"\n                      ")])])]),t._v(" "),e("div",{staticClass:"flex items-center gap-3 sm:gap-5"},[e("label",{staticClass:"flex items-center gap-2 text-xs text-gray-700 cursor-pointer select-none"},[e("input",{staticClass:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500",attrs:{type:"checkbox"},domProps:{checked:t.userPermissionIds.includes(n.id)},on:{change:function(e){return t.$emit("toggle-permission",n.id,e.target.checked)}}}),t._v(" "),e("span",[t._v("Տալ անհատական իրավունք")])]),t._v(" "),e("span",{staticClass:"inline-flex items-center rounded-full px-2 py-0.5 text-[10px] font-medium",class:n.effective?"bg-green-50 text-green-700":"bg-gray-100 text-gray-500"},[t._v("\n                      "+t._s(n.effective?"Ակտիվ է":"Անջատված է")+"\n                    ")])])])}),0):t._e()])],1)}),t._v(" "),e("p",{staticClass:"text-[11px] text-gray-400 mt-2"},[t._v("\n            Այստեղ փոխում ես միայն\n            "),e("strong",[t._v("օգտատիրոջ անհատական թույլտվությունները")]),t._v("։ Role-ից\n            եկող իրավունքները չեն ջնջվում, եթե տակից հանես նշումը։\n          ")])],2)]),t._v(" "),e("div",{staticClass:"px-5 py-3 border-t bg-gray-50 flex items-center justify-end gap-3"},[e("button",{staticClass:"inline-flex items-center rounded-xl px-3 py-2 text-xs font-medium text-gray-600 hover:bg-gray-100",attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[t._v("\n          Փակել\n        ")]),t._v(" "),e("button",{staticClass:"inline-flex items-center rounded-xl px-4 py-2 text-xs font-semibold text-white bg-indigo-600 hover:bg-indigo-700 focus:ring-2 focus:ring-indigo-500",attrs:{type:"button",disabled:t.saving},on:{click:function(e){return t.$emit("save")}}},[t.saving?e("span",{staticClass:"mr-2 h-4 w-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):t._e(),t._v("\n          Պահպանել փոփոխությունները\n        ")])])])]):t._e()])},[],!1,null,"9994a4ca",null);e.default=component.exports}}]);