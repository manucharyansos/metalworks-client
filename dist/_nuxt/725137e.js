(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{621:function(t,e,r){var content=r(648);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(57).default)("09563ce8",content,!0,{sourceMap:!1})},647:function(t,e,r){"use strict";r(621)},648:function(t,e,r){var o=r(56)(function(i){return i[1]});o.push([t.i,".card[data-v-a28e6736]{border-radius:1rem;border-width:1px;--tw-border-opacity:1;border-color:#e5e7eb;border-color:rgba(229,231,235,var(--tw-border-opacity,1));--tw-bg-opacity:1;background-color:#fff;background-color:rgba(255,255,255,var(--tw-bg-opacity,1));--tw-shadow:0 1px 2px 0 rgba(0,0,0,.05);--tw-shadow-colored:0 1px 2px 0 var(--tw-shadow-color);box-shadow:0 0 transparent,0 0 transparent,0 1px 2px 0 rgba(0,0,0,.05);box-shadow:var(--tw-ring-offset-shadow,0 0 transparent),var(--tw-ring-shadow,0 0 transparent),var(--tw-shadow)}.card[data-v-a28e6736]:hover{--tw-shadow:0 10px 15px -3px rgba(0,0,0,.1),0 4px 6px -4px rgba(0,0,0,.1);--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color),0 4px 6px -4px var(--tw-shadow-color);box-shadow:0 0 transparent,0 0 transparent,0 10px 15px -3px rgba(0,0,0,.1),0 4px 6px -4px rgba(0,0,0,.1);box-shadow:var(--tw-ring-offset-shadow,0 0 transparent),var(--tw-ring-shadow,0 0 transparent),var(--tw-shadow)}.dark .card[data-v-a28e6736]{--tw-border-opacity:1;background-color:#111827;background-color:rgba(17,24,39,var(--tw-bg-opacity,1));border-color:#1f2937;border-color:rgba(31,41,55,var(--tw-border-opacity,1))}.btn-view[data-v-a28e6736],.dark .card[data-v-a28e6736]{--tw-bg-opacity:1}.btn-view[data-v-a28e6736]{background-color:#f0f5ff;background-color:rgba(240,245,255,var(--tw-bg-opacity,1));border-radius:.5rem;font-size:.75rem;font-weight:500;line-height:1rem;padding:.5rem 1rem;--tw-text-opacity:1;color:#5850ec;color:rgba(88,80,236,var(--tw-text-opacity,1));transition-duration:.15s;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1)}.btn-view[data-v-a28e6736]:hover{--tw-bg-opacity:1;background-color:#e5edff;background-color:rgba(229,237,255,var(--tw-bg-opacity,1))}.dark .btn-view[data-v-a28e6736]{background-color:rgba(54,47,120,.4);--tw-text-opacity:1;color:#8da2fb;color:rgba(141,162,251,var(--tw-text-opacity,1))}.dark .btn-view[data-v-a28e6736]:hover{--tw-bg-opacity:1;background-color:#42389d;background-color:rgba(66,56,157,var(--tw-bg-opacity,1))}.badge[data-v-a28e6736]{border-radius:9999px}",""]),o.locals={},t.exports=o},707:function(t,e,r){"use strict";r.r(e);r(17),r(38),r(8),r(28),r(52);var o={props:{order:{type:Object,required:!0}},computed:{factoryOrders:function(){return this.order.factory_orders||[]},factoryCount:function(){return this.factoryOrders.length},finishDate:function(){var t;return null!==(t=this.order.dates)&&void 0!==t&&t.finish_date?new Date(this.order.dates.finish_date):null},hasCanceled:function(){var t=this;return this.factoryOrders.some(function(e){return"canceled"===t.normalizeStatus(e.status)})},hasDateChanged:function(){var t=this;return this.factoryOrders.some(function(e){return"date_changed"===t.normalizeStatus(e.status)})},isAllCompleted:function(){var t=this,e=this.factoryOrders;return!!e.length&&e.every(function(e){var code=t.normalizeStatus(e.status);return"canceled"!==code&&(("finished"===code||"confirmed"===code)&&!!e.admin_confirmation_date)})},isOverdue:function(){return this.finishDate&&this.finishDate<new Date&&!this.isAllCompleted&&!this.hasCanceled},isNearDeadline:function(){if(!this.finishDate||this.isAllCompleted)return!1;var t=(this.finishDate-Date.now())/36e5;return t>0&&t<=24},isInProgress:function(){return this.factoryOrders.length>0&&!this.isAllCompleted&&!this.hasCanceled},overallStatusText:function(){return this.hasCanceled?"Չեղարկված":this.hasDateChanged?"Ժամկետը փոփոխված":this.isAllCompleted?"Ավարտված":this.isOverdue?"Ժամկետն անցել է":this.isInProgress||this.factoryOrders.length>0?"Ընթացքում":"Սպասում է"},overallStatusClass:function(){return this.hasCanceled?"bg-rose-600 text-white":this.hasDateChanged?"bg-orange-500 text-white":this.isAllCompleted?"bg-emerald-600 text-white":this.isOverdue?"bg-red-600 text-white":this.isInProgress?"bg-amber-600 text-white":"bg-gray-500 text-white"}},methods:{normalizeStatus:function(t){if(!t)return"pending";var s=t.toString().toLowerCase();return"finished"===s||s.includes("ավարտ")?"finished":"canceled"===s||"cancelled"===s||s.includes("մերժ")?"canceled":"confirmed"===s||s.includes("հաստատ")?"confirmed":"date_changed"===s||s.includes("ժամկետ")?"date_changed":"pending"===s||"0"===s||"null"===s||"-"===s?"pending":s},formatDeadline:function(t){if(!t)return"—";var e=new Date(t),r=Math.floor((e-Date.now())/864e5);return r<0?"Անցել է":0===r?"Այսօր":1===r?"Վաղը":"".concat(r," օր հետո")}}},n=(r(647),r(32)),component=Object(n.a)(o,function(){var t,e,r,o,n,d=this,c=d._self._c;return c("div",{staticClass:"card p-5 relative overflow-hidden group transition-all duration-300",class:{"ring-4 ring-red-500/30 ring-offset-2 ring-offset-transparent shadow-red-500/10":d.isOverdue,"ring-3 ring-orange-500/30":d.isNearDeadline&&!d.isOverdue}},[d.isOverdue?c("div",{staticClass:"pointer-events-none absolute inset-0 bg-gradient-to-br from-red-500/10 to-transparent"}):d._e(),d._v(" "),c("div",{staticClass:"flex items-start justify-between gap-3 mb-3"},[c("div",{staticClass:"space-y-1 flex-1"},[c("p",{staticClass:"text-xs text-gray-500 dark:text-gray-400"},[d._v("\n        #"+d._s(null!==(t=null===(e=d.order.order_number)||void 0===e?void 0:e.number)&&void 0!==t?t:d.order.id)+"\n      ")]),d._v(" "),c("h3",{staticClass:"text-base font-semibold text-gray-900 dark:text-white line-clamp-2"},[d._v("\n        "+d._s(d.order.name||"Անվանում չկա")+"\n      ")])]),d._v(" "),c("span",{staticClass:"badge flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold",class:d.overallStatusClass},[d.isOverdue?c("span",{staticClass:"w-2 h-2 rounded-full bg-white animate-pulse"}):d._e(),d._v("\n      "+d._s(d.overallStatusText)+"\n    ")])]),d._v(" "),c("dl",{staticClass:"grid grid-cols-2 gap-x-4 gap-y-2 text-xs text-gray-600 dark:text-gray-300"},[c("div",[c("dt",{staticClass:"text-gray-500"},[d._v("Prefix")]),d._v(" "),c("dd",{staticClass:"font-medium"},[d._v(d._s(null!==(r=null===(o=d.order.prefix_code)||void 0===o?void 0:o.code)&&void 0!==r?r:"—"))])]),d._v(" "),c("div",[c("dt",{staticClass:"text-gray-500"},[d._v("Ստեղծվել")]),d._v(" "),c("dd",[d._v(d._s(d.order.created_at))])]),d._v(" "),c("div",[c("dt",{staticClass:"text-gray-500"},[d._v("Ավարտ")]),d._v(" "),c("dd",{class:{"text-red-600 font-bold":d.isOverdue||d.isNearDeadline}},[d._v("\n        "+d._s(d.formatDeadline(null===(n=d.order.dates)||void 0===n?void 0:n.finish_date))+"\n      ")])]),d._v(" "),d.factoryCount?c("div",{staticClass:"col-span-2"},[c("dt",{staticClass:"text-gray-500"},[d._v("Գործարաններ")]),d._v(" "),c("dd",{staticClass:"font-medium"},[d._v(d._s(d.factoryCount)+" գործարան")])]):d._e()]),d._v(" "),c("div",{staticClass:"flex items-center justify-between pt-3 mt-4 border-t border-gray-200 dark:border-gray-700"},[c("button",{staticClass:"btn-view",on:{click:function(t){return d.$emit("edit",d.order)}}},[d._v("Դիտել")])])])},[],!1,null,"a28e6736",null);e.default=component.exports}}]);