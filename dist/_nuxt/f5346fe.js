(window.webpackJsonp=window.webpackJsonp||[]).push([[69,62],{571:function(t,e,r){"use strict";var n=r(572).has;t.exports=function(t){return n(t),t}},572:function(t,e,r){"use strict";var n=r(5),o=Set.prototype;t.exports={Set:Set,add:n(o.add),has:n(o.has),remove:n(o.delete),proto:o}},573:function(t,e,r){"use strict";var n=r(5),o=r(404),c=r(572),l=c.Set,d=c.proto,f=n(d.forEach),v=n(d.keys),m=v(new l).next;t.exports=function(t,e,r){return r?o({iterator:v(t),next:m},e):f(t,e)}},574:function(t,e,r){"use strict";var n=r(4),o=r(405).trim;n({target:"String",proto:!0,forced:r(575)("trim")},{trim:function(){return o(this)}})},575:function(t,e,r){"use strict";var n=r(112).PROPER,o=r(6),c=r(406);t.exports=function(t){return o(function(){return!!c[t]()||"​᠎"!=="​᠎"[t]()||n&&c[t].name!==t})}},576:function(t,e,r){"use strict";var n=r(45),o=r(10),c=r(630),l=r(16),d=n("Set");t.exports=function(t){return function(t){return l(t)&&"number"==typeof t.size&&o(t.has)&&o(t.keys)}(t)?t:c(t)?new d(t):t}},577:function(t,e,r){"use strict";var n=r(50),o=r(22),c=r(13),l=r(80),d=r(632),f="Invalid size",v=RangeError,m=TypeError,x=Math.max,h=function(t,e){this.set=t,this.size=x(e,0),this.has=n(t.has),this.keys=n(t.keys)};h.prototype={getIterator:function(){return d(o(c(this.keys,this.set)))},includes:function(t){return c(this.has,this.set,t)}},t.exports=function(t){o(t);var e=+t.size;if(e!=e)throw new m(f);var r=l(e);if(r<0)throw new v(f);return new h(t,r)}},579:function(t,e,r){"use strict";var n=r(408),o=r(572);t.exports=n(o.proto,"size","get")||function(t){return t.size}},583:function(t,e,r){"use strict";var n=r(572),o=r(573),c=n.Set,l=n.add;t.exports=function(t){var e=new c;return o(t,function(t){l(e,t)}),e}},599:function(t,e,r){"use strict";r(629)},600:function(t,e,r){"use strict";var n=r(4),o=r(571),c=r(572).add;n({target:"Set",proto:!0,real:!0,forced:!0},{addAll:function(){for(var t=o(this),e=0,r=arguments.length;e<r;e++)c(t,arguments[e]);return t}})},601:function(t,e,r){"use strict";var n=r(4),o=r(571),c=r(572).remove;n({target:"Set",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var t,e=o(this),r=!0,n=0,l=arguments.length;n<l;n++)t=c(e,arguments[n]),r=r&&t;return!!r}})},602:function(t,e,r){"use strict";var n=r(4),o=r(13),c=r(576),l=r(631);n({target:"Set",proto:!0,real:!0,forced:!0},{difference:function(t){return o(l,this,c(t))}})},603:function(t,e,r){"use strict";var n=r(4),o=r(31),c=r(571),l=r(573);n({target:"Set",proto:!0,real:!0,forced:!0},{every:function(t){var e=c(this),r=o(t,arguments.length>1?arguments[1]:void 0);return!1!==l(e,function(t){if(!r(t,t,e))return!1},!0)}})},604:function(t,e,r){"use strict";var n=r(4),o=r(31),c=r(571),l=r(572),d=r(573),f=l.Set,v=l.add;n({target:"Set",proto:!0,real:!0,forced:!0},{filter:function(t){var e=c(this),r=o(t,arguments.length>1?arguments[1]:void 0),n=new f;return d(e,function(t){r(t,t,e)&&v(n,t)}),n}})},605:function(t,e,r){"use strict";var n=r(4),o=r(31),c=r(571),l=r(573);n({target:"Set",proto:!0,real:!0,forced:!0},{find:function(t){var e=c(this),r=o(t,arguments.length>1?arguments[1]:void 0),n=l(e,function(t){if(r(t,t,e))return{value:t}},!0);return n&&n.value}})},606:function(t,e,r){"use strict";var n=r(4),o=r(13),c=r(576),l=r(633);n({target:"Set",proto:!0,real:!0,forced:!0},{intersection:function(t){return o(l,this,c(t))}})},607:function(t,e,r){"use strict";var n=r(4),o=r(13),c=r(576),l=r(634);n({target:"Set",proto:!0,real:!0,forced:!0},{isDisjointFrom:function(t){return o(l,this,c(t))}})},608:function(t,e,r){"use strict";var n=r(4),o=r(13),c=r(576),l=r(635);n({target:"Set",proto:!0,real:!0,forced:!0},{isSubsetOf:function(t){return o(l,this,c(t))}})},609:function(t,e,r){"use strict";var n=r(4),o=r(13),c=r(576),l=r(636);n({target:"Set",proto:!0,real:!0,forced:!0},{isSupersetOf:function(t){return o(l,this,c(t))}})},610:function(t,e,r){"use strict";var n=r(4),o=r(5),c=r(571),l=r(573),d=r(19),f=o([].join),v=o([].push);n({target:"Set",proto:!0,real:!0,forced:!0},{join:function(t){var e=c(this),r=void 0===t?",":d(t),n=[];return l(e,function(t){v(n,t)}),f(n,r)}})},611:function(t,e,r){"use strict";var n=r(4),o=r(31),c=r(571),l=r(572),d=r(573),f=l.Set,v=l.add;n({target:"Set",proto:!0,real:!0,forced:!0},{map:function(t){var e=c(this),r=o(t,arguments.length>1?arguments[1]:void 0),n=new f;return d(e,function(t){v(n,r(t,t,e))}),n}})},612:function(t,e,r){"use strict";var n=r(4),o=r(50),c=r(571),l=r(573),d=TypeError;n({target:"Set",proto:!0,real:!0,forced:!0},{reduce:function(t){var e=c(this),r=arguments.length<2,n=r?void 0:arguments[1];if(o(t),l(e,function(o){r?(r=!1,n=o):n=t(n,o,o,e)}),r)throw new d("Reduce of empty set with no initial value");return n}})},613:function(t,e,r){"use strict";var n=r(4),o=r(31),c=r(571),l=r(573);n({target:"Set",proto:!0,real:!0,forced:!0},{some:function(t){var e=c(this),r=o(t,arguments.length>1?arguments[1]:void 0);return!0===l(e,function(t){if(r(t,t,e))return!0},!0)}})},614:function(t,e,r){"use strict";var n=r(4),o=r(13),c=r(576),l=r(637);n({target:"Set",proto:!0,real:!0,forced:!0},{symmetricDifference:function(t){return o(l,this,c(t))}})},615:function(t,e,r){"use strict";var n=r(4),o=r(13),c=r(576),l=r(638);n({target:"Set",proto:!0,real:!0,forced:!0},{union:function(t){return o(l,this,c(t))}})},629:function(t,e,r){"use strict";r(188)("Set",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},r(411))},630:function(t,e,r){"use strict";var n=r(98),o=r(20),c=r(69),l=r(12),d=r(97),f=l("iterator"),v=Object;t.exports=function(t){if(c(t))return!1;var e=v(t);return void 0!==e[f]||"@@iterator"in e||o(d,n(e))}},631:function(t,e,r){"use strict";var n=r(571),o=r(572),c=r(583),l=r(579),d=r(577),f=r(573),v=r(404),m=o.has,x=o.remove;t.exports=function(t){var e=n(this),r=d(t),o=c(e);return l(e)<=r.size?f(e,function(t){r.includes(t)&&x(o,t)}):v(r.getIterator(),function(t){m(o,t)&&x(o,t)}),o}},632:function(t,e,r){"use strict";t.exports=function(t){return{iterator:t,next:t.next,done:!1}}},633:function(t,e,r){"use strict";var n=r(571),o=r(572),c=r(579),l=r(577),d=r(573),f=r(404),v=o.Set,m=o.add,x=o.has;t.exports=function(t){var e=n(this),r=l(t),o=new v;return c(e)>r.size?f(r.getIterator(),function(t){x(e,t)&&m(o,t)}):d(e,function(t){r.includes(t)&&m(o,t)}),o}},634:function(t,e,r){"use strict";var n=r(571),o=r(572).has,c=r(579),l=r(577),d=r(573),f=r(404),v=r(185);t.exports=function(t){var e=n(this),r=l(t);if(c(e)<=r.size)return!1!==d(e,function(t){if(r.includes(t))return!1},!0);var m=r.getIterator();return!1!==f(m,function(t){if(o(e,t))return v(m,"normal",!1)})}},635:function(t,e,r){"use strict";var n=r(571),o=r(579),c=r(573),l=r(577);t.exports=function(t){var e=n(this),r=l(t);return!(o(e)>r.size)&&!1!==c(e,function(t){if(!r.includes(t))return!1},!0)}},636:function(t,e,r){"use strict";var n=r(571),o=r(572).has,c=r(579),l=r(577),d=r(404),f=r(185);t.exports=function(t){var e=n(this),r=l(t);if(c(e)<r.size)return!1;var v=r.getIterator();return!1!==d(v,function(t){if(!o(e,t))return f(v,"normal",!1)})}},637:function(t,e,r){"use strict";var n=r(571),o=r(572),c=r(583),l=r(577),d=r(404),f=o.add,v=o.has,m=o.remove;t.exports=function(t){var e=n(this),r=l(t).getIterator(),o=c(e);return d(r,function(t){v(e,t)?m(o,t):f(o,t)}),o}},638:function(t,e,r){"use strict";var n=r(571),o=r(572).add,c=r(583),l=r(577),d=r(404);t.exports=function(t){var e=n(this),r=l(t).getIterator(),f=c(e);return d(r,function(t){o(f,t)}),f}},639:function(t,e,r){var content=r(666);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(57).default)("4475d268",content,!0,{sourceMap:!1})},665:function(t,e,r){"use strict";r(639)},666:function(t,e,r){var n=r(56)(function(i){return i[1]});n.push([t.i,".fade-enter-active[data-v-9994a4ca],.fade-leave-active[data-v-9994a4ca]{transition:opacity .2s ease}.fade-enter[data-v-9994a4ca],.fade-leave-to[data-v-9994a4ca]{opacity:0}",""]),n.locals={},t.exports=n},692:function(t,e,r){var content=r(739);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(57).default)("bf54f0c2",content,!0,{sourceMap:!1})},715:function(t,e,r){"use strict";r.r(e);r(38),r(17),r(52);var n={name:"UserPermissionsModal",props:{show:{type:Boolean,default:!1},user:{type:Object,default:null},loading:{type:Boolean,default:!1},saving:{type:Boolean,default:!1},permissionGroups:{type:Object,default:function(){return{}}},permissionGroupsKeys:{type:Array,default:function(){return[]}},userPermissionIds:{type:Array,default:function(){return[]}},openGroups:{type:Array,default:function(){return[]}}}},o=(r(665),r(32)),component=Object(o.a)(n,function(){var t=this,e=t._self._c;return e("transition",{attrs:{name:"fade"}},[t.show?e("div",{staticClass:"fixed inset-0 z-40 flex items-center justify-center bg-black bg-opacity-40"},[e("div",{staticClass:"bg-white rounded-2xl shadow-xl w-full max-w-3xl mx-4 max-h-[90vh] flex flex-col"},[e("div",{staticClass:"px-5 py-4 border-b flex items-center justify-between bg-gray-50"},[e("div",[e("h2",{staticClass:"text-lg font-semibold text-gray-900"},[t._v("\n            Օգտատիրոջ թույլտվություններ\n          ")]),t._v(" "),t.user?e("p",{staticClass:"mt-0.5 text-xs text-gray-500 flex items-center gap-2"},[e("span",[t._v(t._s(t.user.name))]),t._v(" "),e("span",{staticClass:"text-gray-300"},[t._v("·")]),t._v(" "),e("span",[t._v(t._s(t.user.email))])]):t._e()]),t._v(" "),e("button",{staticClass:"text-gray-400 hover:text-gray-600",attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[e("svg",{staticClass:"h-5 w-5",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[e("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"}})])])]),t._v(" "),e("div",{staticClass:"flex-1 overflow-y-auto px-5 py-4"},[t.loading?e("div",{staticClass:"py-10 text-center text-gray-400 text-sm"},[t._v("\n          Բեռնվում է թույլտվությունները...\n        ")]):e("div",[t.permissionGroupsKeys.length?t._e():e("div",{staticClass:"py-10 text-center text-gray-400 text-sm"},[t._v("\n            Թույլտվություններ չկան։\n          ")]),t._v(" "),t._l(t.permissionGroupsKeys,function(r){return e("div",{key:r,staticClass:"mb-4 border border-gray-200 rounded-2xl overflow-hidden"},[e("button",{staticClass:"w-full flex items-center justify-between px-4 py-2 bg-gray-50 hover:bg-gray-100 text-left text-xs font-semibold text-gray-700",attrs:{type:"button"},on:{click:function(e){return t.$emit("toggle-group",r)}}},[e("span",{staticClass:"uppercase tracking-wide"},[t._v("\n                "+t._s(r||"general")+"\n              ")]),t._v(" "),e("svg",{staticClass:"w-4 h-4 text-gray-400 transition-transform duration-200",class:{"rotate-180":t.openGroups.includes(r)},attrs:{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[e("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"}})])]),t._v(" "),e("transition",{attrs:{name:"fade"}},[t.openGroups.includes(r)?e("div",{staticClass:"divide-y divide-gray-100"},t._l(t.permissionGroups[r],function(r){return e("div",{key:r.id,staticClass:"px-4 py-3 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 hover:bg-gray-50"},[e("div",[e("div",{staticClass:"text-sm font-medium text-gray-900 flex items-center gap-2"},[t._v("\n                      "+t._s(r.name)+"\n                      "),r.via_role?e("span",{staticClass:"inline-flex items-center rounded-full bg-blue-50 text-blue-700 text-[10px] px-2 py-0.5"},[t._v("\n                        Role-ից\n                      ")]):t._e()]),t._v(" "),e("div",{staticClass:"mt-0.5 text-xs text-gray-500"},[e("code",{staticClass:"bg-gray-100 rounded px-2 py-0.5 inline-block"},[t._v("\n                        "+t._s(r.slug)+"\n                      ")])])]),t._v(" "),e("div",{staticClass:"flex items-center gap-3 sm:gap-5"},[e("label",{staticClass:"flex items-center gap-2 text-xs text-gray-700 cursor-pointer select-none"},[e("input",{staticClass:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500",attrs:{type:"checkbox"},domProps:{checked:t.userPermissionIds.includes(r.id)},on:{change:function(e){return t.$emit("toggle-permission",r.id,e.target.checked)}}}),t._v(" "),e("span",[t._v("Տալ անհատական իրավունք")])]),t._v(" "),e("span",{staticClass:"inline-flex items-center rounded-full px-2 py-0.5 text-[10px] font-medium",class:r.effective?"bg-green-50 text-green-700":"bg-gray-100 text-gray-500"},[t._v("\n                      "+t._s(r.effective?"Ակտիվ է":"Անջատված է")+"\n                    ")])])])}),0):t._e()])],1)}),t._v(" "),e("p",{staticClass:"text-[11px] text-gray-400 mt-2"},[t._v("\n            Այստեղ փոխում ես միայն\n            "),e("strong",[t._v("օգտատիրոջ անհատական թույլտվությունները")]),t._v("։ Role-ից\n            եկող իրավունքները չեն ջնջվում, եթե տակից հանես նշումը։\n          ")])],2)]),t._v(" "),e("div",{staticClass:"px-5 py-3 border-t bg-gray-50 flex items-center justify-end gap-3"},[e("button",{staticClass:"inline-flex items-center rounded-xl px-3 py-2 text-xs font-medium text-gray-600 hover:bg-gray-100",attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[t._v("\n          Փակել\n        ")]),t._v(" "),e("button",{staticClass:"inline-flex items-center rounded-xl px-4 py-2 text-xs font-semibold text-white bg-indigo-600 hover:bg-indigo-700 focus:ring-2 focus:ring-indigo-500",attrs:{type:"button",disabled:t.saving},on:{click:function(e){return t.$emit("save")}}},[t.saving?e("span",{staticClass:"mr-2 h-4 w-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):t._e(),t._v("\n          Պահպանել փոփոխությունները\n        ")])])])]):t._e()])},[],!1,null,"9994a4ca",null);e.default=component.exports},738:function(t,e,r){"use strict";r(692)},739:function(t,e,r){var n=r(56)(function(i){return i[1]});n.push([t.i,".fade-enter-active[data-v-2776b5ed],.fade-leave-active[data-v-2776b5ed]{transition:opacity .2s ease}.fade-enter[data-v-2776b5ed],.fade-leave-to[data-v-2776b5ed]{opacity:0}",""]),n.locals={},t.exports=n},784:function(t,e,r){"use strict";r.r(e);r(33),r(23),r(49),r(17),r(8),r(18),r(78);var n=r(15),o=r(1),c=(r(9),r(44),r(38),r(41),r(189),r(27),r(24),r(39),r(40),r(599),r(52),r(25),r(574),r(600),r(601),r(602),r(603),r(604),r(605),r(606),r(607),r(608),r(609),r(610),r(611),r(612),r(613),r(614),r(615),r(30),r(26),r(96));function l(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function d(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?l(Object(r),!0).forEach(function(e){Object(n.a)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var f={components:{UserPermissionsModal:r(715).default},layout:"admin",middleware:["role-guard"],meta:{role:"admin"},asyncData:function(t){return Object(o.a)(regeneratorRuntime.mark(function e(){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.store,e.next=1,Promise.all([r.dispatch("users/fetchUsers"),r.dispatch("roles/fetchRoles")]);case 1:case"end":return e.stop()}},e)}))()},data:function(){return{search:"",typeFilter:"",roleFilter:"",showPermissionModal:!1,selectedUser:null,permissionLoading:!1,permissionSaving:!1,permissionsRaw:[],userPermissionIds:[],rolePermissionIds:[],openPermissionGroups:[]}},computed:d(d(d({},Object(c.c)("users",{users:"allUsers"})),Object(c.c)("roles",{roles:"roles"})),{},{normalizedUsers:function(){return(this.users||[]).map(function(u){var t=u.role&&"authenticatedUser"===u.role.name||!!u.client;return{id:u.id,name:u.name,email:u.email,type:t?"client":"worker",roleName:u.role?u.role.name:null,roleLabel:u.role?u.role.value||u.role.name:null}})},filteredUsers:function(){var t=this.search.toLowerCase().trim(),e=this.typeFilter,r=this.roleFilter;return this.normalizedUsers.filter(function(u){var n=!t||u.name&&u.name.toLowerCase().includes(t)||u.email&&u.email.toLowerCase().includes(t),o=!e||u.type===e,c=!r||u.roleName&&u.roleName===r;return n&&o&&c})},permissionGroups:function(){var t={};return this.permissionsRaw.forEach(function(e){var r=e.group||"general";t[r]||(t[r]=[]),t[r].push(e)}),t},permissionGroupsKeys:function(){return Object.keys(this.permissionGroups)}}),methods:d(d(d({},Object(c.b)("users",["fetchUsers"])),Object(c.b)("roles",["fetchRoles"])),{},{applyFilters:function(){this.fetchUsers()},resetFilters:function(){this.search="",this.typeFilter="",this.roleFilter=""},openPermissionModal:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark(function r(){var n,o;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return e.selectedUser=t,e.showPermissionModal=!0,e.permissionLoading=!0,e.permissionsRaw=[],e.userPermissionIds=[],e.rolePermissionIds=[],e.openPermissionGroups=[],r.prev=1,r.next=2,e.$axios.$get("/api/users/".concat(t.id,"/permissions"));case 2:n=r.sent,e.permissionsRaw=n.permissions||[],e.userPermissionIds=n.user_permission_ids||[],e.rolePermissionIds=n.role_permission_ids||[],e.openPermissionGroups=e.permissionGroupsKeys.slice(),r.next=4;break;case 3:r.prev=3,o=r.catch(1),console.error(o);case 4:return r.prev=4,e.permissionLoading=!1,r.finish(4);case 5:case"end":return r.stop()}},r,null,[[1,3,4,5]])}))()},closePermissionModal:function(){this.showPermissionModal=!1,this.selectedUser=null,this.permissionsRaw=[],this.userPermissionIds=[],this.rolePermissionIds=[],this.openPermissionGroups=[]},togglePermissionGroup:function(t){var e=this.openPermissionGroups.indexOf(t);-1===e?this.openPermissionGroups.push(t):this.openPermissionGroups.splice(e,1)},toggleUserPermission:function(t,e){var r=new Set(this.userPermissionIds);e?r.add(t):r.delete(t),this.userPermissionIds=Array.from(r)},savePermissions:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark(function e(){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.selectedUser){e.next=1;break}return e.abrupt("return");case 1:return t.permissionSaving=!0,e.prev=2,e.next=3,t.$axios.$put("/api/users/".concat(t.selectedUser.id,"/permissions"),{permissions:t.userPermissionIds});case 3:e.next=5;break;case 4:e.prev=4,r=e.catch(2),console.error(r);case 5:return e.prev=5,t.permissionSaving=!1,e.finish(5);case 6:case"end":return e.stop()}},e,null,[[2,4,5,6]])}))()}})},v=(r(738),r(32)),component=Object(v.a)(f,function(){var t=this,e=t._self._c;return e("div",{staticClass:"min-h-screen bg-gray-50"},[t._m(0),t._v(" "),e("main",{staticClass:"px-4 sm:px-6 lg:px-8 py-6"},[e("div",{staticClass:"max-w-7xl mx-auto space-y-6"},[e("div",{staticClass:"bg-white border border-gray-200 rounded-2xl shadow-sm p-4 sm:p-5 flex flex-col gap-4 sm:flex-row sm:items-end sm:justify-between"},[e("div",{staticClass:"flex-1 flex flex-col sm:flex-row gap-4"},[e("div",{staticClass:"flex-1"},[e("label",{staticClass:"block text-xs font-medium text-gray-500 mb-1"},[t._v("\n              Փնտրել (անուն / email)\n            ")]),t._v(" "),e("div",{staticClass:"relative"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"block w-full rounded-xl border-gray-300 pr-10 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm",attrs:{type:"text",placeholder:"օրինակ՝ Admin, client@mail.com"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}}),t._v(" "),e("div",{staticClass:"pointer-events-none absolute inset-y-0 right-3 flex items-center"},[e("svg",{staticClass:"h-4 w-4 text-gray-400",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[e("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-4.35-4.35M10.5 18a7.5 7.5 0 100-15 7.5 7.5 0 000 15z"}})])])])]),t._v(" "),e("div",{staticClass:"w-full sm:w-44"},[e("label",{staticClass:"block text-xs font-medium text-gray-500 mb-1"},[t._v("\n              Տեսակ\n            ")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.typeFilter,expression:"typeFilter"}],staticClass:"block w-full rounded-xl border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm",on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.typeFilter=e.target.multiple?r:r[0]}}},[e("option",{attrs:{value:""}},[t._v("Բոլորը")]),t._v(" "),e("option",{attrs:{value:"worker"}},[t._v("Աշխատակից")]),t._v(" "),e("option",{attrs:{value:"client"}},[t._v("Հաճախորդ")])])]),t._v(" "),e("div",{staticClass:"w-full sm:w-56"},[e("label",{staticClass:"block text-xs font-medium text-gray-500 mb-1"},[t._v("\n              Ռոլ\n            ")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.roleFilter,expression:"roleFilter"}],staticClass:"block w-full rounded-xl border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm",on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.roleFilter=e.target.multiple?r:r[0]}}},[e("option",{attrs:{value:""}},[t._v("Բոլորը")]),t._v(" "),t._l(t.roles||[],function(r){return e("option",{key:r.id||r.name,domProps:{value:r.name}},[t._v("\n                "+t._s(r.value||r.name)+"\n              ")])})],2)])]),t._v(" "),e("div",{staticClass:"flex items-center gap-3"},[e("button",{staticClass:"inline-flex items-center justify-center rounded-xl px-3 py-2 text-xs sm:text-sm font-medium border border-gray-300 text-gray-700 bg-white hover:bg-gray-50",attrs:{type:"button"},on:{click:t.applyFilters}},[t._v("\n            Կիրառել\n          ")]),t._v(" "),e("button",{staticClass:"inline-flex items-center justify-center rounded-xl px-3 py-2 text-xs sm:text-sm font-medium border border-transparent text-gray-500 hover:text-gray-700",attrs:{type:"button"},on:{click:t.resetFilters}},[t._v("\n            Մաքրել\n          ")])])]),t._v(" "),e("div",{staticClass:"bg-white border border-gray-200 rounded-2xl shadow-sm overflow-hidden relative"},[e("div",{staticClass:"overflow-x-auto"},[e("table",{staticClass:"min-w-full divide-y divide-gray-200 text-sm"},[t._m(1),t._v(" "),e("tbody",{staticClass:"bg-white divide-y divide-gray-100"},[t.filteredUsers.length?t._e():e("tr",[e("td",{staticClass:"px-4 sm:px-6 py-6 text-center text-gray-400 text-sm",attrs:{colspan:"5"}},[t._v("\n                  Օգտատերեր չեն գտնվել։\n                ")])]),t._v(" "),t._l(t.filteredUsers,function(r){return e("tr",{key:"".concat(r.type,"-").concat(r.id),staticClass:"hover:bg-gray-50 transition"},[e("td",{staticClass:"px-4 sm:px-6 py-3 whitespace-nowrap"},[e("div",{staticClass:"font-medium text-gray-900"},[t._v("\n                    "+t._s(r.name)+"\n                  ")])]),t._v(" "),e("td",{staticClass:"px-4 sm:px-6 py-3 whitespace-nowrap"},[e("div",{staticClass:"text-sm text-gray-700"},[t._v("\n                    "+t._s(r.email)+"\n                  ")])]),t._v(" "),e("td",{staticClass:"px-4 sm:px-6 py-3 whitespace-nowrap"},[e("span",{staticClass:"inline-flex items-center rounded-full text-xs px-2 py-0.5",class:"worker"===r.type?"bg-indigo-50 text-indigo-700":"bg-emerald-50 text-emerald-700"},[t._v("\n                    "+t._s("worker"===r.type?"Աշխատակից":"Հաճախորդ")+"\n                  ")])]),t._v(" "),e("td",{staticClass:"px-4 sm:px-6 py-3 whitespace-nowrap"},[r.roleLabel?e("span",{staticClass:"inline-flex items-center rounded-full bg-gray-100 text-gray-700 text-xs px-2 py-0.5"},[t._v("\n                    "+t._s(r.roleLabel)+"\n                  ")]):e("span",{staticClass:"inline-flex items-center rounded-full bg-gray-100 text-gray-400 text-xs px-2 py-0.5"},[t._v("\n                    Առանց role\n                  ")])]),t._v(" "),e("td",{staticClass:"px-4 sm:px-6 py-3 whitespace-nowrap text-right text-sm"},[e("div",{staticClass:"inline-flex items-center gap-2"},[e("button",{staticClass:"inline-flex items-center px-2.5 py-1.5 rounded-lg text-xs font-medium border border-indigo-100 text-indigo-700 bg-indigo-50 hover:bg-indigo-100",attrs:{type:"button"},on:{click:function(e){return t.openPermissionModal(r)}}},[t._v("\n                      Կառավարել թույլտվությունները\n                    ")])])])])})],2)])])])])]),t._v(" "),e("transition",{attrs:{name:"fade"}},[e("UserPermissionsModal",{attrs:{show:t.showPermissionModal,user:t.selectedUser,loading:t.permissionLoading,saving:t.permissionSaving,"permission-groups":t.permissionGroups,"permission-groups-keys":t.permissionGroupsKeys,"user-permission-ids":t.userPermissionIds,"open-groups":t.openPermissionGroups},on:{close:t.closePermissionModal,"toggle-group":t.togglePermissionGroup,"toggle-permission":t.toggleUserPermission,save:t.savePermissions}})],1)],1)},[function(){var t=this,e=t._self._c;return e("header",{staticClass:"px-4 sm:px-6 lg:px-8 py-6 border-b bg-white"},[e("div",{staticClass:"max-w-7xl mx-auto flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},[e("div",[e("h1",{staticClass:"text-2xl sm:text-3xl font-bold text-gray-900"},[t._v("\n          Օգտատերերի կառավարում\n        ")]),t._v(" "),e("p",{staticClass:"mt-1 text-sm text-gray-500"},[t._v("\n          Դիտիր, ֆիլտրիր և կառավարիր բոլոր օգտատերերին՝ աշխատակիցներ և\n          հաճախորդներ։\n        ")])])])])},function(){var t=this,e=t._self._c;return e("thead",{staticClass:"bg-gray-50"},[e("tr",[e("th",{staticClass:"px-4 sm:px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider"},[t._v("\n                  Անուն\n                ")]),t._v(" "),e("th",{staticClass:"px-4 sm:px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider"},[t._v("\n                  Email\n                ")]),t._v(" "),e("th",{staticClass:"px-4 sm:px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider"},[t._v("\n                  Տեսակ\n                ")]),t._v(" "),e("th",{staticClass:"px-4 sm:px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider"},[t._v("\n                  Ռոլ\n                ")]),t._v(" "),e("th",{staticClass:"px-4 sm:px-6 py-3 text-right text-xs font-semibold text-gray-500 uppercase tracking-wider"},[t._v("\n                  Գործողություններ\n                ")])])])}],!1,null,"2776b5ed",null);e.default=component.exports}}]);